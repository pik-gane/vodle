{"version":3,"file":"src_app_settings_settings_module_ts.js","mappings":"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","sources":["./src/app/settings/settings.module.ts","./src/app/settings/settings.page.scss","./src/app/settings/settings-routing.module.ts","./src/app/settings/settings.page.ts"],"sourcesContent":["/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { SettingsPageRoutingModule } from './settings-routing.module';\r\nimport { SharedcomponentsModule } from '../sharedcomponents/sharedcomponents.module';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    SettingsPageRoutingModule,\r\n    SharedcomponentsModule,\r\n    TranslateModule.forChild(),\r\n    SettingsPage\r\n  ]\r\n})\r\nexport class SettingsPageModule {}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@charset \"UTF-8\";\n/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/settings/settings.page.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAAhB;;;;;;;;;;;;;;;;;CAAA\",\"sourcesContent\":[\"/*\\r\\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\\r\\n\\r\\nThis file is part of vodle.\\r\\n\\r\\nvodle is free software: you can redistribute it and/or modify it under the \\r\\nterms of the GNU Affero General Public License as published by the Free \\r\\nSoftware Foundation, either version 3 of the License, or (at your option) \\r\\nany later version.\\r\\n\\r\\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \\r\\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \\r\\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \\r\\ndetails.\\r\\n\\r\\nYou should have received a copy of the GNU Affero General Public License \\r\\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \\r\\n*/\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SettingsPageRoutingModule {}\r\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { Component, OnInit, ViewChild, ViewChildren, QueryList } from '@angular/core';\r\nimport { Validators, UntypedFormBuilder, UntypedFormGroup, UntypedFormControl, ValidationErrors, AbstractControl } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { IonInput, IonSelect } from '@ionic/angular';\r\n\r\nimport { GlobalService } from \"../global.service\";\r\nimport { SelectServerComponent } from '../sharedcomponents/select-server/select-server.component';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n/*\r\nTODO:\r\n- when changing password or server, alert that user needs to update password or server on other devices as well\r\n*/\r\n\r\n\r\n// PAGE:\r\nimport { SharedcomponentsModule } from '../sharedcomponents/sharedcomponents.module';\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CommonModule } from '@angular/common';\r\n@Component({\r\n  imports: [ CommonModule, IonicModule, TranslateModule, ReactiveFormsModule, FormsModule, SharedcomponentsModule ],\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.page.html',\r\n  styleUrls: ['./settings.page.scss']\r\n})\r\nexport class SettingsPage implements OnInit {\r\n\r\n  // ATTRIBUTES:\r\n\r\n  E = environment;\r\n  \r\n  // template components:\r\n\r\n  @ViewChild(IonInput, { static: false }) input_retype_password: IonInput;\r\n  @ViewChild(SelectServerComponent, { static: false }) select_server: SelectServerComponent;\r\n  @ViewChildren(IonSelect) ionSelects: QueryList<IonSelect>;\r\n\r\n  // form:\r\n\r\n  formGroup: UntypedFormGroup;\r\n  editing_email: boolean;\r\n  editing_password: boolean;\r\n  showing_password: boolean;\r\n  advanced_expanded: boolean;\r\n  notify_of: { \r\n    delegation_accepted?: boolean,\r\n    delegation_declined?: boolean,\r\n    new_option?: boolean,\r\n    poll_closing_soon?:boolean,\r\n    poll_closed?: boolean\r\n  };\r\n\r\n  // LIFECYCLE:\r\n\r\n  ready = false;  \r\n\r\n  constructor(\r\n      public formBuilder: UntypedFormBuilder,\r\n      public translate: TranslateService,\r\n      public G: GlobalService) { \r\n    this.G.L.entry(\"SettingsPage.constructor\");\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.G.L.entry(\"SettingsPage.ngOnInit\");\r\n    this.formGroup = this.formBuilder.group({\r\n      email: new UntypedFormControl('', Validators.compose([Validators.required, Validators.email])),\r\n      pw: this.formBuilder.group({\r\n        password: new UntypedFormControl('', Validators.compose([\r\n          Validators.required,\r\n          Validators.minLength(8),\r\n          Validators.pattern(this.G.S.password_regexp)\r\n        ])),\r\n        confirm_password: new UntypedFormControl('', Validators.required),\r\n      }, {\r\n        validators: [this.G.S.passwords_match]\r\n      }),\r\n      language: new UntypedFormControl('', Validators.required),\r\n      theme: new UntypedFormControl('', Validators.required),\r\n      default_wap: new UntypedFormControl('')\r\n    });\r\n  }\r\n  \r\n  ionViewWillEnter() {\r\n    this.G.L.entry(\"SettingsPage.ionViewWillEnter\");\r\n    this.G.D.page = this;\r\n    this.editing_email = false;\r\n    this.editing_password = false;\r\n    this.showing_password = false;\r\n    this.advanced_expanded = false;\r\n    this.notify_of = {};\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.G.L.entry(\"SettingsPage.ionViewDidEnter\");\r\n    if (this.G.D.ready && !this.ready) this.onDataReady();\r\n  }\r\n\r\n  onDataReady() {\r\n    // called when DataService initialization was slower than view initialization\r\n    this.G.L.entry(\"SettingsPage.onDataReady\");\r\n    this.ready = true;\r\n  }\r\n\r\n  onSelectServerReady(select_server:SelectServerComponent) {\r\n    // called by SelectServerComponent is ready\r\n    this.select_server = select_server;\r\n    this.fill_form();\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    this.G.L.entry(\"SettingsPage.ionViewDidLeave\");\r\n    this.G.D.save_state();\r\n    this.G.L.exit(\"SettingsPage.ionViewDidLeave\");\r\n  }\r\n\r\n  // OTHER HOOKS:\r\n  \r\n  // for DataService:\r\n\r\n  onDataChange() {\r\n    // called whenever data stored in database has changed\r\n    this.G.L.entry(\"SettingsPage.onDataChange\");\r\n    this.fill_form();\r\n  }\r\n\r\n  // for form actions:\r\n\r\n  set_email() {\r\n    let c = this.formGroup.get('email');\r\n    if (c.valid) this.G.S.email = c.value; // will trigger data move\r\n  }\r\n  set_password() {\r\n    let fg = this.formGroup.get('pw');\r\n    if (fg.valid) this.G.S.password = fg.get('password').value; // will trigger data move\r\n  }\r\n  set_language() {\r\n    let c = this.formGroup.get('language');\r\n    if (c.valid) this.G.S.language = c.value;\r\n  }\r\n  set_theme() {\r\n    let c = this.formGroup.get('theme');\r\n    if (c.valid) this.G.S.theme = c.value;\r\n  }\r\n  set_default_wap() {\r\n    let c = this.formGroup.get('default_wap');\r\n    this.G.S.default_wap = c.value;\r\n  }\r\n\r\n  // selectServer component hooks:\r\n\r\n  set_db(value: string) {\r\n    this.G.S.db = value;\r\n  }\r\n  set_db_from_pid(value: string) {\r\n    this.G.S.db_from_pid = value;\r\n  }\r\n  set_db_custom_server_url(value: string) {\r\n    this.G.S.db_custom_server_url = value;\r\n  }\r\n  set_db_custom_password(value: string) {\r\n    this.G.S.db_custom_password = value;\r\n  }\r\n\r\n  // OTHER METHODS:\r\n\r\n  private fill_form() {\r\n    this.G.L.entry(\"SettingsPage.fill_form\");\r\n    // fill form fields with values from data or defaults\r\n    const preferred_lang = navigator.language.slice(0,2);\r\n    this.formGroup.setValue({\r\n      email: this.G.S.email||'',\r\n      pw: {\r\n        password: this.G.S.password||'',\r\n        confirm_password: this.G.S.password||'',\r\n      },\r\n      language: this.G.S.language||(this.translate.langs.includes(preferred_lang)?preferred_lang:'en'),\r\n      theme: this.G.S.theme||'light',\r\n      default_wap: this.G.S.default_wap||0\r\n    });\r\n    this.select_server.selectServerFormGroup.setValue({\r\n      db: this.G.S.db||'',\r\n      db_from_pid: this.G.S.db_from_pid||'',\r\n      db_custom_server_url: this.G.S.db_custom_server_url||'',\r\n      db_custom_password: this.G.S.db_custom_password||'',\r\n    });\r\n    for (const cls of this.G.S.notification_classes) {\r\n      this.notify_of[cls] = this.G.S.get_notify_of(cls);\r\n    }\r\n  }\r\n\r\n  notify_changed() {\r\n    for (const [cls, value] of Object.entries(this.notify_of)) {\r\n      this.G.S.set_notify_of(cls, value as boolean);\r\n      this.G.L.trace(\"SettingsPage.notify_changed\", cls, value);\r\n    }\r\n  }\r\n\r\n}\r\n"],"names":["NgModule","CommonModule","FormsModule","ReactiveFormsModule","IonicModule","TranslateModule","SettingsPageRoutingModule","SharedcomponentsModule","SettingsPage","SettingsPageModule","__decorate","imports","forChild","RouterModule","routes","path","component","exports","Component","ViewChild","ViewChildren","Validators","UntypedFormBuilder","UntypedFormControl","TranslateService","IonInput","IonSelect","GlobalService","SelectServerComponent","environment","constructor","formBuilder","translate","G","E","ready","L","entry","ngOnInit","formGroup","group","email","compose","required","pw","password","minLength","pattern","S","password_regexp","confirm_password","validators","passwords_match","language","theme","default_wap","ionViewWillEnter","D","page","editing_email","editing_password","showing_password","advanced_expanded","notify_of","ionViewDidEnter","onDataReady","onSelectServerReady","select_server","fill_form","ionViewDidLeave","save_state","exit","onDataChange","set_email","c","get","valid","value","set_password","fg","set_language","set_theme","set_default_wap","set_db","db","set_db_from_pid","db_from_pid","set_db_custom_server_url","db_custom_server_url","set_db_custom_password","db_custom_password","preferred_lang","navigator","slice","setValue","langs","includes","selectServerFormGroup","cls","notification_classes","get_notify_of","notify_changed","Object","entries","set_notify_of","trace","args","static","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}