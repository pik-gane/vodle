{"version":3,"file":"default-src_app_delegation-dialog_delegation-dialog_module_ts.js","mappings":"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","sources":["./src/app/delegation-dialog/delegation-dialog-routing.module.ts","./src/app/delegation-dialog/delegation-dialog.module.ts","./src/app/delegation-dialog/delegation-dialog.page.ts","./node_modules/@capacitor/share/dist/esm/index.js"],"sourcesContent":["/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DelegationDialogPage } from './delegation-dialog.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DelegationDialogPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DelegationDialogPageRoutingModule {}\n","/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DelegationDialogPageRoutingModule } from './delegation-dialog-routing.module';\n\nimport { DelegationDialogPage } from './delegation-dialog.page';\nexport { DelegationDialogPage } from './delegation-dialog.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DelegationDialogPageRoutingModule,\n    TranslateModule.forChild()\n  ],\n  declarations: [DelegationDialogPage],\n  exports: [DelegationDialogPage]\n})\nexport class DelegationDialogPageModule {}\n","/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\nimport { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { Validators, UntypedFormBuilder, UntypedFormGroup, UntypedFormControl, ValidationErrors, AbstractControl } from '@angular/forms';\nimport { IonInput, PopoverController } from '@ionic/angular';\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { Capacitor } from '@capacitor/core';\nimport { Share } from '@capacitor/share';\nimport { LocalNotifications } from '@capacitor/local-notifications';\n\nimport { GlobalService } from \"../global.service\";\nimport { PollPage } from '../poll/poll.module';  \nimport { Poll } from '../poll.service';\nimport { del_agreement_t, del_request_t } from '../data.service';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-delegation-dialog',\n  templateUrl: './delegation-dialog.page.html',\n  styleUrls: ['./delegation-dialog.page.scss'],\n})\nexport class DelegationDialogPage implements OnInit {\n\n  E = environment;\n  \n  @Input() parent: PollPage;\n\n  ready = false;\n\n  can_use_web_share: boolean;\n  can_share: boolean;\n\n  formGroup: UntypedFormGroup;\n\n  p: Poll;\n  did: string;\n  request: del_request_t;\n  private_key: string;\n  agreement: del_agreement_t;\n  delegation_link: string;\n  message_title: string;\n  message_body: string;\n  mailto_url: string;\n\n  constructor(\n    private popover: PopoverController,\n    public formBuilder: UntypedFormBuilder, \n    public translate: TranslateService,\n    public G: GlobalService) { \n  }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.can_use_web_share = (typeof navigator.share === \"function\");\n    this.can_share = Capacitor.isNativePlatform() || this.can_use_web_share;\n    this.formGroup = this.formBuilder.group({\n      delegate_nickname: new UntypedFormControl('', Validators.required),\n      from: new UntypedFormControl(this.G.S.email)\n    });\n    // TODO: what if already some delegation active or pending?\n    // prepare a new delegation:\n    [this.p, this.did, this.request, this.private_key, this.agreement] = this.G.Del.prepare_delegation(this.parent.pid);\n    // TODO: make indentation in body work:\n    this.message_title = this.translate.instant('delegation-request.message-subject', {due: this.G.D.format_date(this.p.due)});\n    this.update_request();\n    this.ready = true;\n  }\n\n  @ViewChild('focus_element', { static: false }) focus_element: IonInput;\n\n  ionViewDidEnter() {\n    setTimeout(() => this.focus_element.setFocus(), 100);\n  }\n\n  delegate_nickname_changed() {\n    const delegate_nickname = this.formGroup.get('delegate_nickname').value;\n    this.G.D.setp(this.p.pid, \"del_nickname.\" + this.did, delegate_nickname);\n    this.update_request();\n  }\n\n  from_changed() {\n    const from = this.formGroup.get('from').value;\n    this.G.D.setp(this.p.pid, \"del_from.\" + this.did, from);\n    this.set_delegation_link(from);\n    this.update_request();\n  }\n\n  update_request() {\n    this.G.L.entry(\"DelegationDialogPage.update_request\");\n    this.mailto_url = \"mailto:\" + encodeURIComponent(this.formGroup.get('delegate_nickname').value) + \"?subject=\" + encodeURIComponent(this.message_title) + \"&body=\" + encodeURIComponent(this.message_body); \n  }\n\n  ClosePopover()\n  {\n    this.popover.dismiss();\n  }\n\n  validation_messages = {\n    'delegate_nickname': [\n      { type: 'required', message: 'validation.delegate-nickname-required' },\n    ],\n    'from': []\n  }\n\n  set_delegation_link(from: string) {\n    this.delegation_link = this.G.Del.get_delegation_link(this.parent.pid, this.did, from, this.private_key);\n    this.message_body = (this.translate.instant('delegation-request.message-body-greeting') + \"\\n\\n\" \n                + this.translate.instant('delegation-request.message-body-before-title') + \"\\n\\n\"\n                + String.fromCharCode(160).repeat(4) + this.p.title + \".\\n\\n\"\n                + this.translate.instant('delegation-request.message-body-closes', {due: this.G.D.format_date(this.p.due)}) + \"\\n\\n\"\n                + this.translate.instant('delegation-request.message-body-explanation') + \"\\n\\n\" \n                + this.translate.instant('delegation-request.message-body-before-link') + \"\\n\\n\" \n                + String.fromCharCode(160).repeat(4) + this.delegation_link + \"\\n\\n\"\n                + this.translate.instant('delegation-request.message-body-dont-share') + \"\\n\\n\"\n                + this.translate.instant('delegation-request.message-body-regards'));\n  }\n\n  share_button_clicked() {\n    this.G.L.entry(\"DelegationDialogPage.share_button_clicked\");\n    this.delegate_nickname_changed();\n    this.from_changed();\n    Share.share({\n      title: this.message_title,\n      text: this.message_body,\n//      url: this.delegation_link, // not added since contained in body, otherwise will appear twice...\n      dialogTitle: 'Share vodle delegation link',\n    }).then(res => {\n      this.G.L.info(\"DelegationDialogPage.share_button_clicked succeeded\", res);\n      this.G.Del.after_request_was_sent(this.parent.pid, this.did, this.request, this.private_key, this.agreement);\n      this.popover.dismiss();\n    }).catch(err => {\n      this.G.L.error(\"DelegationDialogPage.share_button_clicked failed\", err);\n    });\n  }\n\n  copy_button_clicked() {\n    this.G.L.entry(\"DelegationDialogPage.copy_button_clicked\");\n    this.delegate_nickname_changed();\n    this.from_changed();\n    window.navigator.clipboard.writeText(this.delegation_link);\n    this.G.Del.after_request_was_sent(this.parent.pid, this.did, this.request, this.private_key, this.agreement);\n    LocalNotifications.schedule({\n      notifications: [{\n        title: this.translate.instant(\"delegation-request.notification-copied-link-title\"),\n        body: this.translate.instant(\"delegation-request.notification-copied-link-body\", \n                                     {nickname: this.formGroup.get('delegate_nickname').value}),\n        id: null\n      }]\n    })\n    .then(res => {\n      this.G.L.trace(\"DelegationDialogPage.copy_button_clicked localNotifications.schedule succeeded:\", res);\n    }).catch(err => {\n      this.G.L.warn(\"DelegationDialogPage.copy_button_clicked localNotifications.schedule failed:\", err);\n    });\n    this.parent.update_delegation_info();\n    this.popover.dismiss();\n    this.G.L.exit(\"DelegationDialogPage.copy_button_clicked\");\n  }\n\n  email_button_clicked(ev: MouseEvent) {\n    this.G.L.entry(\"DelegationDialogPage.email_button_clicked\");\n    this.delegate_nickname_changed();\n    this.from_changed();\n    this.G.Del.after_request_was_sent(this.parent.pid, this.did, this.request, this.private_key, this.agreement);\n    this.parent.update_delegation_info();\n    this.popover.dismiss();\n    this.G.L.exit(\"DelegationDialogPage.email_button_clicked\");\n  }\n  \n  close() {\n    this.popover.dismiss();\n  }\n}\n","import { registerPlugin } from '@capacitor/core';\nconst Share = registerPlugin('Share', {\n    web: () => import('./web').then(m => new m.ShareWeb()),\n});\nexport * from './definitions';\nexport { Share };\n"],"names":["registerPlugin","Share","web","then","m","ShareWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[3]}