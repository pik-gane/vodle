;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-mustache",ev:"0.1",l:!1,f:function(t,e){!function(){function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(Object(i),!0).forEach((function(n){e(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t,e){for(var n=[],r=0,i=0;i<t.length;i++){var o=t[i];e(o,i,t)?n.push(o):(r<i&&(t[r]=o),r++)}return r<t.length&&(t.length=r),n}Array.isArray;var s=Object.prototype;function c(t){var e=Object.create(null);return t&&Object.assign(e,t),e}function f(t){return 1==(null==t?void 0:t.nodeType)}function m(t){return f(t)?(t=t).tagName.toLowerCase()+(t.id?"#".concat(t.id):""):t}function h(t,e,n,r,i,o,a,u,l,s,c){return t}function d(t,e,n,r,i,o,a,u,s,c,f){return function(t,e){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(e)return e;t&&-1==i.indexOf(t)&&(i+=t);for(var o=3,a=i.split("%s"),u=a.shift(),s=[u];a.length;){var c=arguments[o++],f=a.shift();u+=m(c)+f,s.push(c,f.trim())}var h=new Error(u);throw h.messageArray=l(s,(function(t){return""!==t})),null===(n=(r=self).__AMP_REPORT_ERROR)||void 0===n||n.call(r,h),h}("​​​",t,e,n,r,i,o,a,u,s,c,f)}s.hasOwnProperty,s.toString;var p=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(t)}catch(t){return e}}var b=self.AMP_CONFIG||{},g=("string"==typeof b.thirdPartyFrameRegex?new RegExp(b.thirdPartyFrameRegex):b.thirdPartyFrameRegex)||/^d-\d+\.ampproject\.net$/,E=("string"==typeof b.cdnProxyRegex?new RegExp(b.cdnProxyRegex):b.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function T(t){if(!self.document||!self.document.head)return null;if(self.location&&E.test(self.location.origin))return null;var e=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return e&&e.getAttribute("content")||null}var L={thirdParty:b.thirdPartyUrl||"https://3p.ampproject.net",thirdPartyFrameHost:b.thirdPartyFrameHost||"ampproject.net",thirdPartyFrameRegex:g,cdn:b.cdnUrl||T("runtime-host")||"https://cdn.ampproject.org",cdnProxyRegex:E,localhostRegex:/^https?:\/\/localhost(:\d+)?$/,errorReporting:b.errorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",betaErrorReporting:b.betaErrorReportingUrl||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",localDev:b.localDev||!1,trustedViewerHosts:[/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,/(^|\.)gmail\.(com|dev)$/],geoApi:b.geoApiUrl||T("amp-geo-api")};self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var M=self.__AMP_LOG;function H(t){return M.user||(M.user=w()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(M.user.win,t)?M.userForEmbed||(M.userForEmbed=w()):M.user}function w(t){return function(t,e){throw new Error("failed to call initLogConstructor")}()}function y(t,e,n,r,i,o,a,u,l,s,c){return t}function k(t,e,n,r,i,o,a,u,l,s,c){return H().assert(t,e,n,r,i,o,a,u,l,s,c)}var x={};!function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function r(t){return"function"==typeof t}function o(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function a(t,e){return null!=t&&"object"===i(t)&&Object.prototype.hasOwnProperty.call(t,e)}var u=RegExp.prototype.test,l=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},c=/\s*/,f=/\s+/,m=/\s*=/,h=/\s*\}/,d=/#|\^|\/|>|\{|&|=|!/;function p(t){this.string=t,this.tail=t,this.pos=0}function v(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function b(){this.cache={}}p.prototype.eos=function(){return""===this.tail},p.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},p.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},v.prototype.push=function(t){return new v(t,this)},v.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var i,o,u=this,l=!1;u;){if(t.indexOf(".")>0)for(e=u.view,i=t.split("."),o=0;null!=e&&o<i.length;){if(!a(e,i[o])){e=null;break}o===i.length-1&&(l=!0),e=e[i[o++]]}else a(u.view,t)?(e=u.view[t],l=!0):e=null;if(l)break;u=u.parent}n[t]=e}return r(e)&&(e=e.call(this.view)),e},b.prototype.clearCache=function(){this.cache={}},b.prototype.parse=function(e,r){var i=this.cache,a=i[e];return null==a&&(a=i[e]=function(e,r){if(!e)return[];var i,a,s,v,b=[],g=[],E=[],T=!1,L=!1;function M(){if(T&&!L)for(;E.length;)delete g[E.pop()];else E=[];T=!1,L=!1}!function(t){if("string"==typeof t&&(t=t.split(f,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);i=new RegExp(o(t[0])+"\\s*"),a=new RegExp("\\s*"+o(t[1])),s=new RegExp("\\s*"+o("}"+t[1]))}(r||t.tags);for(var H,w,y,k,x,R,A=new p(e);!A.eos();){if(H=A.pos,y=A.scanUntil(i))for(var j=0,O=y.length;j<O;++j)v=k=y.charAt(j),function(t,e){return u.call(t,e)}(l,v)?L=!0:E.push(g.length),g.push(["text",k,H,H+1]),H+=1,"\n"===k&&M();if(!A.scan(i))break;if(T=!0,w=A.scan(d)||"name",A.scan(c),"="===w?(y=A.scanUntil(m),A.scan(m),A.scanUntil(a)):"{"===w?(y=A.scanUntil(s),A.scan(h),A.scanUntil(a),w="&"):y=A.scanUntil(a),!A.scan(a))throw new Error("Unclosed tag at "+A.pos);if(x=[w,y,H,A.pos],g.push(x),"#"===w||"^"===w)b.push(x);else if("/"===w){if(!(R=b.pop()))throw new Error('Unopened section "'+y+'" at '+H);if(R[1]!==y)throw new Error('Unclosed section "'+R[1]+'" at '+H)}else"name"!==w&&"{"!==w&&"&"!==w||(L=!0)}if(R=b.pop())throw new Error('Unclosed section "'+R[1]+'" at '+A.pos);return function(t){for(var e,n=[],r=n,i=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(g))}(e,r)),a},b.prototype.render=function(t,e,n){var r=this.parse(t),i=e instanceof v?e:new v(e);return this.renderTokens(r,i,n,t)},b.prototype.renderTokens=function(t,e,n,r){for(var i,o,a,u="",l=0,s=t.length;l<s;++l)a=void 0,"#"===(o=(i=t[l])[0])?a=this.renderSection(i,e,n,r):"^"===o?a=this.renderInverted(i,e,n,r):">"===o?a=this.renderPartial(i,e,n,r):"&"===o?a=this.unescapedValue(i,e):"name"===o?a=this.escapedValue(i,e):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(u+=a);return u},b.prototype.renderSection=function(t,e,o,a){var u=this,l="",s=e.lookup(t[1]);if(s){if(n(s))for(var c=0,f=s.length;c<f;++c)l+=this.renderTokens(t[4],e.push(s[c]),o,a);else if("object"===i(s)||"string"==typeof s||"number"==typeof s)l+=this.renderTokens(t[4],e.push(s),o,a);else if(r(s)){if("string"!=typeof a)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(e.view,a.slice(t[3],t[5]),(function(t){return u.render(t,e,o)})))&&(l+=s)}else l+=this.renderTokens(t[4],e,o,a);return l}},b.prototype.renderInverted=function(t,e,r,i){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,r,i)},b.prototype.renderPartial=function(t,e,n){if(n){var i=r(n)?n(t[1]):n[t[1]];return null!=i?this.renderTokens(this.parse(i),e,n,i):void 0}},b.prototype.unescapedValue=function(e,n){var r=n.lookup(e[1]);if(null!=r)return t.sanitizeUnescaped?t.sanitizeUnescaped(r):r},b.prototype.escapedValue=function(e,n){var r=n.lookup(e[1]);if(null!=r)return t.escape(r)},b.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.0",t.tags=["{{","}}"];var g=new b;t.clearCache=function(){return g.clearCache()},t.parse=function(t,e){return g.parse(t,e)},t.render=function(t,e,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(o=t)?"array":i(o))+'" was given as the first argument for mustache#render(template, view, partials)');var o;return g.render(t,e,r)},t.to_html=function(e,n,i,o){var a=t.render(e,n,i);if(!r(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return s[t]}))},t.sanitizeUnescaped=null,t.setUnescapedSanitizer=function(e){t.sanitizeUnescaped=e},t.Scanner=p,t.Context=v,t.Writer=b}(x);var R=x;function A(t){return t.nodeType?(n=t,e=(n.ownerDocument||n).defaultView,function(t,e){return j(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),"ampdoc")}(e)).getAmpDoc(t):t;var e,n}function j(t,e){y(function(t,e){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}(t,e));var n=function(t){var e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}(t)[e];return n.obj||(y(n.ctor),y(n.context),n.obj=new n.ctor(n.context),y(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}var O=function(){function t(t,e){var n,r,i,o;this.element=t,this.win=t.ownerDocument.defaultView||e,this.co=(n=this.element,r="viewer",j((i=A(n),(o=A(i)).isSingleDoc()?o.win:o),r)),this.compileCallback()}var e=t.prototype;return e.compileCallback=function(){},e.setHtml=function(t){},e.render=function(t){},e.renderAsString=function(t){},e.Ox=function(t,e){for(var n=t.firstChild;null!=n;n=n.nextSibling)if(3==n.nodeType){var r=n.textContent.trim();r&&e(r)}else 8==n.nodeType||f(n)&&e(n)},e.tryUnwrap=function(t){var e;return this.Ox(t,(function(t){e=void 0===e&&t.nodeType?t:null})),e||t},e.unwrapChildren=function(t){var e=this,n=[];return this.Ox(t,(function(t){if("string"==typeof t){var r=e.win.document.createElement("div");r.textContent=t,n.push(r)}else n.push(t)})),n},e.viewerCanRenderTemplates=function(){return this.co.hasCapability("viewerRenderTemplate")},t}();function S(t){return function(t,e){var n=e.documentElement;return["⚡4email","amp4email"].some((function(t){return n.hasAttribute(t)}))}(0,t)}var I=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g,C=function(){function t(t){d(t.length>0,"Srcset must have at least one source"),this.ox=t;for(var e=!1,n=!1,r=0;r<t.length;r++){var i=t[r];e=e||!!i.width,n=n||!!i.dpr}d(!(e===n),"Srcset must have width or dpr sources, but not both"),t.sort(e?U:D),this.ux=e}var e=t.prototype;return e.select=function(t,e){var n;return h(t),h(e),n=this.ux?this.sx(t*e):this.lx(e),this.ox[n].url},e.sx=function(t){for(var e=this.ox,n=0,r=1/0,i=1/0,o=0;o<e.length;o++){var a,u=null!==(a=e[o].width)&&void 0!==a?a:0,l=Math.abs(u-t);if(!(l<=1.1*r||t/i>1.2))break;n=o,r=l,i=u}return n},e.lx=function(t){for(var e=this.ox,n=0,r=1/0,i=0;i<e.length;i++){var o=Math.abs(e[i].dpr-t);if(!(o<=r))break;n=i,r=o}return n},e.getUrls=function(){return this.ox.map((function(t){return t.url}))},e.stringify=function(t){for(var e=[],n=this.ox,r=0;r<n.length;r++){var i=n[r],o=i.url;t&&(o=t(o)),this.ux?o+=" ".concat(i.width,"w"):o+=" ".concat(i.dpr,"x"),e.push(o)}return e.join(", ")},t}();function U(t,e){return d(t.width!=e.width,"Duplicate width: %s",t.width),t.width-e.width}function D(t,e){return d(t.dpr!=e.dpr,"Duplicate dpr: %s",t.dpr),t.dpr-e.dpr}var _,$,P=function(){function t(t){this.St=t,this.It=0,this.Ct=0,this.Ot=c()}var e=t.prototype;return e.has=function(t){return!!this.Ot[t]},e.get=function(t){var e=this.Ot[t];if(e)return e.access=++this.Ct,e.payload},e.put=function(t,e){this.has(t)||this.It++,this.Ot[t]={payload:e,access:this.Ct},this.Rt()},e.Rt=function(){if(!(this.It<=this.St)){var t,e=this.Ot,n=this.Ct+1;for(var r in e){var i=e[r].access;i<n&&(n=i,t=r)}void 0!==t&&(delete e[t],this.It--)}},t}(),F=new Set(["c","v","a","ad"]),N=function(t){return"string"==typeof t?q(t):t};function q(t,e){return _||(_=self.document.createElement("a"),$=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new P(100))),function(t,e,n){if(n&&n.has(e))return n.get(e);t.href=e,t.protocol||(t.href=t.href);var r,i={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:null};"/"!==i.pathname[0]&&(i.pathname="/"+i.pathname),("http:"==i.protocol&&80==i.port||"https:"==i.protocol&&443==i.port)&&(i.port="",i.host=i.hostname),r=t.origin&&"null"!=t.origin?t.origin:"data:"!=i.protocol&&i.host?i.protocol+"//"+i.host:i.href,i.origin=r;var o=i;return n&&n.put(e,o),o}(_,t,e?null:$)}function z(t){return L.cdnProxyRegex.test(N(t).origin)}function B(t,e){return e=N(e),"function"==typeof URL?new URL(t,e.href).toString():function(t,e){e=N(e);var n=q(t=t.replace(/\\/g,"/"));return t.toLowerCase().startsWith(n.protocol)?n.href:t.startsWith("//")?e.protocol+t:t.startsWith("/")?e.origin+t:e.origin+e.pathname.replace(/\/[^/]*$/,"/")+t}(t,e)}function G(t,e,n){return X(e)?function(t,e,n,r){var i;k(!("__amp_source_origin"in function(t){var e,n=c();if(!t)return n;for(;e=p.exec(t);){var r=v(e[1],e[1]),i=e[2]?v(e[2].replace(/\+/g," "),e[2]):"";n[r]=i}return n}(q(i=n).search)),"Source origin is not allowed in %s",i);var o=z(r),a=q(function(t){if(!z(t=N(t)))return t.href;var e=t.pathname.split("/"),n=e[1];k(F.has(n),"Unknown path prefix in url %s",t.href);var r=e[2],i="s"==r?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(r);return k(i.indexOf(".")>0,"Expected a . in origin %s",i),e.splice(1,"s"==r?3:2),i+e.join("/")+function(t,e){if(!t||"?"==t)return"";var n=new RegExp("[?&]".concat("(amp_(js[^&=]*|gsa|r|kit)|usqp)","\\b[^&]*"),"g"),r=t.replace(n,"").replace(/^[?&]/,"");return r?"?"+r:""}(t.search)+(t.hash||"")}(r));if("href"==e&&!n.startsWith("#"))return B(n,a);if("src"==e)return"amp-img"==t?Y(n,a,o):B(n,a);if("srcset"==e){var u;try{u=function(t){for(var e,n=[];e=I.exec(t);){var r=e[1],i=void 0,o=void 0;if(e[2]){var a=e[3].toLowerCase();if("w"==a)i=parseInt(e[2],10);else{if("x"!=a)continue;o=parseFloat(e[2])}}else o=1;n.push({url:r,width:i,dpr:o})}return new C(n)}(n)}catch(t){return H().error("URL-REWRITE","Failed to parse srcset: ",t),n}return u.stringify((function(t){return Y(t,a,o)}))}return n}(t,e,n,self.location):n}function X(t){return"src"==t||"href"==t||"xlink:href"==t||"srcset"==t}function Y(t,e,n){var r=q(B(t,e));return"data:"==r.protocol||z(r)||!n?r.href:"".concat(L.cdn,"/i/")+("https:"==r.protocol?"s/":"")+encodeURIComponent(r.host)+r.pathname+(r.search||"")+(r.hash||"")}var Z="data-amp-bind-",V={"applet":!0,"audio":!0,"base":!0,"embed":!0,"frame":!0,"frameset":!0,"iframe":!0,"img":!0,"link":!0,"meta":!0,"object":!0,"style":!0,"video":!0},Q={"amp-accordion":!0,"amp-anim":!0,"amp-bind-macro":!0,"amp-carousel":!0,"amp-fit-text":!0,"amp-img":!0,"amp-layout":!0,"amp-selector":!0,"amp-sidebar":!0,"amp-timeago":!0},W=["a","amp-img","article","aside","b","blockquote","br","caption","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","footer","h1","h2","h3","header","hr","i","ins","li","main","mark","nav","ol","p","pre","q","s","section","small","span","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","u","ul"],K=["a","article","aside","b","blockquote","br","caption","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","footer","h1","h2","h3","header","hr","i","ins","li","main","mark","nav","ol","p","pre","q","s","section","small","span","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","u","ul"],J=["amp-fx","fallback","heights","layout","min-font-size","max-font-size","on","option","placeholder","submitting","submit-success","submit-error","validation-for","verify-error","visible-when-invalid","href","style","text","subscriptions-action","subscriptions-actions","subscriptions-decorate","subscriptions-dialog","subscriptions-display","subscriptions-section","subscriptions-service","subscriptions-google-rtc","amp-nested-submenu","amp-nested-submenu-open","amp-nested-submenu-close","itemprop"],tt={"a":["rel","target"],"div":["template"],"form":["action-xhr","verify-xhr","custom-validation-reporting","target"],"input":["mask-output"],"template":["type"],"textarea":["autoexpand"]},et=["_top","_blank"],nt=/^(?:\w+script|data|blob):/i,rt=/^(?:blob):/i,it=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ot=Object.freeze({"input":{"type":/(?:image|button)/i}}),at=Object.freeze({"input":{"type":/(?:button|file|image|password)/i}}),ut=Object.freeze(["form","formaction","formmethod","formtarget","formnovalidate","formenctype"]),lt=Object.freeze({"input":ut,"textarea":ut,"select":ut}),st=Object.freeze({"amp-anim":["controls"],"form":["name"]}),ct=/!important|position\s*:\s*fixed|position\s*:\s*sticky/i;function ft(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=n?n.replace(it,""):"";if(!i){if(e.startsWith("on")&&"on"!=e)return!1;var a=o.toLowerCase();if(a.indexOf("<script")>=0||a.indexOf("</script")>=0)return!1;if(nt.test(o))return!1}if(rt.test(o))return!1;if("style"==e)return!ct.test(n);if("class"==e&&n&&/(^|\W)i-amphtml-/i.test(n))return!1;if(X(e)&&/__amp_source_origin/.test(n))return!1;var u=S(r),l=Object.assign(c(),lt,u?st:{})[t];if(l&&-1!=l.indexOf(e))return!1;var s=Object.assign(c(),ot,u?at:{})[t];if(s){var f=s[e];if(f&&-1!=n.search(f))return!1}return!0}var mt=function(){function t(t){var e=(""+t).match(m);return e?new c(f(e[1]),f(e[2]),f(e[3]),f(e[4]),f(e[5]),f(e[6]),f(e[7])):null}function e(t){return"string"==typeof t?encodeURIComponent(t):null}function n(t,e){return"string"==typeof t?encodeURI(t).replace(e,r):null}function r(t){var e=t.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(e>>4&15)+"0123456789ABCDEF".charAt(15&e)}var o=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),a=new RegExp(o),u=/^(?:\.\.\/)*(?:\.\.$)?/;function l(t){if(null===t)return null;for(var e,n=function(t){return t.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}(t),r=a;(e=n.replace(r,"$1"))!=n;n=e);return n}function s(t,e){var n=t.clone(),r=e.hasScheme();r?n.setRawScheme(e.getRawScheme()):r=e.hasCredentials(),r?n.setRawCredentials(e.getRawCredentials()):r=e.hasDomain(),r?n.setRawDomain(e.getRawDomain()):r=e.hasPort();var i=e.getRawPath(),o=l(i);if(r)n.setPort(e.getPort()),o=o&&o.replace(u,"");else if(r=!!i){if(47!==o.charCodeAt(0)){var a=l(n.getRawPath()||"").replace(u,""),s=a.lastIndexOf("/")+1;o=l((s?a.substring(0,s):"")+l(i)).replace(u,"")}}else(o=o&&o.replace(u,""))!==i&&n.setRawPath(o);return r?n.setRawPath(o):r=e.hasQuery(),r?n.setRawQuery(e.getRawQuery()):r=e.hasFragment(),r&&n.setRawFragment(e.getRawFragment()),n}function c(t,e,n,r,i,o,a){this.scheme_=t,this.credentials_=e,this.domain_=n,this.port_=r,this.path_=i,this.query_=o,this.fragment_=a,this.paramCache_=null}function f(t){return"string"==typeof t&&t.length>0?t:null}c.prototype.toString=function(){var t=[];return null!==this.scheme_&&t.push(this.scheme_,":"),null!==this.domain_&&(t.push("//"),null!==this.credentials_&&t.push(this.credentials_,"@"),t.push(this.domain_),null!==this.port_&&t.push(":",this.port_.toString())),null!==this.path_&&t.push(this.path_),null!==this.query_&&t.push("?",this.query_),null!==this.fragment_&&t.push("#",this.fragment_),t.join("")},c.prototype.clone=function(){return new c(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},c.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},c.prototype.getRawScheme=function(){return this.scheme_},c.prototype.setScheme=function(t){return this.scheme_=n(t,h),this},c.prototype.setRawScheme=function(t){return this.scheme_=t||null,this},c.prototype.hasScheme=function(){return null!==this.scheme_},c.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},c.prototype.getRawCredentials=function(){return this.credentials_},c.prototype.setCredentials=function(t){return this.credentials_=n(t,h),this},c.prototype.setRawCredentials=function(t){return this.credentials_=t||null,this},c.prototype.hasCredentials=function(){return null!==this.credentials_},c.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},c.prototype.getRawDomain=function(){return this.domain_},c.prototype.setDomain=function(t){return this.setRawDomain(t&&encodeURIComponent(t))},c.prototype.setRawDomain=function(t){return this.domain_=t||null,this.setRawPath(this.path_)},c.prototype.hasDomain=function(){return null!==this.domain_},c.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},c.prototype.setPort=function(t){if(t){if((t=Number(t))!==(65535&t))throw new Error("Bad port number "+t);this.port_=""+t}else this.port_=null;return this},c.prototype.hasPort=function(){return null!==this.port_},c.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},c.prototype.getRawPath=function(){return this.path_},c.prototype.setPath=function(t){return this.setRawPath(n(t,d))},c.prototype.setRawPath=function(t){return t?(t=String(t),this.path_=!this.domain_||/^\//.test(t)?t:"/"+t):this.path_=null,this},c.prototype.hasPath=function(){return null!==this.path_},c.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},c.prototype.getRawQuery=function(){return this.query_},c.prototype.setQuery=function(t){return this.paramCache_=null,this.query_=e(t),this},c.prototype.setRawQuery=function(t){return this.paramCache_=null,this.query_=t||null,this},c.prototype.hasQuery=function(){return null!==this.query_},c.prototype.setAllParameters=function(t){if("object"===i(t)&&!(t instanceof Array)&&(t instanceof Object||"[object Array]"!==Object.prototype.toString.call(t))){var e=[],n=-1;for(var r in t)"string"==typeof(l=t[r])&&(e[++n]=r,e[++n]=l);t=e}this.paramCache_=null;for(var o=[],a="",u=0;u<t.length;){r=t[u++];var l=t[u++];o.push(a,encodeURIComponent(r.toString())),a="&",l&&o.push("=",encodeURIComponent(l.toString()))}return this.query_=o.join(""),this},c.prototype.checkParameterCache_=function(){if(!this.paramCache_){var t=this.query_;if(t){for(var e=t.split(/[&\?]/),n=[],r=-1,i=0;i<e.length;++i){var o=e[i].match(/^([^=]*)(?:=(.*))?$/);n[++r]=decodeURIComponent(o[1]).replace(/\+/g," "),n[++r]=decodeURIComponent(o[2]||"").replace(/\+/g," ")}this.paramCache_=n}else this.paramCache_=[]}},c.prototype.setParameterValues=function(t,e){"string"==typeof e&&(e=[e]),this.checkParameterCache_();for(var n=0,r=this.paramCache_,i=[],o=0;o<r.length;o+=2)t===r[o]?n<e.length&&i.push(t,e[n++]):i.push(r[o],r[o+1]);for(;n<e.length;)i.push(t,e[n++]);return this.setAllParameters(i),this},c.prototype.removeParameter=function(t){return this.setParameterValues(t,[])},c.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},c.prototype.getParameterValues=function(t){this.checkParameterCache_();for(var e=[],n=0;n<this.paramCache_.length;n+=2)t===this.paramCache_[n]&&e.push(this.paramCache_[n+1]);return e},c.prototype.getParameterMap=function(t){this.checkParameterCache_();for(var e={},n=0;n<this.paramCache_.length;n+=2){var r=this.paramCache_[n++],i=this.paramCache_[n++];r in e?e[r].push(i):e[r]=[i]}return e},c.prototype.getParameterValue=function(t){this.checkParameterCache_();for(var e=0;e<this.paramCache_.length;e+=2)if(t===this.paramCache_[e])return this.paramCache_[e+1];return null},c.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},c.prototype.getRawFragment=function(){return this.fragment_},c.prototype.setFragment=function(t){return this.fragment_=t?encodeURIComponent(t):null,this},c.prototype.setRawFragment=function(t){return this.fragment_=t||null,this},c.prototype.hasFragment=function(){return null!==this.fragment_};var m=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),h=/[#\/\?@]/g,d=/[\#\?]/g;return c.parse=t,c.create=function(t,i,o,a,u,l,s){var f=new c(n(t,h),n(i,h),e(o),a>0?a.toString():null,n(u,d),null,e(s));return l&&("string"==typeof l?f.setRawQuery(l.replace(/[^?&=0-9A-Za-z_\-~.%]/g,r)):f.setAllParameters(l)),f},c.resolve=s,c.collapse_dots=l,c.utils={mimeTypeOf:function(e){var n=t(e);return/\.html$/.test(n.getPath())?"text/html":"application/javascript"},resolve:function(e,n){return e?s(t(e),t(n)).toString():""+n}},c}(),ht={atype:{"NONE":0,"URI":1,"URI_FRAGMENT":11,"SCRIPT":2,"STYLE":3,"HTML":12,"ID":4,"IDREF":5,"IDREFS":6,"GLOBAL_NAME":7,"LOCAL_NAME":8,"CLASSES":9,"FRAME_TARGET":10,"MEDIA_QUERY":13}};if(ht.atype=ht.atype,ht.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::ontouchcancel":2,"*::ontouchend":2,"*::ontouchenter":2,"*::ontouchleave":2,"*::ontouchmove":2,"*::ontouchstart":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::optimum":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"source::src":1,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"template::type":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0},ht.ATTRIBS=ht.ATTRIBS,ht.eflags={"OPTIONAL_ENDTAG":1,"EMPTY":2,"CDATA":4,"RCDATA":8,"UNSAFE":16,"FOLDABLE":32,"SCRIPT":64,"STYLE":128,"VIRTUALIZED":256},ht.eflags=ht.eflags,ht.ELEMENTS={"a":0,"abbr":0,"acronym":0,"address":0,"applet":272,"area":2,"article":0,"aside":0,"audio":0,"b":0,"base":274,"basefont":274,"bdi":0,"bdo":0,"big":0,"blockquote":0,"body":305,"br":2,"button":0,"canvas":0,"caption":0,"center":0,"cite":0,"code":0,"col":2,"colgroup":1,"command":2,"data":0,"datalist":0,"dd":1,"del":0,"details":0,"dfn":0,"dialog":272,"dir":0,"div":0,"dl":0,"dt":1,"em":0,"fieldset":0,"figcaption":0,"figure":0,"font":0,"footer":0,"form":0,"frame":274,"frameset":272,"h1":0,"h2":0,"h3":0,"h4":0,"h5":0,"h6":0,"head":305,"header":0,"hgroup":0,"hr":2,"html":305,"i":0,"iframe":4,"img":2,"input":2,"ins":0,"isindex":274,"kbd":0,"keygen":274,"label":0,"legend":0,"li":1,"link":274,"map":0,"mark":0,"menu":0,"meta":274,"meter":0,"nav":0,"nobr":0,"noembed":276,"noframes":276,"noscript":276,"object":272,"ol":0,"optgroup":0,"option":1,"output":0,"p":1,"param":274,"pre":0,"progress":0,"q":0,"s":0,"samp":0,"script":84,"section":0,"select":0,"small":0,"source":2,"span":0,"strike":0,"strong":0,"style":148,"sub":0,"summary":0,"sup":0,"table":0,"tbody":1,"td":1,"template":4,"textarea":8,"tfoot":1,"th":1,"thead":1,"time":0,"title":280,"tr":1,"track":2,"tt":0,"u":0,"ul":0,"var":0,"video":0,"wbr":2},ht.ELEMENTS=ht.ELEMENTS,ht.ELEMENT_DOM_INTERFACES={"a":"HTMLAnchorElement","abbr":"HTMLElement","acronym":"HTMLElement","address":"HTMLElement","applet":"HTMLAppletElement","area":"HTMLAreaElement","article":"HTMLElement","aside":"HTMLElement","audio":"HTMLAudioElement","b":"HTMLElement","base":"HTMLBaseElement","basefont":"HTMLBaseFontElement","bdi":"HTMLElement","bdo":"HTMLElement","big":"HTMLElement","blockquote":"HTMLQuoteElement","body":"HTMLBodyElement","br":"HTMLBRElement","button":"HTMLButtonElement","canvas":"HTMLCanvasElement","caption":"HTMLTableCaptionElement","center":"HTMLElement","cite":"HTMLElement","code":"HTMLElement","col":"HTMLTableColElement","colgroup":"HTMLTableColElement","command":"HTMLCommandElement","data":"HTMLElement","datalist":"HTMLDataListElement","dd":"HTMLElement","del":"HTMLModElement","details":"HTMLDetailsElement","dfn":"HTMLElement","dialog":"HTMLDialogElement","dir":"HTMLDirectoryElement","div":"HTMLDivElement","dl":"HTMLDListElement","dt":"HTMLElement","em":"HTMLElement","fieldset":"HTMLFieldSetElement","figcaption":"HTMLElement","figure":"HTMLElement","font":"HTMLFontElement","footer":"HTMLElement","form":"HTMLFormElement","frame":"HTMLFrameElement","frameset":"HTMLFrameSetElement","h1":"HTMLHeadingElement","h2":"HTMLHeadingElement","h3":"HTMLHeadingElement","h4":"HTMLHeadingElement","h5":"HTMLHeadingElement","h6":"HTMLHeadingElement","head":"HTMLHeadElement","header":"HTMLElement","hgroup":"HTMLElement","hr":"HTMLHRElement","html":"HTMLHtmlElement","i":"HTMLElement","iframe":"HTMLIFrameElement","img":"HTMLImageElement","input":"HTMLInputElement","ins":"HTMLModElement","isindex":"HTMLUnknownElement","kbd":"HTMLElement","keygen":"HTMLKeygenElement","label":"HTMLLabelElement","legend":"HTMLLegendElement","li":"HTMLLIElement","link":"HTMLLinkElement","map":"HTMLMapElement","mark":"HTMLElement","menu":"HTMLMenuElement","meta":"HTMLMetaElement","meter":"HTMLMeterElement","nav":"HTMLElement","nobr":"HTMLElement","noembed":"HTMLElement","noframes":"HTMLElement","noscript":"HTMLElement","object":"HTMLObjectElement","ol":"HTMLOListElement","optgroup":"HTMLOptGroupElement","option":"HTMLOptionElement","output":"HTMLOutputElement","p":"HTMLParagraphElement","param":"HTMLParamElement","pre":"HTMLPreElement","progress":"HTMLProgressElement","q":"HTMLQuoteElement","s":"HTMLElement","samp":"HTMLElement","script":"HTMLScriptElement","section":"HTMLElement","select":"HTMLSelectElement","small":"HTMLElement","source":"HTMLSourceElement","span":"HTMLSpanElement","strike":"HTMLElement","strong":"HTMLElement","style":"HTMLStyleElement","sub":"HTMLElement","summary":"HTMLElement","sup":"HTMLElement","table":"HTMLTableElement","tbody":"HTMLTableSectionElement","td":"HTMLTableDataCellElement","template":"HTMLTemplateElement","textarea":"HTMLTextAreaElement","tfoot":"HTMLTableSectionElement","th":"HTMLTableHeaderCellElement","thead":"HTMLTableSectionElement","time":"HTMLTimeElement","title":"HTMLTitleElement","tr":"HTMLTableRowElement","track":"HTMLTrackElement","tt":"HTMLElement","u":"HTMLElement","ul":"HTMLUListElement","var":"HTMLElement","video":"HTMLVideoElement","wbr":"HTMLElement"},ht.ELEMENT_DOM_INTERFACES=ht.ELEMENT_DOM_INTERFACES,ht.ueffects={"NOT_LOADED":0,"SAME_DOCUMENT":1,"NEW_DOCUMENT":2},ht.ueffects=ht.ueffects,ht.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1},ht.URIEFFECTS=ht.URIEFFECTS,ht.ltypes={"UNSANDBOXED":2,"SANDBOXED":1,"DATA":0},ht.ltypes=ht.ltypes,ht.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2},ht.LOADERTYPES=ht.LOADERTYPES,"i"!=="I".toLowerCase())throw"I/i problem";var dt=function(t){var e,n;"undefined"!=typeof window&&(e=window.parseCssDeclarations,n=window.sanitizeCssProperty,window.cssSchema);var r={"lt":"<","LT":"<","gt":">","GT":">","amp":"&","AMP":"&","quot":'"',"apos":"'","nbsp":" "},o=/^#(\d+)$/,a=/^#x([0-9A-Fa-f]+)$/,u=/^[A-Za-z][A-Za-z0-9]+$/,l="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null;function s(t,e){return function(t){if(r.hasOwnProperty(t))return r[t];var e=t.match(o);if(e)return String.fromCharCode(parseInt(e[1],10));if(e=t.match(a))return String.fromCharCode(parseInt(e[1],16));if(l&&u.test(t)){l.innerHTML="&"+t+";";var n=l.textContent;return r[t]=n,n}return"&"+t+";"}(e)}var c=/\0/g,f=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,m=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/;function h(t){return t.replace(f,s)}var d=/&/g,p=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,v=/[<]/g,b=/>/g,g=/\"/g;function E(t){return(""+t).replace(d,"&amp;").replace(v,"&lt;").replace(b,"&gt;").replace(g,"&#34;")}function T(t){return t.replace(p,"&amp;$1").replace(v,"&lt;").replace(b,"&gt;")}var L=new RegExp("^\\s*(\\[[-.:\\w]+\\]|[-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),M=3==="a,b".split(/(,)/).length,H=t.eflags.CDATA|t.eflags.RCDATA;function w(t){var e={cdata:t.cdata||t.cdata,comment:t.comment||t.comment,endDoc:t.endDoc||t.endDoc,endTag:t.endTag||t.endTag,pcdata:t.pcdata||t.pcdata,rcdata:t.rcdata||t.rcdata,startDoc:t.startDoc||t.startDoc,startTag:t.startTag||t.startTag};return function(t,n){return function(t,e,n){x(e,function(t){var e=/(<\/|<\!--|<[!?]|[&<>])/g;if(t+="",M)return t.split(e);for(var n,r=[],i=0;null!==(n=e.exec(t));)r.push(t.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(t.substring(i)),r}(t),0,{noMoreGT:!1,noMoreEndComments:!1},n)}(t,e,n)}}var y={};function k(t,e,n,r,i){return function(){x(t,e,n,r,i)}}function x(e,n,r,i,o){try{var a,u,l;e.startDoc&&0==r&&e.startDoc(o);for(var s=r,c=n.length;s<c;){var f=n[s++],h=n[s];switch(f){case"&":m.test(h)?(e.pcdata&&e.pcdata("&"+h,o,y,k(e,n,s,i,o)),s++):e.pcdata&&e.pcdata("&amp;",o,y,k(e,n,s,i,o));break;case"</":(a=/^([-\w:]+)[^\'\"]*/.exec(h))?a[0].length===h.length&&">"===n[s+1]?(s+=2,l=a[1].toLowerCase(),e.endTag&&e.endTag(l,o,y,k(e,n,s,i,o))):s=R(n,s,e,o,y,i):e.pcdata&&e.pcdata("&lt;/",o,y,k(e,n,s,i,o));break;case"<":if(a=/^([-\w:]+)\s*\/?/.exec(h))if(a[0].length===h.length&&">"===n[s+1]){s+=2,l=a[1].toLowerCase(),e.startTag&&e.startTag(l,[],o,y,k(e,n,s,i,o));var d=t.ELEMENTS[l];d&H&&(s=O(n,{name:l,next:s,eflags:d},e,o,y,i))}else s=A(n,s,e,o,y,i);else e.pcdata&&e.pcdata("&lt;",o,y,k(e,n,s,i,o));break;case"\x3c!--":if(!i.noMoreEndComments){for(u=s+1;u<c&&(">"!==n[u]||!/--$/.test(n[u-1]));u++);if(u<c){if(e.comment){var p=n.slice(s,u).join("");e.comment(p.substr(0,p.length-2),o,y,k(e,n,u+1,i,o))}s=u+1}else i.noMoreEndComments=!0}i.noMoreEndComments&&e.pcdata&&e.pcdata("&lt;!--",o,y,k(e,n,s,i,o));break;case"<!":if(/^\w/.test(h)){if(!i.noMoreGT){for(u=s+1;u<c&&">"!==n[u];u++);u<c?s=u+1:i.noMoreGT=!0}i.noMoreGT&&e.pcdata&&e.pcdata("&lt;!",o,y,k(e,n,s,i,o))}else e.pcdata&&e.pcdata("&lt;!",o,y,k(e,n,s,i,o));break;case"<?":if(!i.noMoreGT){for(u=s+1;u<c&&">"!==n[u];u++);u<c?s=u+1:i.noMoreGT=!0}i.noMoreGT&&e.pcdata&&e.pcdata("&lt;?",o,y,k(e,n,s,i,o));break;case">":e.pcdata&&e.pcdata("&gt;",o,y,k(e,n,s,i,o));break;case"":break;default:e.pcdata&&e.pcdata(f,o,y,k(e,n,s,i,o))}}e.endDoc&&e.endDoc(o)}catch(t){if(t!==y)throw t}}function R(t,e,n,r,i,o){var a=S(t,e);return a?(n.endTag&&n.endTag(a.name,r,i,k(n,t,e,o,r)),a.next):t.length}function A(t,e,n,r,i,o){var a=S(t,e);return a?(n.startTag&&n.startTag(a.name,a.attrs,r,i,k(n,t,a.next,o,r)),a.eflags&H?O(t,a,n,r,i,o):a.next):t.length}var j={};function O(e,n,r,i,o,a){var u=e.length;j.hasOwnProperty(n.name)||(j[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var l=j[n.name],s=n.next,c=n.next+1;c<u&&("</"!==e[c-1]||!l.test(e[c]));c++);c<u&&(c-=1);var f=e.slice(s,c).join("");if(n.eflags&t.eflags.CDATA)r.cdata&&r.cdata(f,i,o,k(r,e,c,a,i));else{if(!(n.eflags&t.eflags.RCDATA))throw new Error("bug");r.rcdata&&r.rcdata(T(f),i,o,k(r,e,c,a,i))}return c}function S(e,n){var r,i,o=/^([-\w:]+)/.exec(e[n]),a={};a.name=o[1].toLowerCase(),a.eflags=t.ELEMENTS[a.name];for(var u=e[n].substr(o[0].length),l=n+1,s=e.length;l<s&&">"!==e[l];l++)u+=e[l];if(!(s<=l)){for(var f=[];""!==u;)if(o=L.exec(u)){if(o[4]&&!o[5]||o[6]&&!o[7]){for(var m=o[4]||o[6],d=!1,p=[u,e[l++]];l<s;l++){if(d){if(">"===e[l])break}else 0<=e[l].indexOf(m)&&(d=!0);p.push(e[l])}if(s<=l)break;u=p.join("");continue}var v=o[1].toLowerCase(),b=o[2]?(void 0,34!==(i=(r=o[3]).charCodeAt(0))&&39!==i||(r=r.substr(1,r.length-2)),h(r.replace(c,""))):"";f.push(v,b),u=u.substr(o[0].length)}else u=u.replace(/^[\s\S][^a-z\s]*/,"");return a.attrs=f,a.next=l+1,a}}function I(e){var n,r,o=function(t,e){r||e.push(t)};return w({"startDoc":function(t){n=[],r=!1},"startTag":function(o,a,u){if(!r&&t.ELEMENTS.hasOwnProperty(o)){var l=t.ELEMENTS[o];if(!(l&t.eflags.FOLDABLE)){var s=e(o,a);if(s){if("object"!==i(s))throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in s))throw new Error("tagPolicy gave no attribs");var c,f;if(a=s.attribs,"tagName"in s?(f=s.tagName,c=t.ELEMENTS[f]):(f=o,c=l),l&t.eflags.OPTIONAL_ENDTAG){var m=n[n.length-1];!m||m.orig!==o||m.rep===f&&o===f||u.push("</",m.rep,">")}l&t.eflags.EMPTY||n.push({orig:o,rep:f}),u.push("<",f);for(var h=0,d=a.length;h<d;h+=2){var p=a[h],v=a[h+1];null!=v&&u.push(" ",p,'="',E(v),'"')}u.push(">"),l&t.eflags.EMPTY&&!(c&t.eflags.EMPTY)&&u.push("</",f,">")}else r=!(l&t.eflags.EMPTY)}}},"endTag":function(e,i){if(r)r=!1;else if(t.ELEMENTS.hasOwnProperty(e)){var o=t.ELEMENTS[e];if(!(o&(t.eflags.EMPTY|t.eflags.FOLDABLE))){var a;if(o&t.eflags.OPTIONAL_ENDTAG)for(a=n.length;--a>=0;){var u=n[a].orig;if(u===e)break;if(!(t.ELEMENTS[u]&t.eflags.OPTIONAL_ENDTAG))return}else for(a=n.length;--a>=0&&n[a].orig!==e;);if(a<0)return;for(var l=n.length;--l>a;){var s=n[l].rep;t.ELEMENTS[s]&t.eflags.OPTIONAL_ENDTAG||i.push("</",s,">")}a<n.length&&(e=n[a].rep),n.length=a,i.push("</",e,">")}}},"pcdata":o,"rcdata":o,"cdata":o,"endDoc":function(t){for(;n.length;n.length--)t.push("</",n[n.length-1].rep,">")}})}var C=/^(?:https?|geo|mailto|sms|tel)$/i;function U(t,e,n,r,i){if(!i)return null;try{var o=mt.parse(""+t);if(o&&(!o.hasScheme()||C.test(o.getScheme()))){var a=i(o,e,n,r);return a?a.toString():null}}catch(t){return null}return null}function D(t,e,n,r,i){if(n||t(e+" removed",{change:"removed",tagName:e}),r!==i){var o="changed";r&&!i?o="removed":!r&&i&&(o="added"),t(e+"."+n+" "+o,{change:o,tagName:e,attribName:n,oldValue:r,newValue:i})}}function _(t,e,n){var r;return r=e+"::"+n,t.hasOwnProperty(r)?t[r]:(r="*::"+n,t.hasOwnProperty(r)?t[r]:void 0)}function $(e,n){return _(t.LOADERTYPES,e,n)}function P(e,n){return _(t.URIEFFECTS,e,n)}function F(r,i,o,a,u){for(var l=0;l<i.length;l+=2){var s,c=i[l],f=i[l+1],m=f,h=null;if(s=r+"::"+c,(t.ATTRIBS.hasOwnProperty(s)||(s="*::"+c,t.ATTRIBS.hasOwnProperty(s)))&&(h=t.ATTRIBS[s]),null!==h)switch(h){case t.atype.NONE:break;case t.atype.SCRIPT:f=null,u&&D(u,r,c,m,f);break;case t.atype.STYLE:if(void 0===e){f=null,u&&D(u,r,c,m,f);break}var d=[];e(f,{"declaration":function(e,r){var i=e.toLowerCase();n(i,r,o?function(e){return U(e,t.ueffects.SAME_DOCUMENT,t.ltypes.SANDBOXED,{"TYPE":"CSS","CSS_PROP":i},o)}:null),r.length&&d.push(i+": "+r.join(" "))}}),f=d.length>0?d.join(" ; "):null,u&&D(u,r,c,m,f);break;case t.atype.ID:case t.atype.IDREF:case t.atype.IDREFS:case t.atype.GLOBAL_NAME:case t.atype.LOCAL_NAME:case t.atype.CLASSES:f=a?a(f):f,u&&D(u,r,c,m,f);break;case t.atype.URI:f=U(f,P(r,c),$(r,c),{"TYPE":"MARKUP","XML_ATTR":c,"XML_TAG":r},o),u&&D(u,r,c,m,f);break;case t.atype.URI_FRAGMENT:f&&"#"===f.charAt(0)?(f=f.substring(1),null!=(f=a?a(f):f)&&(f="#"+f)):f=null,u&&D(u,r,c,m,f);break;default:f=null,u&&D(u,r,c,m,f)}else f=null,u&&D(u,r,c,m,f);i[l+1]=f}return i}function N(e,n,r){return function(i,o){if(!(t.ELEMENTS[i]&t.eflags.UNSAFE))return{"attribs":F(i,o,e,n,r)};r&&D(r,i,void 0,void 0,void 0)}}function q(t,e){var n=[];return I(e)(t,n),n.join("")}var z={};return z.escapeAttrib=z.escapeAttrib=E,z.makeHtmlSanitizer=z.makeHtmlSanitizer=I,z.makeSaxParser=z.makeSaxParser=w,z.makeTagPolicy=z.makeTagPolicy=N,z.normalizeRCData=z.normalizeRCData=T,z.sanitize=z.sanitize=function(t,e,n,r){return q(t,N(e,n,r))},z.sanitizeAttribs=z.sanitizeAttribs=F,z.sanitizeWithPolicy=z.sanitizeWithPolicy=q,z.unescapeEntities=z.unescapeEntities=h,z}(ht),pt=(dt.sanitize,dt),vt={"br":!0,"col":!0,"hr":!0,"img":!0,"input":!0,"source":!0,"track":!0,"wbr":!0,"area":!0,"base":!0,"command":!0,"embed":!0,"keygen":!0,"link":!0,"meta":!0,"param":!0},bt=/^(data-|aria-)|^role$/i;function gt(t,e){var n=pt.makeTagPolicy((function(t){return"https"===t.getScheme()?t:null})),i=[],o=0,a=function(t){0==o&&i.push(t)},u=r({"script":!0,"svg":!0},V);return pt.makeSaxParser({"startTag":function(t,r){if(o>0)vt[t]||o++;else{for(var i=t.startsWith("amp-"),l=[],s=0;s<r.length;s+=2){var c=r[s];if(c){var f="["==c[0]&&"]"==c[c.length-1],m=c.startsWith(Z);f&&(r[s]=c.slice(1,-1)),(f||m)&&l.push(s)}}if(u[t])o++;else if(i)S(e)&&!Q[t]&&o++;else{var h=r.slice(0),d=n(t,r);if(d){r=d.attribs;for(var p=0;p<r.length;p+=2){var v=r[p];(J.includes(v)||0==v.search(bt)||tt[t]&&tt[t].includes(v))&&(r[p+1]=h[p+1])}}else o++;if("a"==t){for(var b=-1,g=!1,E=0;E<h.length;E+=2)"target"==h[E]?b=E+1:"href"==h[E]&&(g=null!=r[E+1]);var T=-1!=b?h[b]:null;null!=T?(T=T.toLowerCase(),-1!=et.indexOf(T)?r[b]=T:r[b]="_top"):g&&r.push("target","_top")}}if(o>0)vt[t]&&o--;else{l.some((function(t){return!!r[t+1]}))&&r.push("i-amphtml-binding",""),a("<"),a(t);for(var L=0;L<r.length;L+=2){var M=r[L],w=r[L+1];if(ft(t,M,w,e,!1)){if(a(" "),l.includes(L)&&!M.startsWith(Z)?a("[".concat(M,"]")):a(M),a('="'),w){var y=l.includes(L)?w:G(t,M,w);a(pt.escapeAttrib(y))}a('"')}else H().error("sanitizer",'Removing "'.concat(M,'" attribute with invalid ')+"value in <".concat(t," ").concat(M,'="').concat(w,'">.'))}a(">")}}},"endTag":function(t){o>0?o--:(a("</"),a(t),a(">"))},"pcdata":a,"rcdata":a,"cdata":a})(t),i.join("")}var Et="amp-mustache",Tt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&o(t,e)}(s,t);var e,n,l=(e=s,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,r=a(e);if(n){var i=a(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return u(this,t)});function s(t,e){var n;return n=l.call(this,t,e),R.setUnescapedSanitizer((function(t){return function(t,e){return pt.sanitizeWithPolicy(t,(function(t,n){return function(t,e,n){if("template"==t)for(var r=0;r<e.length;r+=2)if("type"==e[r]&&"amp-mustache"==e[r+1])return{tagName:t,attribs:["type","amp-mustache"]};if(S(n)){if(!K.includes(t))return null}else if(!W.includes(t))return null;return{tagName:t,attribs:e}}(t,n,e)}))}(t,n.win.document)})),H().warn(Et,'The extension "amp-mustache-0.1.js" is deprecated. Please use a more recent version of this extension.'),n}var c=s.prototype;return c.compileCallback=function(){this.viewerCanRenderTemplates()||(this.wx={},this.xx=this.kx(),R.parse(this.xx,void 0))},c.kx=function(){if("TEMPLATE"==this.element.tagName){var t=function(t){if("content"in t)return t.content.cloneNode(!0);var e=t.ownerDocument.createDocumentFragment();return function(t,e){for(var n=e.ownerDocument.createDocumentFragment(),r=t.firstChild;r;r=r.nextSibling)n.appendChild(r.cloneNode(!0));e.appendChild(n)}(t,e),e}(this.element);this.jx(t);var e=this.element.ownerDocument.createElement("div");return e.appendChild(t),e.innerHTML}return"SCRIPT"==this.element.tagName?this.element.textContent:""},c.jx=function(t){var e=this;!function(t,e){for(var n=t.length,r=0;r<n;r++)e(t[r],r)}(t.querySelectorAll("template"),(function(t,n){var r="__AMP_NESTED_TEMPLATE_".concat(n);e.wx[r]=t.outerHTML;var i=e.element.ownerDocument.createTextNode("{{{".concat(r,"}}}"));t.parentNode.replaceChild(i,t)}))},c.setHtml=function(t){var e="<div>".concat(t,"</div>"),n=this.eE(e);return this.unwrapChildren(n)},c.render=function(t){var e=this.tc(t);return this.eE(e)},c.renderAsString=function(t){return gt(this.tc(t),this.win.document)},c.tc=function(t){var e=t;return"object"===i(t)&&(e=r(r({},t),this.wx)),R.render(this.xx,e,void 0)},c.eE=function(t){var e=this.win.document,n=e.createElement("div"),r=gt(t,e);return n.innerHTML=r,this.tryUnwrap(n)},s}(O);t.registerTemplate(Et,Tt)}();
/*!
* mustache.js - Logic-less {{mustache}} templates with JavaScript
* http://github.com/janl/mustache.js
*/
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-mustache-0.1.js.map