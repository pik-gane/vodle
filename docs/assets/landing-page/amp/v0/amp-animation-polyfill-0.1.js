;
(self.AMP=self.AMP||[]).push({m:0,v:"2203281422000",n:"amp-animation-polyfill",ev:"0.1",l:!0,f:function(t,r){!function(){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t){var n,i,e,o,u=t.document;o={},function(t,r){function n(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=d}function i(){return t.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function e(r,i,e){var o=new n;return i&&(o.fill="both",o.duration="auto"),"number"!=typeof r||isNaN(r)?void 0!==r&&Object.getOwnPropertyNames(r).forEach((function(n){if("auto"!=r[n]){if(("number"==typeof o[n]||"duration"==n)&&("number"!=typeof r[n]||isNaN(r[n])))return;if("fill"==n&&-1==c.indexOf(r[n]))return;if("direction"==n&&-1==l.indexOf(r[n]))return;if("playbackRate"==n&&1!==r[n]&&t.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;o[n]=r[n]}})):o.duration=r,o}function o(t,r,n,i){return t<0||t>1||n<0||n>1?d:function(e){function o(t,r,n){return 3*t*(1-n)*(1-n)*n+3*r*(1-n)*n*n+n*n*n}if(e<=0){var u=0;return t>0?u=r/t:!r&&n>0&&(u=i/n),u*e}if(e>=1){var a=0;return n<1?a=(i-1)/(n-1):1==n&&t<1&&(a=(r-1)/(t-1)),1+a*(e-1)}for(var s=0,f=1;s<f;){var h=(s+f)/2,c=o(t,n,h);if(Math.abs(e-c)<1e-5)return o(r,i,h);c<e?s=h:f=h}return o(r,i,h)}}function a(t,r){return function(n){if(n>=1)return 1;var i=1/t;return(n+=r*i)-n%i}}function s(t){b||(b=u.createElement("div").style),b.animationTimingFunction="",b.animationTimingFunction=t;var r=b.animationTimingFunction;if(""==r&&i())throw new TypeError(t+" is not a valid value for easing");return r}function f(t){if("linear"==t)return d;var r=x.exec(t);if(r)return o.apply(this,r.slice(1).map(Number));var n=w.exec(t);if(n)return a(Number(n[1]),g);var i=N.exec(t);return i?a(Number(i[1]),{start:v,middle:p,end:g}[i[2]]):m[t]||d}function h(t,r,n){if(null==r)return T;var i=n.delay+t+n.endDelay;return r<Math.min(n.delay,i)?M:r>=Math.min(n.delay+t,i)?k:S}var c="backwards|forwards|both|none".split("|"),l="reverse|alternate|alternate-reverse".split("|"),d=function(t){return t};n.prototype={_setMember:function(r,n){this["_"+r]=n,this._effect&&(this._effect._timingInput[r]=n,this._effect._timing=t.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=t.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(t){this._setMember("delay",t)},get delay(){return this._delay},set endDelay(t){this._setMember("endDelay",t)},get endDelay(){return this._endDelay},set fill(t){this._setMember("fill",t)},get fill(){return this._fill},set iterationStart(t){if((isNaN(t)||t<0)&&i())throw new TypeError("iterationStart must be a non-negative number, received: "+t);this._setMember("iterationStart",t)},get iterationStart(){return this._iterationStart},set duration(t){if("auto"!=t&&(isNaN(t)||t<0)&&i())throw new TypeError("duration must be non-negative or auto, received: "+t);this._setMember("duration",t)},get duration(){return this._duration},set direction(t){this._setMember("direction",t)},get direction(){return this._direction},set easing(t){this._easingFunction=f(s(t)),this._setMember("easing",t)},get easing(){return this._easing},set iterations(t){if((isNaN(t)||t<0)&&i())throw new TypeError("iterations must be non-negative, received: "+t);this._setMember("iterations",t)},get iterations(){return this._iterations}};var v=1,p=.5,g=0,m={ease:o(.25,.1,.25,1),"ease-in":o(.42,0,1,1),"ease-out":o(0,0,.58,1),"ease-in-out":o(.42,0,.58,1),"step-start":a(1,v),"step-middle":a(1,p),"step-end":a(1,g)},b=null,y="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",x=new RegExp("cubic-bezier\\("+y+","+y+","+y+","+y+"\\)"),w=/steps\(\s*(\d+)\s*\)/,N=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,T=0,M=1,k=2,S=3;t.cloneTimingInput=function(t){if("number"==typeof t)return t;var r={};for(var n in t)r[n]=t[n];return r},t.makeTiming=e,t.numericTimingToObject=function(t){return"number"==typeof t&&(t=isNaN(t)?{duration:0}:{duration:t}),t},t.normalizeTimingInput=function(r,n){return e(r=t.numericTimingToObject(r),n)},t.calculateActiveDuration=function(t){return Math.abs(function(t){return 0===t.duration||0===t.iterations?0:t.duration*t.iterations}(t)/t.playbackRate)},t.calculateIterationProgress=function(t,r,n){var i=h(t,r,n),e=function(t,r,n,i,e){switch(i){case M:return"backwards"==r||"both"==r?0:null;case S:return n-e;case k:return"forwards"==r||"both"==r?t:null;case T:return null}}(t,n.fill,r,i,n.delay);if(null===e)return null;var o=function(t,r,n,i,e){var o=e;return 0===t?r!==M&&(o+=n):o+=i/t,o}(n.duration,i,n.iterations,e,n.iterationStart),u=function(t,r,n,i,e,o){var u=t===1/0?r%1:t%1;return 0!==u||n!==k||0===i||0===e&&0!==o||(u=1),u}(o,n.iterationStart,i,n.iterations,e,n.duration),a=function(t,r,n,i){return t===k&&r===1/0?1/0:1===n?Math.floor(i)-1:Math.floor(i)}(i,n.iterations,u,o),s=function(t,r,n){var i=t;if("normal"!==t&&"reverse"!==t){var e=r;"alternate-reverse"===t&&(e+=1),i="normal",e!==1/0&&e%2!=0&&(i="reverse")}return"normal"===i?n:1-n}(n.direction,a,u);return n._easingFunction(s)},t.calculatePhase=h,t.normalizeEasing=s,t.parseEasingFunction=f}(e={}),function(r,n){function i(t,r){return t in h&&h[t][r]||r}function e(t,r,n){if(!function(t){return"display"===t||0===t.lastIndexOf("animation",0)||0===t.lastIndexOf("transition",0)}(t)){var e=a[t];if(e)for(var o in s.style[t]=r,e){var u=e[o],f=s.style[u];n[u]=i(u,f)}else n[t]=i(t,r)}}function o(t){var r=[];for(var n in t)if(!(n in["easing","offset","composite"])){var i=t[n];Array.isArray(i)||(i=[i]);for(var e,o=i.length,u=0;u<o;u++)(e={}).offset="offset"in t?t.offset:1==o?1:u/(o-1),"easing"in t&&(e.easing=t.easing),"composite"in t&&(e.composite=t.composite),e[n]=i[u],r.push(e)}return r.sort((function(t,r){return t.offset-r.offset})),r}var a={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},s=u.createElementNS("http://www.w3.org/1999/xhtml","div"),f={thin:"1px",medium:"3px",thick:"5px"},h={borderBottomWidth:f,borderLeftWidth:f,borderRightWidth:f,borderTopWidth:f,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:f,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};r.convertToArrayForm=o,r.normalizeKeyframes=function(n){if(null==n)return[];t.Symbol&&Symbol.iterator&&Array.prototype.from&&n[Symbol.iterator]&&(n=Array.from(n)),Array.isArray(n)||(n=o(n));for(var i=n.map((function(t){var n={};for(var i in t){var o=t[i];if("offset"==i){if(null!=o){if(o=Number(o),!isFinite(o))throw new TypeError("Keyframe offsets must be numbers.");if(o<0||o>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==i){if("add"==o||"accumulate"==o)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=o)throw new TypeError("Invalid composite mode "+o+".")}else o="easing"==i?r.normalizeEasing(o):""+o;e(i,o,n)}return null==n.offset&&(n.offset=null),null==n.easing&&(n.easing="linear"),n})),u=!0,a=-1/0,s=0;s<i.length;s++){var f=i[s].offset;if(null!=f){if(f<a)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");a=f}else u=!1}return i=i.filter((function(t){return t.offset>=0&&t.offset<=1})),u||function(){var t=i.length;null==i[t-1].offset&&(i[t-1].offset=1),t>1&&null==i[0].offset&&(i[0].offset=0);for(var r=0,n=i[0].offset,e=1;e<t;e++){var o=i[e].offset;if(null!=o){for(var u=1;u<e-r;u++)i[r+u].offset=n+(o-n)*u/(e-r);r=e,n=o}}}(),i}}(e),i={},(n=e).isDeprecated=function(t,r,n,e){var o=e?"are":"is",u=new Date,a=new Date(r);return a.setMonth(a.getMonth()+3),!(u<a&&(t in i||console.warn("Web Animations: "+t+" "+o+" deprecated and will stop working on "+a.toDateString()+". "+n),i[t]=!0,1))},n.deprecated=function(t,r,i,e){var o=e?"are":"is";if(n.isDeprecated(t,r,i,e))throw new Error(t+" "+o+" no longer supported. "+i)},function(){if(u.documentElement.animate){var n=u.documentElement.animate([],0),i=!0;if(n&&(i=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach((function(t){void 0===n[t]&&(i=!0)}))),!i)return}!function(t,r,n){r.convertEffectInput=function(n){var i=function(t){for(var r={},n=0;n<t.length;n++)for(var i in t[n])if("offset"!=i&&"easing"!=i&&"composite"!=i){var e={offset:t[n].offset,easing:t[n].easing,value:t[n][i]};r[i]=r[i]||[],r[i].push(e)}for(var o in r){var u=r[o];if(0!=u[0].offset||1!=u[u.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return r}(t.normalizeKeyframes(n)),e=function(n){var i=[];for(var e in n)for(var o=n[e],u=0;u<o.length-1;u++){var a=u,s=u+1,f=o[a].offset,h=o[s].offset,c=f,l=h;0==u&&(c=-1/0,0==h&&(s=a)),u==o.length-2&&(l=1/0,1==f&&(a=s)),i.push({applyFrom:c,applyTo:l,startOffset:o[a].offset,endOffset:o[s].offset,easingFunction:t.parseEasingFunction(o[a].easing),property:e,interpolation:r.propertyInterpolation(e,o[a].value,o[s].value)})}return i.sort((function(t,r){return t.startOffset-r.startOffset})),i}(i);return function(t,n){if(null!=n)e.filter((function(t){return n>=t.applyFrom&&n<t.applyTo})).forEach((function(i){var e=n-i.startOffset,o=i.endOffset-i.startOffset,u=0==o?0:i.easingFunction(e/o);r.apply(t,i.property,i.interpolation(u))}));else for(var o in i)"offset"!=o&&"easing"!=o&&"composite"!=o&&r.clear(t,o)}}}(e,o),function(t,r,n){function i(t){return t.replace(/-(.)/g,(function(t,r){return r.toUpperCase()}))}function e(t,r,n){o[n]=o[n]||[],o[n].push([t,r])}var o={};r.addPropertiesHandler=function(t,r,n){for(var o=0;o<n.length;o++)e(t,r,i(n[o]))};var u={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};r.propertyInterpolation=function(n,e,a){var s=n;/-/.test(n)&&!t.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(s=i(n)),"initial"!=e&&"initial"!=a||("initial"==e&&(e=u[s]),"initial"==a&&(a=u[s]));for(var f=e==a?[]:o[s],h=0;f&&h<f.length;h++){var c=f[h][0](e),l=f[h][0](a);if(void 0!==c&&void 0!==l){var d=f[h][1](c,l);if(d){var v=r.Interpolation.apply(null,d);return function(t){return 0==t?e:1==t?a:v(t)}}}}return r.Interpolation(!1,!0,(function(t){return t?a:e}))}}(e,o),function(t,r,n){r.KeyframeEffect=function(n,i,e,o){var u,a=function(r){var n=t.calculateActiveDuration(r),i=function(i){return t.calculateIterationProgress(n,i,r)};return i._totalDuration=r.delay+n+r.endDelay,i}(t.normalizeTimingInput(e)),s=r.convertEffectInput(i),f=function(){s(n,u)};return f._update=function(t){return null!==(u=a(t))},f._clear=function(){s(n,null)},f._hasSameTarget=function(t){return n===t},f._target=n,f._totalDuration=a._totalDuration,f._id=o,f}}(e,o),function(r,n){function i(t,r,n){n.enumerable=!0,n.configurable=!0,Object.defineProperty(t,r,n)}function e(r){this._element=r,this._surrogateStyle=u.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=r.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=function(t,r){return!(!r.namespaceURI||-1==r.namespaceURI.indexOf("/svg"))&&(o in t||(t[o]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(t.navigator.userAgent)),t[o])}(t,r),this._savedTransformAttr=null;for(var n=0;n<this._style.length;n++){var i=this._style[n];this._surrogateStyle[i]=this._style[i]}this._updateIndices()}var o="_webAnimationsUpdateSvgTransformAttr",a={cssText:1,length:1,parentRule:1},s={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},f={removeProperty:1,setProperty:1};for(var h in e.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(t){for(var r={},n=0;n<this._surrogateStyle.length;n++)r[this._surrogateStyle[n]]=!0;for(this._surrogateStyle.cssText=t,this._updateIndices(),n=0;n<this._surrogateStyle.length;n++)r[this._surrogateStyle[n]]=!0;for(var i in r)this._isAnimatedProperty[i]||this._style.setProperty(i,this._surrogateStyle.getPropertyValue(i))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(t){return function(){return this._surrogateStyle[t]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(t,n){this._style[t]=n,this._isAnimatedProperty[t]=!0,this._updateSvgTransformAttr&&"transform"==r.unprefixedPropertyName(t)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",r.transformToSvgMatrix(n)))},_clear:function(t){this._style[t]=this._surrogateStyle[t],this._updateSvgTransformAttr&&"transform"==r.unprefixedPropertyName(t)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[t]}},s)e.prototype[h]=function(t,r){return function(){var n=this._surrogateStyle[t].apply(this._surrogateStyle,arguments);return r&&(this._isAnimatedProperty[arguments[0]]||this._style[t].apply(this._style,arguments),this._updateIndices()),n}}(h,h in f);for(var c in u.documentElement.style)c in a||c in s||function(t){i(e.prototype,t,{get:function(){return this._surrogateStyle[t]},set:function(r){this._surrogateStyle[t]=r,this._updateIndices(),this._isAnimatedProperty[t]||(this._style[t]=r)}})}(c);r.apply=function(t,n,o){(function(t){if(!t._webAnimationsPatchedStyle){var r=new e(t);try{i(t,"style",{get:function(){return r}})}catch(r){t.style._set=function(r,n){t.style[r]=n},t.style._clear=function(r){t.style[r]=""}}t._webAnimationsPatchedStyle=t.style}})(t),t.style._set(r.propertyName(n),o)},r.clear=function(t,n){t._webAnimationsPatchedStyle&&t.style._clear(r.propertyName(n))}}(o),function(r){t.Element.prototype.animate=function(t,n){var i="";return n&&n.id&&(i=n.id),r.timeline._play(r.KeyframeEffect(this,t,n,i))}}(o),function(t,r){function n(t,r,i){if("number"==typeof t&&"number"==typeof r)return t*(1-i)+r*i;if("boolean"==typeof t&&"boolean"==typeof r)return i<.5?t:r;if(t.length==r.length){for(var e=[],o=0;o<t.length;o++)e.push(n(t[o],r[o],i));return e}throw"Mismatched interpolation arguments "+t+":"+r}t.Interpolation=function(t,r,i){return function(e){return i(n(t,r,e))}}}(o),function(t,r){var n=function(){function t(t,r){for(var n=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],i=0;i<4;i++)for(var e=0;e<4;e++)for(var o=0;o<4;o++)n[i][e]+=r[i][o]*t[o][e];return n}return function(r,n,i,e,o){for(var u=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],a=0;a<4;a++)u[a][3]=o[a];for(a=0;a<3;a++)for(var s=0;s<3;s++)u[3][a]+=r[s]*u[s][a];var f=e[0],h=e[1],c=e[2],l=e[3],d=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];d[0][0]=1-2*(h*h+c*c),d[0][1]=2*(f*h-c*l),d[0][2]=2*(f*c+h*l),d[1][0]=2*(f*h+c*l),d[1][1]=1-2*(f*f+c*c),d[1][2]=2*(h*c-f*l),d[2][0]=2*(f*c-h*l),d[2][1]=2*(h*c+f*l),d[2][2]=1-2*(f*f+h*h),u=t(u,d);var v,p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];for(i[2]&&(p[2][1]=i[2],u=t(u,p)),i[1]&&(p[2][1]=0,p[2][0]=i[0],u=t(u,p)),i[0]&&(p[2][0]=0,p[1][0]=i[0],u=t(u,p)),a=0;a<3;a++)for(s=0;s<3;s++)u[a][s]*=n[a];return 0==(v=u)[0][2]&&0==v[0][3]&&0==v[1][2]&&0==v[1][3]&&0==v[2][0]&&0==v[2][1]&&1==v[2][2]&&0==v[2][3]&&0==v[3][2]&&1==v[3][3]?[u[0][0],u[0][1],u[1][0],u[1][1],u[3][0],u[3][1]]:u[0].concat(u[1],u[2],u[3])}}();t.composeMatrix=n,t.quat=function(r,n,i){var e,o=t.dot(r,n);e=o;var u=[];if(1===(o=Math.max(Math.min(e,1),-1)))u=r;else for(var a=Math.acos(o),s=1*Math.sin(i*a)/Math.sqrt(1-o*o),f=0;f<4;f++)u.push(r[f]*(Math.cos(i*a)-o*s)+n[f]*s);return u}}(o),function(t,r,n){t.sequenceNumber=0;var i=function(t,r,n){this.target=t,this.currentTime=r,this.timelineTime=n,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};r.Animation=function(r){this.id="",r&&r._id&&(this.id=r._id),this._sequenceNumber=t.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=r,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},r.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,r.timeline._animations.push(this))},_tickCurrentTime:function(t,r){t!=this._currentTime&&(this._currentTime=t,this._isFinished&&!r&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(t){t=+t,isNaN(t)||(r.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-t/this._playbackRate),this._currentTimePending=!1,this._currentTime!=t&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(t,!0),r.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(t){t=+t,isNaN(t)||this._paused||this._idle||(this._startTime=t,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),r.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(t){if(t!=this._playbackRate){var n=this.currentTime;this._playbackRate=t,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),r.applyDirtiedAnimation(this)),null!=n&&(this.currentTime=n)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),r.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,r.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),r.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(t,r){"function"==typeof r&&"finish"==t&&this._finishHandlers.push(r)},removeEventListener:function(t,r){if("finish"==t){var n=this._finishHandlers.indexOf(r);n>=0&&this._finishHandlers.splice(n,1)}},_fireEvents:function(t){if(this._isFinished){if(!this._finishedFlag){var r=new i(this,this._currentTime,t),n=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout((function(){n.forEach((function(t){t.call(r.target,r)}))}),0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(t,r){this._idle||this._paused||(null==this._startTime?r&&(this.startTime=t-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((t-this._startTime)*this.playbackRate)),r&&(this._currentTimePending=!1,this._fireEvents(t))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var t=this._effect._target;return t._activeAnimations||(t._activeAnimations=[]),t._activeAnimations},_markTarget:function(){var t=this._targetAnimations();-1===t.indexOf(this)&&t.push(this)},_unmarkTarget:function(){var t=this._targetAnimations(),r=t.indexOf(this);-1!==r&&t.splice(r,1)}}}(e,o),function(r,n,i){function e(t){var r=h;h=[],t<g.currentTime&&(t=g.currentTime),g._animations.sort(o),g._animations=s(t,!0,g._animations)[0],r.forEach((function(r){r[1](t)})),a()}function o(t,r){return t._sequenceNumber-r._sequenceNumber}function u(){this._animations=[],this.currentTime=t.performance&&performance.now?performance.now():0}function a(){v.forEach((function(t){t()})),v.length=0}function s(r,i,e){p=!0,d=!1,n.timeline.currentTime=r,l=!1;var o=[],u=[],a=[],s=[];return e.forEach((function(t){t._tick(r,i),t._inEffect?(u.push(t._effect),t._markTarget()):(o.push(t._effect),t._unmarkTarget()),t._needsTick&&(l=!0);var n=t._inEffect||t._needsTick;t._inTimeline=n,n?a.push(t):s.push(t)})),v.push.apply(v,o),v.push.apply(v,u),l&&t.requestAnimationFrame((function(){})),p=!1,[a,s]}var f=t.requestAnimationFrame,h=[],c=0;t.requestAnimationFrame=function(t){var r=c++;return 0==h.length&&f(e),h.push([r,t]),r},t.cancelAnimationFrame=function(t){h.forEach((function(r){r[0]==t&&(r[1]=function(){})}))},u.prototype={_play:function(t){t._timing=r.normalizeTimingInput(t.timing);var i=new n.Animation(t);return i._idle=!1,i._timeline=this,this._animations.push(i),n.restart(),n.applyDirtiedAnimation(i),i}};var l=!1,d=!1;n.restart=function(){return l||(l=!0,t.requestAnimationFrame((function(){})),d=!0),d},n.applyDirtiedAnimation=function(t){if(!p){t._markTarget();var r=t._targetAnimations();r.sort(o),s(n.timeline.currentTime,!1,r.slice())[1].forEach((function(t){var r=g._animations.indexOf(t);-1!==r&&g._animations.splice(r,1)})),a()}};var v=[],p=!1,g=new u;n.timeline=g}(e,o),function(t,r){function n(t,r){for(var n=0,i=0;i<t.length;i++)n+=t[i]*r[i];return n}function i(t,r){return[t[0]*r[0]+t[4]*r[1]+t[8]*r[2]+t[12]*r[3],t[1]*r[0]+t[5]*r[1]+t[9]*r[2]+t[13]*r[3],t[2]*r[0]+t[6]*r[1]+t[10]*r[2]+t[14]*r[3],t[3]*r[0]+t[7]*r[1]+t[11]*r[2]+t[15]*r[3],t[0]*r[4]+t[4]*r[5]+t[8]*r[6]+t[12]*r[7],t[1]*r[4]+t[5]*r[5]+t[9]*r[6]+t[13]*r[7],t[2]*r[4]+t[6]*r[5]+t[10]*r[6]+t[14]*r[7],t[3]*r[4]+t[7]*r[5]+t[11]*r[6]+t[15]*r[7],t[0]*r[8]+t[4]*r[9]+t[8]*r[10]+t[12]*r[11],t[1]*r[8]+t[5]*r[9]+t[9]*r[10]+t[13]*r[11],t[2]*r[8]+t[6]*r[9]+t[10]*r[10]+t[14]*r[11],t[3]*r[8]+t[7]*r[9]+t[11]*r[10]+t[15]*r[11],t[0]*r[12]+t[4]*r[13]+t[8]*r[14]+t[12]*r[15],t[1]*r[12]+t[5]*r[13]+t[9]*r[14]+t[13]*r[15],t[2]*r[12]+t[6]*r[13]+t[10]*r[14]+t[14]*r[15],t[3]*r[12]+t[7]*r[13]+t[11]*r[14]+t[15]*r[15]]}function e(t){var r=t.rad||0;return((t.deg||0)/360+(t.grad||0)/400+(t.turn||0))*(2*Math.PI)+r}function o(t){switch(t.t){case"rotatex":var r=e(t.d[0]);return[1,0,0,0,0,Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1];case"rotatey":return r=e(t.d[0]),[Math.cos(r),0,-Math.sin(r),0,0,1,0,0,Math.sin(r),0,Math.cos(r),0,0,0,0,1];case"rotate":case"rotatez":return r=e(t.d[0]),[Math.cos(r),Math.sin(r),0,0,-Math.sin(r),Math.cos(r),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var n=t.d[0],i=t.d[1],o=t.d[2],u=(r=e(t.d[3]),n*n+i*i+o*o);if(0===u)n=1,i=0,o=0;else if(1!==u){var a=Math.sqrt(u);n/=a,i/=a,o/=a}var s=Math.sin(r/2),f=s*Math.cos(r/2),h=s*s;return[1-2*(i*i+o*o)*h,2*(n*i*h+o*f),2*(n*o*h-i*f),0,2*(n*i*h-o*f),1-2*(n*n+o*o)*h,2*(i*o*h+n*f),0,2*(n*o*h+i*f),2*(i*o*h-n*f),1-2*(n*n+i*i)*h,0,0,0,0,1];case"scale":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[t.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,t.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,t.d[0],0,0,0,0,1];case"scale3d":return[t.d[0],0,0,0,0,t.d[1],0,0,0,0,t.d[2],0,0,0,0,1];case"skew":var c=e(t.d[0]),l=e(t.d[1]);return[1,Math.tan(l),0,0,Math.tan(c),1,0,0,0,0,1,0,0,0,0,1];case"skewx":return r=e(t.d[0]),[1,0,0,0,Math.tan(r),1,0,0,0,0,1,0,0,0,0,1];case"skewy":return r=e(t.d[0]),[1,Math.tan(r),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":return[1,0,0,0,0,1,0,0,0,0,1,0,n=t.d[0].px||0,i=t.d[1].px||0,0,1];case"translatex":return[1,0,0,0,0,1,0,0,0,0,1,0,n=t.d[0].px||0,0,0,1];case"translatey":return[1,0,0,0,0,1,0,0,0,0,1,0,0,i=t.d[0].px||0,0,1];case"translatez":return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,o=t.d[0].px||0,1];case"translate3d":return[1,0,0,0,0,1,0,0,0,0,1,0,n=t.d[0].px||0,i=t.d[1].px||0,o=t.d[2].px||0,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,t.d[0].px?-1/t.d[0].px:0,0,0,0,1];case"matrix":return[t.d[0],t.d[1],0,0,t.d[2],t.d[3],0,0,0,0,1,0,t.d[4],t.d[5],0,1];case"matrix3d":return t.d}}function u(t){return 0===t.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:t.map(o).reduce(i)}var a=function(){function t(t){return t[0][0]*t[1][1]*t[2][2]+t[1][0]*t[2][1]*t[0][2]+t[2][0]*t[0][1]*t[1][2]-t[0][2]*t[1][1]*t[2][0]-t[1][2]*t[2][1]*t[0][0]-t[2][2]*t[0][1]*t[1][0]}function r(t){var r=i(t);return[t[0]/r,t[1]/r,t[2]/r]}function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}function e(t,r,n,i){return[n*t[0]+i*r[0],n*t[1]+i*r[1],n*t[2]+i*r[2]]}return function(o){var u=[o.slice(0,4),o.slice(4,8),o.slice(8,12),o.slice(12,16)];if(1!==u[3][3])return null;for(var a=[],s=0;s<4;s++)a.push(u[s].slice());for(s=0;s<3;s++)a[s][3]=0;if(0===t(a))return null;var f,h,c=[];u[0][3]||u[1][3]||u[2][3]?(c.push(u[0][3]),c.push(u[1][3]),c.push(u[2][3]),c.push(u[3][3]),f=function(t,r){for(var n=[],i=0;i<4;i++){for(var e=0,o=0;o<4;o++)e+=t[o]*r[o][i];n.push(e)}return n}(c,(h=function(r){for(var n=1/t(r),i=r[0][0],e=r[0][1],o=r[0][2],u=r[1][0],a=r[1][1],s=r[1][2],f=r[2][0],h=r[2][1],c=r[2][2],l=[[(a*c-s*h)*n,(o*h-e*c)*n,(e*s-o*a)*n,0],[(s*f-u*c)*n,(i*c-o*f)*n,(o*u-i*s)*n,0],[(u*h-a*f)*n,(f*e-i*h)*n,(i*a-e*u)*n,0]],d=[],v=0;v<3;v++){for(var p=0,g=0;g<3;g++)p+=r[3][g]*l[g][v];d.push(p)}return d.push(1),l.push(d),l}(a),[[h[0][0],h[1][0],h[2][0],h[3][0]],[h[0][1],h[1][1],h[2][1],h[3][1]],[h[0][2],h[1][2],h[2][2],h[3][2]],[h[0][3],h[1][3],h[2][3],h[3][3]]]))):f=[0,0,0,1];var l=u[3].slice(0,3),d=[];d.push(u[0].slice(0,3));var v=[];v.push(i(d[0])),d[0]=r(d[0]);var p=[];d.push(u[1].slice(0,3)),p.push(n(d[0],d[1])),d[1]=e(d[1],d[0],1,-p[0]),v.push(i(d[1])),d[1]=r(d[1]),p[0]/=v[1],d.push(u[2].slice(0,3)),p.push(n(d[0],d[2])),d[2]=e(d[2],d[0],1,-p[1]),p.push(n(d[1],d[2])),d[2]=e(d[2],d[1],1,-p[2]),v.push(i(d[2])),d[2]=r(d[2]),p[1]/=v[2],p[2]/=v[2];var g=function(t,r){return[t[1]*r[2]-t[2]*r[1],t[2]*r[0]-t[0]*r[2],t[0]*r[1]-t[1]*r[0]]}(d[1],d[2]);if(n(d[0],g)<0)for(s=0;s<3;s++)v[s]*=-1,d[s][0]*=-1,d[s][1]*=-1,d[s][2]*=-1;var m,b,y=d[0][0]+d[1][1]+d[2][2]+1;return y>1e-4?(m=.5/Math.sqrt(y),b=[(d[2][1]-d[1][2])*m,(d[0][2]-d[2][0])*m,(d[1][0]-d[0][1])*m,.25/m]):d[0][0]>d[1][1]&&d[0][0]>d[2][2]?b=[.25*(m=2*Math.sqrt(1+d[0][0]-d[1][1]-d[2][2])),(d[0][1]+d[1][0])/m,(d[0][2]+d[2][0])/m,(d[2][1]-d[1][2])/m]:d[1][1]>d[2][2]?(m=2*Math.sqrt(1+d[1][1]-d[0][0]-d[2][2]),b=[(d[0][1]+d[1][0])/m,.25*m,(d[1][2]+d[2][1])/m,(d[0][2]-d[2][0])/m]):(m=2*Math.sqrt(1+d[2][2]-d[0][0]-d[1][1]),b=[(d[0][2]+d[2][0])/m,(d[1][2]+d[2][1])/m,.25*m,(d[1][0]-d[0][1])/m]),[l,v,p,b,f]}}();t.dot=n,t.makeMatrixDecomposition=function(t){return[a(u(t))]},t.transformListToMatrix=u}(o),function(t){function r(t,r){var n=t.exec(r);if(n)return[n=t.ignoreCase?n[0].toLowerCase():n[0],r.substr(n.length)]}function n(t,r){var n=t(r=r.replace(/^\s*/,""));if(n)return[n[0],n[1].replace(/^\s*/,"")]}function i(t,r,n,i,e){for(var o=[],u=[],a=[],s=function(t,r){for(var n=t,i=r;n&&i;)n>i?n%=i:i%=n;return t*r/(n+i)}(i.length,e.length),f=0;f<s;f++){var h=r(i[f%i.length],e[f%e.length]);if(!h)return;o.push(h[0]),u.push(h[1]),a.push(h[2])}return[o,u,function(r){var i=r.map((function(t,r){return a[r](t)})).join(n);return t?t(i):i}]}t.consumeToken=r,t.consumeTrimmed=n,t.consumeRepeated=function(t,i,e){t=n.bind(null,t);for(var o=[];;){var u=t(e);if(!u)return[o,e];if(o.push(u[0]),!(u=r(i,e=u[1]))||""==u[1])return[o,e];e=u[1]}},t.consumeParenthesised=function(t,r){for(var n=0,i=0;i<r.length&&(!/\s|,/.test(r[i])||0!=n);i++)if("("==r[i])n++;else if(")"==r[i]&&(0==--n&&i++,n<=0))break;var e=t(r.substr(0,i));return null==e?void 0:[e,r.substr(i)]},t.ignore=function(t){return function(r){var n=t(r);return n&&(n[0]=void 0),n}},t.optional=function(t,r){return function(n){return t(n)||[r,n]}},t.consumeList=function(r,n){for(var i=[],e=0;e<r.length;e++){var o=t.consumeTrimmed(r[e],n);if(!o||""==o[0])return;void 0!==o[0]&&i.push(o[0]),n=o[1]}if(""==n)return i},t.mergeNestedRepeated=i.bind(null,null),t.mergeWrappedNestedRepeated=i,t.mergeList=function(t,r,n){for(var i=[],e=[],o=[],u=0,a=0;a<n.length;a++)if("function"==typeof n[a]){var s=n[a](t[u],r[u++]);i.push(s[0]),e.push(s[1]),o.push(s[2])}else!function(t){i.push(!1),e.push(!1),o.push((function(){return n[t]}))}(a);return[i,e,function(t){for(var r="",n=0;n<t.length;n++)r+=o[n](t[n]);return r}]}}(o),function(t){function r(r){var n={inset:!1,lengths:[],color:null},i=t.consumeRepeated((function(r){var i=t.consumeToken(/^inset/i,r);return i?(n.inset=!0,i):(i=t.consumeLengthOrPercent(r))?(n.lengths.push(i[0]),i):(i=t.consumeColor(r))?(n.color=i[0],i):void 0}),/^/,r);if(i&&i[0].length)return[n,i[1]]}var n=function(r,n,i,e){function o(t){return{inset:t,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var u=[],a=[],s=0;s<i.length||s<e.length;s++){var f=i[s]||o(e[s].inset),h=e[s]||o(i[s].inset);u.push(f),a.push(h)}return t.mergeNestedRepeated(r,n,u,a)}.bind(null,(function(r,n){for(;r.lengths.length<Math.max(r.lengths.length,n.lengths.length);)r.lengths.push({px:0});for(;n.lengths.length<Math.max(r.lengths.length,n.lengths.length);)n.lengths.push({px:0});if(r.inset==n.inset&&!!r.color==!!n.color){for(var i,e=[],o=[[],0],u=[[],0],a=0;a<r.lengths.length;a++){var s=t.mergeDimensions(r.lengths[a],n.lengths[a],2==a);o[0].push(s[0]),u[0].push(s[1]),e.push(s[2])}if(r.color&&n.color){var f=t.mergeColors(r.color,n.color);o[1]=f[0],u[1]=f[1],i=f[2]}return[o,u,function(t){for(var n=r.inset?"inset ":" ",o=0;o<e.length;o++)n+=e[o](t[0][o])+" ";return i&&(n+=i(t[1])),n}]}}),", ");t.addPropertiesHandler((function(n){var i=t.consumeRepeated(r,/^,/,n);if(i&&""==i[1])return i[0]}),n,["box-shadow","text-shadow"])}(o),function(t,r){function n(t){return t.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function i(t,r,n){return Math.min(r,Math.max(t,n))}function e(t){if(/^\s*[-+]?(\d*\.)?\d+\s*$/.test(t))return Number(t)}function o(t,r){return function(e,o){return[e,o,function(e){return n(i(t,r,e))}]}}function u(t){var r=t.trim().split(/\s*[\s,]\s*/);if(0!==r.length){for(var n=[],i=0;i<r.length;i++){var o=e(r[i]);if(void 0===o)return;n.push(o)}return n}}t.clamp=i,t.addPropertiesHandler(u,(function(t,r){if(t.length==r.length)return[t,r,function(t){return t.map(n).join(" ")}]}),["stroke-dasharray"]),t.addPropertiesHandler(e,o(0,1/0),["border-image-width","line-height"]),t.addPropertiesHandler(e,o(0,1),["opacity","shape-image-threshold"]),t.addPropertiesHandler(e,(function(t,r){if(0!=t)return o(0,1/0)(t,r)}),["flex-grow","flex-shrink"]),t.addPropertiesHandler(e,(function(t,r){return[t,r,function(t){return Math.round(i(1,1/0,t))}]}),["orphans","widows"]),t.addPropertiesHandler(e,(function(t,r){return[t,r,Math.round]}),["z-index"]),t.parseNumber=e,t.parseNumberList=u,t.mergeNumbers=function(t,r){return[t,r,n]},t.numberToString=n}(o),function(t,r){t.addPropertiesHandler(String,(function(t,r){if("visible"==t||"visible"==r)return[0,1,function(n){return n<=0?t:n>=1?r:"visible"}]}),["visibility"])}(o),function(t,r){function n(t){t=t.trim(),o.fillStyle="#000",o.fillStyle=t;var r=o.fillStyle;if(o.fillStyle="#fff",o.fillStyle=t,r==o.fillStyle){o.fillRect(0,0,1,1);var n=o.getImageData(0,0,1,1).data;o.clearRect(0,0,1,1);var i=n[3]/255;return[n[0]*i,n[1]*i,n[2]*i,i]}}function i(r,n){return[r,n,function(r){if(r[3])for(var n=0;n<3;n++)r[n]=Math.round((i=r[n]/r[3],Math.max(0,Math.min(255,i))));var i;return r[3]=t.numberToString(t.clamp(0,1,r[3])),"rgba("+r.join(",")+")"}]}var e=u.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var o=e.getContext("2d");t.addPropertiesHandler(n,i,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),t.consumeColor=t.consumeParenthesised.bind(null,n),t.mergeColors=i}(o),function(t,r){function n(t){function r(){var r=u.exec(t);o=r?r[0]:void 0}function n(){if("("!==o)return function(){var t=Number(o);return r(),t}();r();var t=e();return")"!==o?NaN:(r(),t)}function i(){for(var t=n();"*"===o||"/"===o;){var i=o;r();var e=n();"*"===i?t*=e:t/=e}return t}function e(){for(var t=i();"+"===o||"-"===o;){var n=o;r();var e=i();"+"===n?t+=e:t-=e}return t}var o,u=/([\+\-\w\.]+|[\(\)\*\/])/g;return r(),e()}function i(t,r){if("0"==(r=r.trim().toLowerCase())&&"px".search(t)>=0)return{px:0};if(/^[^(]*$|^calc/.test(r)){r=r.replace(/calc\(/g,"(");var i={};r=r.replace(t,(function(t){return i[t]=null,"U"+t}));for(var e="U("+t.source+")",o=r.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+e,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),u=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],a=0;a<u.length;)u[a].test(o)?(o=o.replace(u[a],"$1"),a=0):a++;if("D"==o){for(var s in i){var f=n(r.replace(new RegExp("U"+s,"g"),"").replace(new RegExp(e,"g"),"*0"));if(!isFinite(f))return;i[s]=f}return i}}}function e(t,r){return o(t,r,!0)}function o(r,n,i){var e,o=[];for(e in r)o.push(e);for(e in n)o.indexOf(e)<0&&o.push(e);return r=o.map((function(t){return r[t]||0})),n=o.map((function(t){return n[t]||0})),[r,n,function(r){var n=r.map((function(n,e){return 1==r.length&&i&&(n=Math.max(n,0)),t.numberToString(n)+o[e]})).join(" + ");return r.length>1?"calc("+n+")":n}]}var u="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",a=i.bind(null,new RegExp(u,"g")),s=i.bind(null,new RegExp(u+"|%","g")),f=i.bind(null,/deg|rad|grad|turn/g);t.parseLength=a,t.parseLengthOrPercent=s,t.consumeLengthOrPercent=t.consumeParenthesised.bind(null,s),t.parseAngle=f,t.mergeDimensions=o;var h=t.consumeParenthesised.bind(null,a),c=t.consumeRepeated.bind(void 0,h,/^/),l=t.consumeRepeated.bind(void 0,c,/^,/);t.consumeSizePairList=l;var d=t.mergeNestedRepeated.bind(void 0,e," "),v=t.mergeNestedRepeated.bind(void 0,d,",");t.mergeNonNegativeSizePair=d,t.addPropertiesHandler((function(t){var r=l(t);if(r&&""==r[1])return r[0]}),v,["background-size"]),t.addPropertiesHandler(s,e,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),t.addPropertiesHandler(s,o,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(o),function(t,r){function n(r){return t.consumeLengthOrPercent(r)||t.consumeToken(/^auto/,r)}function i(r){var i=t.consumeList([t.ignore(t.consumeToken.bind(null,/^rect/)),t.ignore(t.consumeToken.bind(null,/^\(/)),t.consumeRepeated.bind(null,n,/^,/),t.ignore(t.consumeToken.bind(null,/^\)/))],r);if(i&&4==i[0].length)return i[0]}var e=t.mergeWrappedNestedRepeated.bind(null,(function(t){return"rect("+t+")"}),(function(r,n){return"auto"==r||"auto"==n?[!0,!1,function(i){var e=i?r:n;if("auto"==e)return"auto";var o=t.mergeDimensions(e,e);return o[2](o[0])}]:t.mergeDimensions(r,n)}),", ");t.parseBox=i,t.mergeBoxes=e,t.addPropertiesHandler(i,e,["clip"])}(o),function(t,r){function n(t){return function(r){var n=0;return t.map((function(t){return t===f?r[n++]:t}))}}function i(t){return t}function e(r){if("none"==(r=r.toLowerCase().trim()))return[];for(var n,i=/\s*(\w+)\(([^)]*)\)/g,e=[],o=0;n=i.exec(r);){if(n.index!=o)return;o=n.index+n[0].length;var u=n[1],a=l[u];if(!a)return;var s=n[2].split(","),f=a[0];if(f.length<s.length)return;for(var d=[],v=0;v<f.length;v++){var p,g=s[v],m=f[v];if(void 0===(p=g?{A:function(r){return"0"==r.trim()?c:t.parseAngle(r)},N:t.parseNumber,T:t.parseLengthOrPercent,L:t.parseLength}[m.toUpperCase()](g):{a:c,n:d[0],t:h}[m]))return;d.push(p)}if(e.push({t:u,d:d}),i.lastIndex==r.length)return e}}function o(t){return t.toFixed(6).replace(".000000","")}function u(r,n){if(r.decompositionPair!==n){r.decompositionPair=n;var i=t.makeMatrixDecomposition(r)}if(n.decompositionPair!==r){n.decompositionPair=r;var e=t.makeMatrixDecomposition(n)}return null==i[0]||null==e[0]?[[!1],[!0],function(t){return t?n[0].d:r[0].d}]:(i[0].push(0),e[0].push(1),[i,e,function(r){var n=t.quat(i[0][3],e[0][3],r[5]);return t.composeMatrix(r[0],r[1],r[2],n,r[4]).map(o).join(",")}])}function a(t){return t.replace(/[xy]/,"")}function s(t){return t.replace(/(x|y|z|3d)?$/,"3d")}var f=null,h={px:0},c={deg:0},l={matrix:["NNNNNN",[f,f,0,0,f,f,0,0,0,0,1,0,f,f,0,1],i],matrix3d:["NNNNNNNNNNNNNNNN",i],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",n([f,f,1]),i],scalex:["N",n([f,1,1]),n([f,1])],scaley:["N",n([1,f,1]),n([1,f])],scalez:["N",n([1,1,f])],scale3d:["NNN",i],skew:["Aa",null,i],skewx:["A",null,n([f,c])],skewy:["A",null,n([c,f])],translate:["Tt",n([f,f,h]),i],translatex:["T",n([f,h,h]),n([f,h])],translatey:["T",n([h,f,h]),n([h,f])],translatez:["L",n([h,h,f])],translate3d:["TTL",i]};t.addPropertiesHandler(e,(function(r,n){var i=t.makeMatrixDecomposition&&!0,e=!1;if(!r.length||!n.length){r.length||(e=!0,r=n,n=[]);for(var o=0;o<r.length;o++){var f=r[o].t,h=r[o].d,c="scale"==f.substr(0,5)?1:0;n.push({t:f,d:h.map((function(t){if("number"==typeof t)return c;var r={};for(var n in t)r[n]=c;return r}))})}}var d,v,p=[],g=[],m=[];if(r.length!=n.length){if(!i)return;p=[(M=u(r,n))[0]],g=[M[1]],m=[["matrix",[M[2]]]]}else for(o=0;o<r.length;o++){var b=r[o].t,y=n[o].t,x=r[o].d,w=n[o].d,N=l[b],T=l[y];if(v=y,"perspective"==(d=b)&&"perspective"==v||("matrix"==d||"matrix3d"==d)&&("matrix"==v||"matrix3d"==v)){if(!i)return;var M=u([r[o]],[n[o]]);p.push(M[0]),g.push(M[1]),m.push(["matrix",[M[2]]])}else{if(b==y)f=b;else if(N[2]&&T[2]&&a(b)==a(y))f=a(b),x=N[2](x),w=T[2](w);else{if(!N[1]||!T[1]||s(b)!=s(y)){if(!i)return;p=[(M=u(r,n))[0]],g=[M[1]],m=[["matrix",[M[2]]]];break}f=s(b),x=N[1](x),w=T[1](w)}for(var k=[],S=[],R=[],E=0;E<x.length;E++)M=("number"==typeof x[E]?t.mergeNumbers:t.mergeDimensions)(x[E],w[E]),k[E]=M[0],S[E]=M[1],R.push(M[2]);p.push(k),g.push(S),m.push([f,R])}}if(e){var C=p;p=g,g=C}return[p,g,function(t){return t.map((function(t,r){var n=t.map((function(t,n){return m[r][1][n](t)})).join(",");return"matrix"==m[r][0]&&16==n.split(",").length&&(m[r][0]="matrix3d"),m[r][0]+"("+n+")"})).join(" ")}]}),["transform"]),t.transformToSvgMatrix=function(r){var n=t.transformListToMatrix(e(r));return"matrix("+o(n[0])+" "+o(n[1])+" "+o(n[4])+" "+o(n[5])+" "+o(n[12])+" "+o(n[13])+")"}}(o),function(t){function r(r){return r=100*Math.round(r/100),400===(r=t.clamp(100,900,r))?"normal":700===r?"bold":String(r)}t.addPropertiesHandler((function(t){var r=Number(t);if(!(isNaN(r)||r<100||r>900||r%100!=0))return r}),(function(t,n){return[t,n,r]}),["font-weight"])}(o),function(t){function n(t){var r={};for(var n in t)r[n]=-t[n];return r}function i(r){return t.consumeToken(/^(left|center|right|top|bottom)\b/i,r)||t.consumeLengthOrPercent(r)}function e(n,e){var o=t.consumeRepeated(i,/^/,e);if(o&&""==o[1]){var a=o[0];if(a[0]=a[0]||"center",a[1]=a[1]||"center",3==n&&(a[2]=a[2]||{px:0}),a.length==n){if(/top|bottom/.test(a[0])||/left|right/.test(a[1])){var s=a[0];a[0]=a[1],a[1]=s}if(/left|right|center|Object/.test(a[0])&&/top|bottom|center|Object/.test(a[1]))return a.map((function(t){return"object"==r(t)?t:u[t]}))}}}function o(r){var e=t.consumeRepeated(i,/^/,r);if(e){for(var o=e[0],a=[{"%":50},{"%":50}],s=0,f=!1,h=0;h<o.length;h++){var c=o[h];"string"==typeof c?(f=/bottom|right/.test(c),a[s={left:0,right:0,center:s,top:1,bottom:1}[c]]=u[c],"center"==c&&s++):(f&&((c=n(c))["%"]=(c["%"]||0)+100),a[s]=c,s++,f=!1)}return[a,e[1]]}}var u={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},a=t.mergeNestedRepeated.bind(null,t.mergeDimensions," ");t.addPropertiesHandler(e.bind(null,3),a,["transform-origin"]),t.addPropertiesHandler(e.bind(null,2),a,["perspective-origin"]),t.consumePosition=o,t.mergeOffsetList=a;var s=t.mergeNestedRepeated.bind(null,a,", ");t.addPropertiesHandler((function(r){var n=t.consumeRepeated(o,/^,/,r);if(n&&""==n[1])return n[0]}),s,["background-position","object-position"])}(o),function(t){var r=t.consumeParenthesised.bind(null,t.parseLengthOrPercent),n=t.consumeRepeated.bind(void 0,r,/^/),i=t.mergeNestedRepeated.bind(void 0,t.mergeDimensions," "),e=t.mergeNestedRepeated.bind(void 0,i,",");t.addPropertiesHandler((function(i){var e=t.consumeToken(/^circle/,i);if(e&&e[0])return["circle"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),r,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],e[1]));var o=t.consumeToken(/^ellipse/,i);if(o&&o[0])return["ellipse"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),n,t.ignore(t.consumeToken.bind(void 0,/^at/)),t.consumePosition,t.ignore(t.consumeToken.bind(void 0,/^\)/))],o[1]));var u=t.consumeToken(/^polygon/,i);return u&&u[0]?["polygon"].concat(t.consumeList([t.ignore(t.consumeToken.bind(void 0,/^\(/)),t.optional(t.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),t.consumeSizePairList,t.ignore(t.consumeToken.bind(void 0,/^\)/))],u[1])):void 0}),(function(r,n){if(r[0]===n[0])return"circle"==r[0]?t.mergeList(r.slice(1),n.slice(1),["circle(",t.mergeDimensions," at ",t.mergeOffsetList,")"]):"ellipse"==r[0]?t.mergeList(r.slice(1),n.slice(1),["ellipse(",t.mergeNonNegativeSizePair," at ",t.mergeOffsetList,")"]):"polygon"==r[0]&&r[1]==n[1]?t.mergeList(r.slice(2),n.slice(2),["polygon(",r[1],e,")"]):void 0}),["shape-outside"])}(o),function(t,r){function n(t,r){r.concat([t]).forEach((function(r){r in u.documentElement.style&&(i[t]=r),e[r]=t}))}var i={},e={};n("transform",["webkitTransform","msTransform"]),n("transformOrigin",["webkitTransformOrigin"]),n("perspective",["webkitPerspective"]),n("perspectiveOrigin",["webkitPerspectiveOrigin"]),t.propertyName=function(t){return i[t]||t},t.unprefixedPropertyName=function(t){return e[t]||t}}(o)}(),function(){if(void 0===u.createElement("div").animate([]).oncancel){if(t.performance&&performance.now)var r=function(){return performance.now()};else r=function(){return Date.now()};var n=function(t,r,n){this.target=t,this.currentTime=r,this.timelineTime=n,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=t,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},i=t.Element.prototype.animate;t.Element.prototype.animate=function(t,e){var o=i.call(this,t,e);o._cancelHandlers=[],o.oncancel=null;var u=o.cancel;o.cancel=function(){u.call(this);var t=new n(this,null,r()),i=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout((function(){i.forEach((function(r){r.call(t.target,t)}))}),0)};var a=o.addEventListener;o.addEventListener=function(t,r){"function"==typeof r&&"cancel"==t?this._cancelHandlers.push(r):a.call(this,t,r)};var s=o.removeEventListener;return o.removeEventListener=function(t,r){if("cancel"==t){var n=this._cancelHandlers.indexOf(r);n>=0&&this._cancelHandlers.splice(n,1)}else s.call(this,t,r)},o}}}(),function(r){var n=u.documentElement,i=null,e=!1;try{var o="0"==getComputedStyle(n).getPropertyValue("opacity")?"1":"0";(i=n.animate({opacity:[o,o]},{duration:1})).currentTime=0,e=getComputedStyle(n).getPropertyValue("opacity")==o}catch(t){}finally{i&&i.cancel()}if(!e){var a=t.Element.prototype.animate;t.Element.prototype.animate=function(n,i){return t.Symbol&&Symbol.iterator&&Array.prototype.from&&n[Symbol.iterator]&&(n=Array.from(n)),Array.isArray(n)||null===n||(n=r.convertToArrayForm(n)),a.call(this,n,i)}}}(e)}Array.isArray;var i=Object.prototype;i.hasOwnProperty,i.toString;var e,o=self.AMP_CONFIG||{},u=("string"==typeof o.thirdPartyFrameRegex?new RegExp(o.thirdPartyFrameRegex):o.thirdPartyFrameRegex,("string"==typeof o.cdnProxyRegex?new RegExp(o.cdnProxyRegex):o.cdnProxyRegex)||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/);function a(t){if(!self.document||!self.document.head)return null;if(self.location&&u.test(self.location.origin))return null;var r=self.document.head.querySelector('meta[name="'.concat(t,'"]'));return r&&r.getAttribute("content")||null}function s(t,r,n,i,e,o,u,a,s,f,h){return t}o.thirdPartyUrl,o.thirdPartyFrameHost,o.cdnUrl||a("runtime-host"),o.errorReportingUrl,o.betaErrorReportingUrl,o.localDev,o.geoApiUrl||a("amp-geo-api"),self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG,(e=t.win,function(t,r){return function(t,r){s(function(t,r){var n=t.__AMP_SERVICES&&t.__AMP_SERVICES[r];return!(!n||!n.ctor)}(t,r));var n=function(t){var r=t.__AMP_SERVICES;return r||(r=t.__AMP_SERVICES={}),r}(t)[r];return n.obj||(s(n.ctor),s(n.context),n.obj=new n.ctor(n.context),s(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),r)}(e,"extensions")).addDocFactory((function(t){n(t.win)}))}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-animation-polyfill-0.1.js.map