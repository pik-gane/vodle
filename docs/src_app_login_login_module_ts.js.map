{"version":3,"file":"src_app_login_login_module_ts.js","mappings":"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","sources":["./src/app/login/login.page.scss","./src/app/login/login-routing.module.ts","./src/app/login/login.page.ts","./src/app/login/login.module.ts"],"sourcesContent":["// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@charset \"UTF-8\";\n/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/login/login.page.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAAhB;;;;;;;;;;;;;;;;;CAAA\",\"sourcesContent\":[\"/*\\r\\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\\r\\n\\r\\nThis file is part of vodle.\\r\\n\\r\\nvodle is free software: you can redistribute it and/or modify it under the \\r\\nterms of the GNU Affero General Public License as published by the Free \\r\\nSoftware Foundation, either version 3 of the License, or (at your option) \\r\\nany later version.\\r\\n\\r\\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \\r\\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \\r\\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \\r\\ndetails.\\r\\n\\r\\nYou should have received a copy of the GNU Affero General Public License \\r\\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \\r\\n*/\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: LoginPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class LoginPageRoutingModule {}\r\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { Validators, UntypedFormBuilder, UntypedFormGroup, UntypedFormControl } from '@angular/forms';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { IonButton, IonInput } from '@ionic/angular';\r\n\r\nimport { GlobalService } from \"../global.service\";\r\nimport { environment } from 'src/environments/environment';\r\n\r\n/*\r\n- if no conn. info in local db:\r\n  - apparently user new on this device. ask if has used vodle before\r\n    - if no: ask for new conn. info, try to connect as public user\r\n      - if success, look for private user doc. \r\n        - if exists, notify that conn. info already in use (used vodle before after all?), try connecting as private user and updating user doc.\r\n          - if success, done\r\n          - otherwise, notify error, ask to verify username and password or contact server admin to correct permissions, return to form\r\n        - otherwise, try generating user\r\n          - if success, try connecting as private user and generating user doc.\r\n            - if success, done\r\n            - otherwise, notify error, ask to verify username and password or contact server admin to correct permissions, return to form\r\n          - if not, notify error, ask to verify username and password or contact server admin to correct permissions, return to form\r\n      - otherwise, notify error, ask to verify conn. info, return to form \r\n    - if yes: ask for old conn. info or recovery file, ...\r\n*/\r\n\r\n// PAGE:\r\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CommonModule } from '@angular/common';\r\n@Component({\r\n  imports: [ CommonModule, IonicModule, TranslateModule, ReactiveFormsModule, FormsModule ],\r\n  selector: 'app-login',\r\n  templateUrl: './login.page.html',\r\n  styleUrls: ['./login.page.scss'],\r\n})\r\nexport class LoginPage implements OnInit {\r\n\r\n  E = environment;\r\n  window = window;\r\n  \r\n  // ATTRIBUTES:\r\n\r\n  languageFormGroup: UntypedFormGroup;\r\n  emailFormGroup: UntypedFormGroup;\r\n  passwordFormGroup: UntypedFormGroup;\r\n  oldPasswordFormGroup: UntypedFormGroup;\r\n\r\n  step: string;\r\n\r\n  showing_password: boolean;\r\n  advanced_expanded: boolean;\r\n  terms_expanded = false;\r\n  accept_privacy = !environment.privacy_statement_url; // auto-accept if empty privacy URL\r\n  save_password = false;\r\n  \r\n  @ViewChild('input_email', { static: false }) input_email: IonInput;\r\n  @ViewChild('input_new_password', { static: false }) input_new_password: IonInput;\r\n  @ViewChild('input_retype_password', { static: false }) input_retype_password: IonInput;\r\n  @ViewChild('input_old_password', { static: false }) input_old_password: IonInput;\r\n  @ViewChild('dismiss_button', { static: false }) dismiss_button: IonButton;\r\n\r\n  // LIFECYCLE:\r\n\r\n  ready = false;  \r\n  then_url: string;\r\n\r\n  constructor(      \r\n      private router: Router,\r\n      public route: ActivatedRoute,\r\n      public formBuilder: UntypedFormBuilder,\r\n      public translate: TranslateService,\r\n      public G: GlobalService) { \r\n    this.G.L.entry(\"LoginPage.constructor\");\r\n    this.route.params.subscribe(params => { \r\n      this.then_url = params['then'];\r\n      const step = this.step = params['step'] || 'start';\r\n      this.G.L.info(\"LoginPage going to step\", step, this.then_url);\r\n      if (['start','language','used_before',\r\n           'fresh_email','old_email','fresh_password','old_password',\r\n           'connected'].includes(step)) {\r\n        this.ready = true;  // here we do not need to wait for DataService since we need no data. \r\n      }\r\n      if (step == 'connected') {\r\n        // store privacy consent in database:\r\n        this.G.D.setu('consent', 'Yes, I have read the data protection declaration and terms of use. I consent to the processing of my data on user devices and database servers in the described manner, in order to participate in polls. I agree that some of my data will be transmitted to other participants in pseudonymized form. I am aware that my right to have my data deleted is hence constrained insofar as these copies may not be deleted on all user devices. I can revoke this consent by e-mail.');\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.G.L.entry(\"LoginPage.ngOnInit\");\r\n    this.languageFormGroup = this.formBuilder.group({\r\n      language: new UntypedFormControl('', Validators.required),\r\n    });\r\n    this.emailFormGroup = this.formBuilder.group({\r\n      email: new UntypedFormControl('', Validators.compose([\r\n//        Validators.required,  // TODO: uncomment once the problem is solved that the privacy link does not work properly when field left empty\r\n        Validators.email\r\n      ])),\r\n    });\r\n    this.passwordFormGroup = this.formBuilder.group({\r\n      pw: this.formBuilder.group({\r\n        password: new UntypedFormControl('', Validators.compose([\r\n          Validators.required,\r\n          Validators.minLength(8),\r\n          Validators.pattern(this.G.S.password_regexp)\r\n        ])),\r\n        confirm_password: new UntypedFormControl('', Validators.required),\r\n      }, {\r\n        validators: [this.G.S.passwords_match]\r\n      }),\r\n    });\r\n    this.oldPasswordFormGroup = this.formBuilder.group({\r\n      pw: this.formBuilder.group({\r\n        password: new UntypedFormControl('', Validators.compose([\r\n          Validators.required,\r\n          Validators.minLength(8),\r\n          Validators.pattern(this.G.S.password_regexp)\r\n        ])),\r\n      }),\r\n    });\r\n  }\r\n  \r\n  ionViewWillEnter() {\r\n    this.G.L.entry(\"LoginPage.ionViewWillEnter\");\r\n    this.G.D.page = this;\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.G.L.entry(\"LoginPage.ionViewDidEnter\");\r\n    const default_lang = navigator.language.slice(0,2);\r\n    this.languageFormGroup.get('language').setValue(\r\n      this.G.S.language||((this.translate.langs.includes(default_lang))?default_lang:''));\r\n    // browser might have prefilled fields, so check this:\r\n    /*\r\n    this.set_language();\r\n    this.set_email();\r\n    this.set_password();\r\n    this.set_old_password();\r\n    */\r\n    if (this.G.D.ready && !this.ready) this.onDataReady();\r\n    setTimeout(() => {\r\n      const el = this.input_email||this.input_new_password||this.input_old_password;\r\n      if (el) {\r\n        if (this.step!='fresh_email') el.setFocus();\r\n      } else {\r\n        const el = document.getElementById(\"dismiss_button\");\r\n        if (el) {\r\n          el.focus();\r\n        }\r\n      }\r\n    }, 300);\r\n  }\r\n\r\n  onDataReady() {\r\n    // called when DataService initialization was slower than view initialization\r\n    this.G.L.entry(\"LoginPage.onDataReady\");\r\n    this.ready = true;\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    this.G.L.entry(\"LoginPage.ionViewDidLeave\");\r\n    this.G.D.save_state();\r\n    this.G.L.exit(\"LoginPage.ionViewDidLeave\");\r\n  }\r\n\r\n  // OTHER HOOKS:\r\n  \r\n  // for DataService:\r\n\r\n  onDataChange() {\r\n    // called whenever data stored in database has changed\r\n    this.G.L.entry(\"LoginPage.onDataChange\");\r\n  }\r\n\r\n  // for form actions:\r\n\r\n  set_language() {\r\n    let c = this.languageFormGroup.get('language');\r\n    if (c.valid) this.G.S.language = c.value;\r\n  }\r\n\r\n  set_email() {\r\n    let c = this.emailFormGroup.get('email');\r\n    if (c.valid) this.G.S.email = c.value; \r\n  }\r\n\r\n  set_password() {\r\n    let fg = this.passwordFormGroup.get('pw');\r\n    if (fg.valid) this.G.S.password = fg.get('password').value; \r\n  }\r\n\r\n  set_old_password() {\r\n    let fg = this.oldPasswordFormGroup.get('pw');\r\n    if (fg.valid) this.G.S.password = fg.get('password').value; \r\n  }\r\n\r\n  submit_language() {\r\n    this.set_language();\r\n    if (this.languageFormGroup.valid) {\r\n      this.G.go_fullscreen_on_mobile();\r\n      this.router.navigate(['/login/used_before/'+this.then_url]);  \r\n    }\r\n  }\r\n\r\n  ask_used_before_no() {\r\n    this.G.go_fullscreen_on_mobile();\r\n    this.router.navigate(['/login/fresh_email/'+this.then_url]);\r\n  }\r\n\r\n  ask_used_before_yes() {\r\n    this.G.go_fullscreen_on_mobile();\r\n    this.router.navigate(['/login/old_email/'+this.then_url]);\r\n  }\r\n\r\n  submit_email() {\r\n    this.set_email();\r\n    if (this.emailFormGroup.get('email').valid && this.accept_privacy) {\r\n      if (this.step == 'fresh_email') {\r\n        this.router.navigate(['/login/fresh_password/'+this.then_url]);\r\n      } else {\r\n        this.router.navigate(['/login/old_password/'+this.then_url]);\r\n      }\r\n    }\r\n  }\r\n\r\n  login_as_guest() {\r\n    this.G.S.password = \"Guest\" + Math.round(Math.random()*1000000);\r\n    this.G.S.email = this.G.S.password + \"@vodle.it\";\r\n    this.G.S.default_wap = 10;\r\n    this.G.S.use_guest = true;\r\n    this.G.D.login_submitted();\r\n  }\r\n\r\n  blur_password() {\r\n    setTimeout(() => {\r\n      this.input_retype_password.setFocus();\r\n    }, 100);\r\n  }\r\n\r\n  submit_new_password() {\r\n    this.set_password();\r\n    // TODO: test connection to vodle central. if fails, ask for different server or correct password?\r\n    if (this.passwordFormGroup.get('pw').valid) {\r\n      this.G.S.default_wap = 10;\r\n      this.G.D.login_submitted();\r\n    }\r\n  }\r\n\r\n  submit_old_password() {\r\n    this.set_old_password();\r\n    // TODO: test connection to vodle central. if fails, ask for different server or correct password!\r\n    if (this.oldPasswordFormGroup.get('pw').valid) {\r\n      this.G.D.login_submitted();\r\n    }\r\n  }\r\n\r\n  connected_dismissed() {\r\n    this.G.D.init_notifications(true);\r\n    const target = \"./#/\"+decodeURIComponent(((!!this.then_url) && !this.then_url.includes('logout')) ? this.then_url : \"\");\r\n    this.G.L.trace(\"LoginPage redirecting to\", this.then_url, target);\r\n    if (target != \"\") {\r\n      // DIRTY FIX to make sure data is loaded properly:\r\n      window.location.replace(target);\r\n    } else {\r\n      // in principle, we would rather want to do this instead:\r\n      this.router.navigate([target]);\r\n    }\r\n  }\r\n\r\n}\r\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { LoginPageRoutingModule } from './login-routing.module';\r\n\r\nimport { LoginPage } from './login.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    LoginPageRoutingModule,\r\n    TranslateModule.forChild(),\r\n    LoginPage\r\n  ]\r\n})\r\nexport class LoginPageModule {}\r\n"],"names":["NgModule","RouterModule","LoginPage","routes","path","component","LoginPageRoutingModule","__decorate","imports","forChild","exports","Component","ViewChild","Router","ActivatedRoute","Validators","UntypedFormBuilder","UntypedFormControl","TranslateService","GlobalService","environment","ReactiveFormsModule","FormsModule","IonicModule","TranslateModule","CommonModule","constructor","router","route","formBuilder","translate","G","E","window","terms_expanded","accept_privacy","privacy_statement_url","save_password","ready","L","entry","params","subscribe","then_url","step","info","includes","D","setu","ngOnInit","languageFormGroup","group","language","required","emailFormGroup","email","compose","passwordFormGroup","pw","password","minLength","pattern","S","password_regexp","confirm_password","validators","passwords_match","oldPasswordFormGroup","ionViewWillEnter","page","ionViewDidEnter","default_lang","navigator","slice","get","setValue","langs","onDataReady","setTimeout","el","input_email","input_new_password","input_old_password","setFocus","document","getElementById","focus","ionViewDidLeave","save_state","exit","onDataChange","set_language","c","valid","value","set_email","set_password","fg","set_old_password","submit_language","go_fullscreen_on_mobile","navigate","ask_used_before_no","ask_used_before_yes","submit_email","login_as_guest","Math","round","random","default_wap","use_guest","login_submitted","blur_password","input_retype_password","submit_new_password","submit_old_password","connected_dismissed","init_notifications","target","decodeURIComponent","trace","location","replace","args","static","selector","template","__NG_CLI_RESOURCE__0","LoginPageModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}