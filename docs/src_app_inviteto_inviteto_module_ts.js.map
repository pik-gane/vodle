{"version":3,"file":"src_app_inviteto_inviteto_module_ts.js","mappings":"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","sources":["./src/app/inviteto/inviteto-routing.module.ts","./src/app/inviteto/inviteto.page.scss","./src/app/inviteto/inviteto.page.ts","./src/app/inviteto/inviteto.module.ts","./node_modules/@capacitor/share/dist/esm/definitions.js","./node_modules/@capacitor/share/dist/esm/index.js"],"sourcesContent":["/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InvitetoPage } from './inviteto.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InvitetoPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InvitetoPageRoutingModule {}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@charset \"UTF-8\";\n/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/inviteto/inviteto.page.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAAhB;;;;;;;;;;;;;;;;;CAAA\",\"sourcesContent\":[\"/*\\r\\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\\r\\n\\r\\nThis file is part of vodle.\\r\\n\\r\\nvodle is free software: you can redistribute it and/or modify it under the \\r\\nterms of the GNU Affero General Public License as published by the Free \\r\\nSoftware Foundation, either version 3 of the License, or (at your option) \\r\\nany later version.\\r\\n\\r\\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \\r\\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \\r\\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \\r\\ndetails.\\r\\n\\r\\nYou should have received a copy of the GNU Affero General Public License \\r\\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \\r\\n*/\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router, ActivatedRoute } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { Capacitor } from '@capacitor/core';\r\nimport { Share } from '@capacitor/share';\r\nimport { LocalNotifications } from '@capacitor/local-notifications';\r\n\r\nimport { GlobalService } from \"../global.service\";\r\nimport { Poll } from '../poll.service';\r\n\r\nimport { environment } from '../../environments/environment';\r\nimport { RouterModule } from '@angular/router';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CommonModule } from '@angular/common';\r\n@Component({\r\n  imports: [ CommonModule, IonicModule, TranslateModule, RouterModule ],\r\n  selector: 'app-inviteto',\r\n  templateUrl: './inviteto.page.html',\r\n  styleUrls: ['./inviteto.page.scss'],\r\n})\r\nexport class InvitetoPage implements OnInit {\r\n\r\n  pid: string;\r\n  p: Poll;\r\n  came_from_preview: boolean;\r\n  details_expanded: boolean;\r\n  invite_link: string;\r\n  message_title: string;\r\n  message_body: string;\r\n  email_href: string;\r\n  can_use_web_share: boolean;\r\n  can_share: boolean;\r\n\r\n  // LIFECYCLE:\r\n\r\n  ready = false;  \r\n\r\n  constructor(\r\n    public router: Router,\r\n    private route: ActivatedRoute,\r\n    public translate: TranslateService,\r\n    public G: GlobalService) {\r\n    this.G.L.entry(\"InvitetoPage.constructor\");\r\n    this.route.params.subscribe( params => { \r\n      this.pid = params['pid'];\r\n    } );\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.G.L.entry(\"InvitetoPage.ngOnInit\");\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.G.L.entry(\"InvitetoPage.ionViewWillEnter\");\r\n    this.G.D.page = this;\r\n    this.came_from_preview = true; // TODO: set depending on url!\r\n    this.details_expanded = false;\r\n    this.can_use_web_share = (typeof navigator.share === \"function\");\r\n    this.can_share = Capacitor.isNativePlatform() || this.can_use_web_share;\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.G.L.entry(\"InvitetoPage.ionViewDidEnter\");\r\n    if (this.G.D.ready) {\r\n      this.onDataReady();\r\n    }\r\n    this.G.L.debug(\"InvitetoPage.ready:\", this.ready);\r\n  }\r\n\r\n  onDataReady() {\r\n    // called when DataService initialization was slower than view initialization\r\n    this.G.L.entry(\"InvitetoPage.onDataReady\");\r\n    if (this.pid in this.G.P.polls) {\r\n      this.p = this.G.P.polls[this.pid];\r\n      if (this.p.state == 'draft') {\r\n        this.G.L.warn(\"InvitetoPage called for draft poll, redirecting to mypolls page\", this.pid);\r\n        this.router.navigate([\"/mypolls\"]);\r\n      } \r\n    } else {\r\n      this.G.L.warn(\"InvitetoPage unknown pid ignored, redirecting to mypolls page\", this.pid, this.G.P.polls);\r\n      this.router.navigate([\"/mypolls\"]);\r\n    }\r\n    this.invite_link = (\r\n      environment.magic_link_base_url + \"joinpoll/\" \r\n      + encodeURIComponent(this.p.db_server_url) + \"/\" \r\n      + encodeURIComponent(this.p.db_password) + \"/\" \r\n      + this.pid + \"/\" \r\n      + this.p.password);\r\n    this.G.L.info(\"InvitetoPage invite link:\", this.invite_link);\r\n    // TODO: make indentation in body work:\r\n    this.message_title = this.translate.instant('invite-email.subject', {due: this.G.D.format_date(this.p.due)});\r\n    this.message_body = (this.translate.instant('invite-email.body-greeting') + \"\\n\\n\" \r\n                + this.translate.instant('invite-email.body-before-title') + \"\\n\\n\"\r\n                + String.fromCharCode(160).repeat(4) + this.p.title + \".\\n\\n\"\r\n                + this.translate.instant('invite-email.body-closes', {due: this.G.D.format_date(this.p.due)}) + \"\\n\\n\"\r\n                + this.translate.instant('invite-email.body-before-link') + \"\\n\\n\" \r\n                + String.fromCharCode(160).repeat(4) + this.invite_link + \"\\n\\n\"\r\n                + this.translate.instant('invite-email.body-dont-share') + \"\\n\\n\"\r\n                + this.translate.instant('invite-email.body-regards'));\r\n    this.email_href = \"mailto:?subject=\" + encodeURIComponent(this.message_title) + \"&body=\" + encodeURIComponent(this.message_body);\r\n    this.ready = true;\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    this.G.L.entry(\"InvitetoPage.ionViewDidLeave\");\r\n    this.G.D.save_state();\r\n    this.G.L.exit(\"InvitetoPage.ionViewDidLeave\");\r\n  }\r\n  \r\n  // HOOKS:\r\n\r\n  share_button_clicked() {\r\n    this.G.L.entry(\"InvitetoPage.share_button_clicked\");\r\n    Share.share({\r\n      title: this.message_title,\r\n      text: this.message_body,\r\n//      url: this.invite_link, // not added since contained in body, otherwise will appear twice...\r\n      dialogTitle: 'Share vodle invite link',\r\n    }).then(res => {\r\n      this.G.L.info(\"InvitetoPage.share_button_clicked succeeded\", res);\r\n    }).catch(err => {\r\n      this.G.L.error(\"InvitetoPage.share_button_clicked failed\", err);\r\n    });\r\n/*\r\n    try {\r\n      navigator.share({ title: title, url: this.invite_link })\r\n      .then(() => {\r\n        console.log(\"Data was shared successfully\");\r\n      }).catch(err => {\r\n      console.error(\"Share failed:\", err);\r\n      });\r\n    } catch (err) {\r\n      console.error(\"Share not invoked:\", err);\r\n    }\r\n*/\r\n  }\r\n\r\n  copy_button_clicked() {\r\n    this.G.L.entry(\"InvitetoPage.copy_button_clicked\");\r\n    window.navigator.clipboard.writeText(this.invite_link);\r\n    LocalNotifications.schedule({\r\n      notifications: [{\r\n        title: this.translate.instant(\"inviteto.notification-copied-link-title\"),\r\n        body: this.translate.instant(\"inviteto.notification-copied-link-body\"),\r\n        id: null\r\n      }]\r\n    })\r\n    .then(res => {\r\n      this.G.L.trace(\"InvitetoPage.copy_button_clicked localNotifications.schedule succeeded:\", res);\r\n    }).catch(err => {\r\n      this.G.L.warn(\"InvitetoPage.copy_button_clicked localNotifications.schedule failed:\", err);\r\n    });\r\n    this.G.L.exit(\"InvitetoPage.copy_button_clicked\");\r\n  }\r\n}\r\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InvitetoPageRoutingModule } from './inviteto-routing.module';\r\n\r\nimport { InvitetoPage } from './inviteto.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    InvitetoPageRoutingModule,\r\n    TranslateModule.forChild(),\r\n    InvitetoPage\r\n  ]\r\n})\r\nexport class InvitetoPageModule {}\r\n","export {};\n","import { registerPlugin } from '@capacitor/core';\nconst Share = registerPlugin('Share', {\n    web: () => import('./web').then(m => new m.ShareWeb()),\n});\nexport * from './definitions';\nexport { Share };\n"],"names":["NgModule","RouterModule","InvitetoPage","routes","path","component","InvitetoPageRoutingModule","__decorate","imports","forChild","exports","Component","Router","ActivatedRoute","TranslateService","Capacitor","Share","LocalNotifications","GlobalService","environment","IonicModule","TranslateModule","CommonModule","constructor","router","route","translate","G","ready","L","entry","params","subscribe","pid","ngOnInit","ionViewWillEnter","D","page","came_from_preview","details_expanded","can_use_web_share","navigator","share","can_share","isNativePlatform","ionViewDidEnter","onDataReady","debug","P","polls","p","state","warn","navigate","invite_link","magic_link_base_url","encodeURIComponent","db_server_url","db_password","password","info","message_title","instant","due","format_date","message_body","String","fromCharCode","repeat","title","email_href","ionViewDidLeave","save_state","exit","share_button_clicked","text","dialogTitle","then","res","catch","err","error","copy_button_clicked","window","clipboard","writeText","schedule","notifications","body","id","trace","selector","template","__NG_CLI_RESOURCE__0","FormsModule","InvitetoPageModule","registerPlugin","web","m","ShareWeb"],"sourceRoot":"webpack:///","x_google_ignoreList":[4,5]}