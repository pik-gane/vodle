{"version":3,"file":"default-src_app_sharedcomponents_sharedcomponents_module_ts.js","mappings":"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","sources":["./src/app/sharedcomponents/expandable/expandable.component.ts","./src/app/sharedcomponents/select-server/select-server.component.ts","./src/app/sharedcomponents/sharedcomponents.module.ts"],"sourcesContent":["import { Component, OnInit, ElementRef, Renderer2, Input, ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-expandable',\n  templateUrl: './expandable.component.html',\n  styleUrls: ['./expandable.component.scss']\n})\nexport class ExpandableComponent implements OnInit {\n\n  @ViewChild('expandWrapper', {read: ElementRef}) expandWrapper;\n  @Input('expanded') expanded;\n  @Input('expandHeight') expandHeight;\n\n  constructor(public renderer: Renderer2) {\n\n  }\n\n  ngAfterViewInit(){\n      this.renderer.setStyle(this.expandWrapper.nativeElement, 'height', this.expandHeight + 'px');    \n  }\n\n  ngOnInit() { }\n}\n","/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\nimport { Component, OnInit, Input } from '@angular/core';\nimport { Validators, UntypedFormBuilder, UntypedFormGroup, UntypedFormControl } from '@angular/forms';\nimport { environment } from 'src/environments/environment';\n\nimport { GlobalService } from \"../../global.service\";\n\n@Component({\n  selector: 'app-select-server',\n  templateUrl: './select-server.component.html',\n  styleUrls: ['./select-server.component.scss'],\n})\nexport class SelectServerComponent implements OnInit {\n\n  E = environment;\n  Object = Object;\n\n  showing_db_custom_password: boolean;\n\n  @Input() page: string; // the name of that page provided in its template\n  @Input() page_object; // the name of that page provided in its template\n\n  selectServerFormGroup: UntypedFormGroup;\n\n  constructor(\n    public formBuilder: UntypedFormBuilder,\n    public G: GlobalService,\n  ) { }\n\n  ngOnInit() {\n    this.G.L.entry(\"SelectServerComponent.ngOnInit\");\n    this.selectServerFormGroup = this.formBuilder.group({\n      db: new UntypedFormControl(this.page=='settings'?'central':'default', Validators.required),\n      db_from_pid: new UntypedFormControl('TODO', Validators.required),\n      db_custom_server_url: new UntypedFormControl('', Validators.pattern(this.G.urlRegex)),\n      db_custom_password: new UntypedFormControl('', Validators.required), // TODO: validator?\n    });\n    this.showing_db_custom_password = false;\n    if (this.page_object) {\n      this.page_object.onSelectServerReady(this);\n    }\n  }\n\n  validation_messages = {\n    'db_custom_server_url': [\n      { type: 'required', message: 'validation.db-server-url-required' },\n      { type: 'pattern', message: 'validation.db-server-url-pattern' }\n    ],\n    'db_custom_password': [\n      { type: 'required', message: 'validation.db-pw-required' }\n    ],\n  }\n\n  blur() {\n    // TODO: remove focus from any input element and optionally set it on parent component's next element\n  }\n  \n  set_db() {\n    let c = this.selectServerFormGroup.get('db');\n    if (c.valid && (c.value!='') && c.value) {\n      this.page_object.set_db(c.value);\n    }\n  }\n  set_db_from_pid() {\n    let c = this.selectServerFormGroup.get('db_from_pid');\n    if (c.valid) this.page_object.set_db_from_pid(c.value);\n  }\n  set_db_custom_server_url() {\n    let c = this.selectServerFormGroup.get('db_custom_server_url');\n    if (c.valid) this.page_object.set_db_custom_server_url(c.value);\n  }\n  set_db_custom_password() {\n    let c = this.selectServerFormGroup.get('db_custom_password');\n    if (c.valid) this.page_object.set_db_custom_password(c.value);\n  }\n\n}\n","/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { IonicModule } from '@ionic/angular';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { ExpandableComponent } from './expandable/expandable.component';\nimport { SelectServerComponent } from './select-server/select-server.component';\n\n@NgModule({\n  declarations: [ExpandableComponent, SelectServerComponent],\n  imports: [\n    CommonModule, \n    IonicModule, \n    FormsModule, \n    ReactiveFormsModule,\n    TranslateModule.forChild()\n  ],\n  exports: [ExpandableComponent, SelectServerComponent]\n})\nexport class SharedcomponentsModule { }\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}