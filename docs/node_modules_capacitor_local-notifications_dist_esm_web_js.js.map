{"version":3,"file":"node_modules_capacitor_local-notifications_dist_esm_web_js.js","mappings":"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","sources":["./node_modules/@capacitor/local-notifications/dist/esm/web.js"],"sourcesContent":["import { WebPlugin } from '@capacitor/core';\nexport class LocalNotificationsWeb extends WebPlugin {\n    constructor() {\n        super(...arguments);\n        this.pending = [];\n        this.hasNotificationSupport = () => {\n            if (!('Notification' in window) || !Notification.requestPermission) {\n                return false;\n            }\n            if (Notification.permission !== 'granted') {\n                // don't test for `new Notification` if permission has already been granted\n                // otherwise this sends a real notification on supported browsers\n                try {\n                    new Notification('');\n                }\n                catch (e) {\n                    if (e.name == 'TypeError') {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n    }\n    async createChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async deleteChannel() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async listChannels() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async schedule(options) {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        for (const notification of options.notifications) {\n            this.sendNotification(notification);\n        }\n        return {\n            notifications: options.notifications.map(notification => ({\n                id: notification.id,\n            })),\n        };\n    }\n    async getPending() {\n        return {\n            notifications: this.pending,\n        };\n    }\n    async registerActionTypes() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async cancel(pending) {\n        this.pending = this.pending.filter(notification => !pending.notifications.find(n => n.id === notification.id));\n    }\n    async areEnabled() {\n        const { display } = await this.checkPermissions();\n        return {\n            value: display === 'granted',\n        };\n    }\n    async requestPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(await Notification.requestPermission());\n        return { display };\n    }\n    async checkPermissions() {\n        if (!this.hasNotificationSupport()) {\n            throw this.unavailable('Notifications not supported in this browser.');\n        }\n        const display = this.transformNotificationPermission(Notification.permission);\n        return { display };\n    }\n    transformNotificationPermission(permission) {\n        switch (permission) {\n            case 'granted':\n                return 'granted';\n            case 'denied':\n                return 'denied';\n            default:\n                return 'prompt';\n        }\n    }\n    sendPending() {\n        var _a;\n        const toRemove = [];\n        const now = new Date().getTime();\n        for (const notification of this.pending) {\n            if (((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) &&\n                notification.schedule.at.getTime() <= now) {\n                this.buildNotification(notification);\n                toRemove.push(notification);\n            }\n        }\n        this.pending = this.pending.filter(notification => !toRemove.find(n => n === notification));\n    }\n    sendNotification(notification) {\n        var _a;\n        if ((_a = notification.schedule) === null || _a === void 0 ? void 0 : _a.at) {\n            const diff = notification.schedule.at.getTime() - new Date().getTime();\n            this.pending.push(notification);\n            setTimeout(() => {\n                this.sendPending();\n            }, diff);\n            return;\n        }\n        this.buildNotification(notification);\n    }\n    buildNotification(notification) {\n        const localNotification = new Notification(notification.title, {\n            body: notification.body,\n        });\n        localNotification.addEventListener('click', this.onClick.bind(this, notification), false);\n        localNotification.addEventListener('show', this.onShow.bind(this, notification), false);\n        return localNotification;\n    }\n    onClick(notification) {\n        const data = {\n            actionId: 'tap',\n            notification,\n        };\n        this.notifyListeners('localNotificationActionPerformed', data);\n    }\n    onShow(notification) {\n        this.notifyListeners('localNotificationReceived', notification);\n    }\n}\n"],"names":["WebPlugin","LocalNotificationsWeb","constructor","arguments","pending","hasNotificationSupport","window","Notification","requestPermission","permission","e","name","createChannel","unimplemented","deleteChannel","listChannels","schedule","options","unavailable","notification","notifications","sendNotification","map","id","getPending","registerActionTypes","cancel","filter","find","n","areEnabled","display","checkPermissions","value","requestPermissions","transformNotificationPermission","sendPending","_a","toRemove","now","Date","getTime","at","buildNotification","push","diff","setTimeout","localNotification","title","body","addEventListener","onClick","bind","onShow","data","actionId","notifyListeners"],"sourceRoot":"webpack:///","x_google_ignoreList":[0]}