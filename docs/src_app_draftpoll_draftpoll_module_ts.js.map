{"version":3,"file":"src_app_draftpoll_draftpoll_module_ts.js","mappings":"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","sources":["./src/app/draftpoll/draftpoll-routing.module.ts","./src/app/draftpoll/draftpoll.module.ts","./src/app/draftpoll/draftpoll.page.ts","./src/app/sharedcomponents/unique-form-validator.ts"],"sourcesContent":["/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\nimport { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DraftpollPage } from './draftpoll.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DraftpollPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DraftpollPageRoutingModule {}\n","/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { TranslateModule } from '@ngx-translate/core';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DraftpollPageRoutingModule } from './draftpoll-routing.module';\nimport { SharedcomponentsModule } from '../sharedcomponents/sharedcomponents.module';\n\nimport { DraftpollPage } from './draftpoll.page';\nexport { DraftpollPage } from './draftpoll.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DraftpollPageRoutingModule,\n    SharedcomponentsModule,\n    TranslateModule.forChild()\n  ],\n  declarations: [DraftpollPage],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class DraftpollPageModule {}\n","/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/\n\n/*\nTODO:\n- fix next field not showing in android app\n- fix wrong option_stage when returning, make \"skip\" button work properly\n- make tab key autofocus work properly\n*/\n\nimport { Component, OnInit, ViewChild, ViewChildren, ElementRef, QueryList, ChangeDetectorRef } from '@angular/core';\nimport { Validators, UntypedFormBuilder, UntypedFormGroup, UntypedFormControl, ValidationErrors, AbstractControl } from '@angular/forms';\nimport { Router, ActivatedRoute } from \"@angular/router\";\nimport { TranslateService } from '@ngx-translate/core';\n\nimport { PopoverController, IonSelect, IonToggle, AlertController, IonInput, IonDatetime } from '@ionic/angular';\nimport { LocalNotifications } from '@capacitor/local-notifications';\n\nimport { DraftpollKebapPage } from '../draftpoll-kebap/draftpoll-kebap.module';  \n\nimport { GlobalService } from \"../global.service\";\nimport { Poll, Option } from \"../poll.service\";\nimport { SelectServerComponent } from '../sharedcomponents/select-server/select-server.component';\nimport { environment } from 'src/environments/environment';\n\nimport { unique_name_validator$ } from '../sharedcomponents/unique-form-validator';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators'\n\ntype option_data_t = { oid?, name?, desc?, url?, ratings? };\n\nfunction is_forward_key(ev: KeyboardEvent) {\n  return (ev.key == \"Tab\" || ev.key == \"Enter\") && !ev.ctrlKey && !ev.shiftKey && !ev.metaKey && !ev.altKey;\n}\n\n@Component({\n  selector: 'app-draftpoll',\n  templateUrl: './draftpoll.page.html',\n  styleUrls: ['./draftpoll.page.scss'],\n})\nexport class DraftpollPage implements OnInit {\n\n  E = environment;\n  \n  // page template elements:\n  \n  @ViewChild(IonSelect, { static: false, read: ElementRef }) type_select_ref: ElementRef;\n  @ViewChild(IonSelect, { static: false }) type_select: IonSelect;\n  @ViewChild(IonSelect, { static: false }) due_select: IonSelect;\n  @ViewChild(SelectServerComponent, { static: false }) select_server: SelectServerComponent;\n  @ViewChild(IonToggle, { static: false }) detailstoggle: IonToggle;\n  @ViewChildren(IonSelect) ionSelects: QueryList<IonSelect>;\n\n  // form:\n\n  formGroup: UntypedFormGroup;\n  stage: number\n  option_stage: number;\n  expanded: Array<boolean>;\n  advanced_expanded: boolean;\n  deleted: boolean;\n\n  // draft poll data:\n\n  pd: { \n    pid?,\n    is_test?,\n    type?, language?, \n    title?, desc?, url?, \n    due_type?, due_custom?, \n    db?, db_from_pid?, db_custom_server_url?, db_custom_password?,\n    options?: option_data_t[] \n  };\n  get n_options() { return (this.pd.options||[]).length; }\n\n  // objects:\n\n  pid: string;\n\n  // other:\n\n  max = Math.max; // function used frequently in template\n\n  // LIFECYCLE:\n\n  show_details = false;\n  ready = false;  \n\n  constructor(\n    private router: Router,\n    private route: ActivatedRoute,\n    public formBuilder: UntypedFormBuilder, \n    private popover: PopoverController,\n    public alertCtrl: AlertController,\n    public G: GlobalService,\n    public translate: TranslateService,\n    private ref: ChangeDetectorRef\n  ) { \n    this.G.L.entry(\"DraftpollPage.constructor\");\n    this.route.params.subscribe( params => { \n      this.pid = params['pid'];\n      this.pd = JSON.parse(decodeURIComponent(params['pd']||\"{}\"));\n    } );\n  }\n  \n  ngOnInit() {\n    this.G.L.entry(\"DraftpollPage.ngOnInit\");\n    this.reset();\n  }\n\n  ionViewWillEnter() {\n    this.G.L.entry(\"DraftpollPage.ionViewWillEnter\");\n    this.G.D.page = this;\n    this.reset();\n  }\n\n  ionViewDidEnter() {\n    this.G.L.entry(\"DraftpollPage.ionViewDidEnter\");\n    if (this.G.D.ready && !this.ready) this.onDataReady();\n  }\n\n  onDataReady() {\n    this.G.L.entry(\"DraftpollPage.onDataReady\");\n    this.deleted = false;\n    if (!this.pid) {\n      this.stage = 0;\n      if (!this.pd) {\n        this.G.L.info(\"DraftpollPage editing new draft\");\n        this.pd = { db:'default', language:this.G.S.language };\n      } else {\n        this.G.L.info(\"DraftpollPage editing draft with data\", this.pd);\n        this.pd.due_custom = (this.pd.due_custom||'')!=''?(new Date(this.pd.due_custom)):null;\n        this.pd.db = this.pd.db||'default';\n        this.pd.language = this.pd.language||this.G.S.language;\n      }\n    } else if (this.pid in this.G.P.polls) {\n      if (this.G.P.polls[this.pid].state == 'draft') {\n        this.G.L.info(\"DraftpollPage editing existing draft\", this.pid);\n        // read data:\n        let p = this.G.P.polls[this.pid];\n        this.pd = { \n          pid:p.pid,\n          type:p.type, language:p.language,\n          title:p.title, desc:p.desc, url:p.url, \n          due_type:p.due_type, due_custom:p.due_custom, \n          db:p.db, db_from_pid:p.db_from_pid, db_custom_server_url:p.db_custom_server_url, db_custom_password:p.db_custom_password,\n          options: [] \n        };\n        this.stage = !(!!p.due_custom)?6:p.due_type?6:p.url!=''?4:p.desc!=''?3:p.title!=''?4:p.type?1:0;\n        for (let [oid, o] of Object.entries(p.options)) {\n          this.pd.options.push({ oid:oid, name:o.name, desc:o.desc, url:o.url });\n          this.stage = 6;\n          this.option_stage = 10;\n        }\n      } else {\n        this.G.L.warn(\"DraftpollPage non-draft pid ignored, generating new draft\");\n      }\n    } else {\n      this.G.L.warn(\"DraftpollPage unknown pid ignored, generating new draft\");\n    }\n    this.expanded = Array<boolean>(this.n_options);\n    this.advanced_expanded = false;\n    // fill form:\n    if (this.pd) {\n      this.formGroup.setValue({ \n        poll_type: this.pd.type||'',\n        poll_language: (this.pd.language||'')!=''?this.pd.language:this.G.S.language,\n        poll_title: this.pd.title||'', \n        poll_desc: this.pd.desc||'',\n        poll_url: this.pd.url||'', \n        poll_due_type: this.pd.due_type||'', \n        poll_due_custom: (!this.pd.due_custom)?'':this.pd.due_custom.toISOString(),\n      });\n      if (this.pd.language||this.pd.db_from_pid||this.pd.db_custom_server_url) {\n        this.advanced_expanded = true;\n      }\n      if (this.pd.desc||this.pd.url) {\n        this.show_details = true;\n      }\n      if (!this.pd.options) {\n        this.pd.options = [];\n      }\n      for (let [i, od] of this.pd.options.entries()) {\n        this.add_option_inputs(i);\n        this.formGroup.get('option_name'+i).setValue(od.name); \n        this.formGroup.get('option_desc'+i).setValue(od.desc); \n        this.formGroup.get('option_url'+i).setValue(od.url); \n        this.stage = 6;\n        this.option_stage = 10;\n        if (od.desc||od.url) {\n          this.show_details = true;\n        }\n      }\n    }\n    if (this.n_options==0) {\n      this.add_option({});\n      this.option_stage = 0;\n    }\n    // show the page:\n    this.ready = true;\n    // find select-server component and register us with it:\n    this.ref.detectChanges();\n    // make sure select-element values are translated properly:\n    this.ionSelects.map((select) => select.value = select.value);\n    // open the type selector?:\n    if (!this.formGroup.get('poll_type').value) {\n      this.type_select.open(new MouseEvent(\"click\"));\n    }\n  }\n\n  onSelectServerReady(select_server:SelectServerComponent) {\n    // called by SelectServerComponent is ready\n    this.select_server = select_server;\n    if (this.pd) {\n      this.select_server.selectServerFormGroup.setValue({\n        db: this.pd.db||'',\n        db_from_pid: this.pd.db_from_pid||'',\n        db_custom_server_url: this.pd.db_custom_server_url||'',\n        db_custom_password: this.pd.db_custom_password||'',\n      });\n    }\n  }\n\n  ionViewWillLeave() {\n    this.G.L.entry(\"DraftpollPage.ionViewWillLeave\");\n    // TODO: close/dismiss this.type_select, which is a popover\n    if ((this.pd.title||'')=='') {\n      this.G.L.info(\"DraftpollPage.ionViewWillLeave not saving empty title draft\");\n      // TODO: notify of deleted draft\n    } else if (!this.deleted) {\n      this.G.L.info(\"DraftpollPage.ionViewWillLeave saving draft\");\n      var p;\n      if (!this.pid) {\n        this.pid = (this.pd.is_test == true ? 'TEST_' : '') + this.G.P.generate_pid();\n      }\n      if (!(this.pid in this.G.P.polls)) {\n        // generate new poll object:\n        p = new Poll(this.G, this.pid);\n      } else {\n        p = this.G.P.polls[this.pid];\n      }\n      p.state = 'draft';\n      if (this.pd.is_test == true) {\n        p.is_test = true;\n      }\n      p.type = this.pd.type;\n      p.language = this.pd.language;\n      p.title = this.pd.title;\n      p.desc = this.pd.desc;\n      p.url = this.pd.url;\n      p.due_type = this.pd.due_type;\n      p.due_custom = this.pd.due_custom;\n      p.set_due();\n      p.db = this.pd.db;\n      p.db_from_pid = this.pd.db_from_pid;\n      p.db_custom_server_url = this.pd.db_custom_server_url;\n      p.db_custom_password = this.pd.db_custom_password;\n      let oids = [];\n      for (let od of this.pd.options) {\n        this.G.L.trace(\" storing option data\", od);\n        if ((od.name||'')!='') {\n          var o: Option;\n          if (!od.oid) {\n            od.oid = this.G.P.generate_oid(this.pid);\n            this.G.L.trace(\"  generated new oid\", od.oid);\n          }\n          if (!(od.oid in p.options)) {\n            // generate new options object:\n            this.G.L.trace(\"  creating new Option object\");\n            o = new Option(this.G, p, od.oid, od.name, od.desc, od.url);\n          } else {\n            o = p.options[od.oid];\n            this.G.L.trace(\"  reusing Option object\", o);\n            o.name = od.name;\n            o.desc = od.desc;\n            o.url = od.url;\n          }\n          oids.push(od.oid);\n          if (p.is_test && !!od.ratings) {\n            // mark poll as test poll and store ratings of simulated voters:\n            this.G.D.setp(this.pid, 'simulated_ratings.'+od.oid, JSON.stringify(od.ratings));\n          }\n        }\n      }\n      this.G.L.trace(\" oids now\", oids);\n      // remove deleted options from p:\n      for (let [oid, o] of Object.entries(p.options)) {\n        if (!oids.includes(oid)) {\n          this.G.L.trace(\" removing old option\", oid);\n          p.remove_option(oid);\n        }\n      }\n      // send local notification:\n      LocalNotifications.schedule({\n        notifications: [{\n          title: this.translate.instant(\"draftpoll.notification-saved-title\"),\n          body: p.title,\n          id: 1 // TODO: increment or leave out?\n        }]\n      })\n      .then(res => {\n        this.G.L.trace(\"DraftpollPage.ionViewWillLeave localNotifications.schedule succeeded:\", res);\n      }).catch(err => {\n        this.G.L.warn(\"DraftpollPage.ionViewWillLeave localNotifications.schedule failed:\", err);\n      });\n    }\n    this.G.L.trace(\"DraftpollPage.ionViewWillLeave D.pids:\", [...this.G.D.pids]);\n    this.G.L.exit(\"DraftpollPage.ionViewWillLeave\");\n  }\n\n  ionViewDidLeave() {\n    this.G.L.entry(\"DraftpollPage.ionViewDidLeave\");\n    this.G.D.save_state();\n    this.ready = false; // so that when returning, onDataReady will again be triggered\n    this.G.L.exit(\"DraftpollPage.ionViewDidLeave\");\n  }\n\n  // OTHER HOOKS:\n\n  // for DataService:\n\n  onDataChange() {\n    // called whenever data stored in database has changed\n    this.G.L.entry(\"DraftpollPage.onDataChange\");\n    // TODO: what?\n  }\n\n  // for form actions:\n\n  set_poll_type() {\n    let c = this.formGroup.get('poll_type');\n    if (c.valid) this.pd.type = c.value;\n  }\n\n  set_poll_language() {\n    let c = this.formGroup.get('poll_language');\n    if (c.valid) this.pd.language = c.value;\n  }\n\n  set_poll_title() {\n    let c = this.formGroup.get('poll_title');\n    if (c.valid) this.pd.title = c.value;\n  }\n\n  set_poll_desc() {\n    let c = this.formGroup.get('poll_desc');\n    if (c.valid) this.pd.desc = c.value;\n  }\n\n  set_poll_url() {\n    let c = this.formGroup.get('poll_url');\n    if (c.valid) this.pd.url = c.value;\n  }\n\n  set_poll_due_type() {\n    let c = this.formGroup.get('poll_due_type');\n    if (c.valid) this.pd.due_type = c.value;\n  }\n\n  set_poll_due_custom() {\n    this.G.P.update_ref_date();\n    let c = this.formGroup.get('poll_due_custom');\n    if (c.valid) this.pd.due_custom = new Date(c.value);\n  }\n\n  set_option_name(i: number) {\n    let c = this.formGroup.get('option_name'+i);\n    this.G.L.trace(\"set_option_name\",i,c.value);\n    if (c.valid) this.pd.options[i].name = c.value;\n    this.G.L.trace(\"set_option_name result\",this.pd.options,this.pd.options[i]);\n  }\n\n  set_option_desc(i: number) {\n    let c = this.formGroup.get('option_desc'+i);\n    if (c.valid) this.pd.options[i].desc = c.value;\n  }\n\n  set_option_url(i: number) {\n    let c = this.formGroup.get('option_url'+i);\n    if (c.valid) this.pd.options[i].url = c.value;\n  }\n\n  // selectServer component hooks:\n\n  set_db(value: string) {\n    this.pd.db = value;\n  }\n\n  set_db_from_pid(value: string) {\n    this.pd.db_from_pid = value;\n  }\n\n  set_db_custom_server_url(value: string) {\n    this.pd.db_custom_server_url = value;\n  }\n\n  set_db_custom_password(value: string) {\n    this.pd.db_custom_password = value;\n  }\n\n  // focus management:\n\n  set_focus(input_element_id: string) {\n    /** set the focus to a certain IonInput element after 100 ms */\n    setTimeout(() => {\n      const next_input_element = <IonInput><unknown>document.getElementById(input_element_id);\n      if (!!next_input_element) {\n        next_input_element.setFocus();\n      }\n    }, 100);  \n  }\n\n  open_due_select() {\n    // TODO: find a way to open it so that the title is still visible. \n    /**/\n    setTimeout(() => {\n      (<IonSelect><unknown>document.getElementById('due_select')).open(new MouseEvent(\"click\"));\n    }, 100);\n    /**/\n  }\n\n  open_due_custom() {\n    setTimeout(() => {\n// FIXME:      (<IonDatetime><unknown>document.getElementById('poll_due_custom')).open();\n    }, 100);\n  }\n\n  changed_poll_type() {\n    if (this.stage < 1) {\n      this.stage = Math.max(this.stage, 1);    \n      this.set_focus('input_poll_title');  \n    }\n  }\n\n  blur_poll_title() {\n    if (!this.formGroup.get('poll_title').valid) {\n      this.set_focus('input_poll_title');\n    }\n  }\n\n  poll_title_onKeydown(ev: KeyboardEvent) {\n    if (is_forward_key(ev)) {\n      if (this.formGroup.get('poll_title').valid) {\n        if (this.stage < 2) {\n          this.stage = this.show_details ? 2 : 4;\n        }\n        if (this.show_details) {\n          this.set_focus('input_poll_desc');\n        } else {\n          this.open_due_select();\n        }\n      } else {\n        this.set_focus('input_poll_title');\n      }  \n    }\n  }\n\n  blur_poll_desc() {\n  }\n\n  poll_desc_onKeydown(ev: KeyboardEvent) {\n    if (is_forward_key(ev)) {\n      if (this.stage < 3) {\n        this.stage = 3;\n        this.set_focus('input_poll_url');  \n      }  \n    }\n  }\n\n  blur_poll_url() {\n    if (!this.formGroup.get('poll_url').valid) {\n      this.set_focus('input_poll_url');\n    }\n  }\n\n  poll_url_onKeydown(ev: KeyboardEvent) {\n    if (is_forward_key(ev)) {\n      if (this.formGroup.get('poll_url').valid) {\n        if (this.stage < 4) {\n          this.stage = Math.max(this.stage, 4);\n        }\n        this.open_due_select(); // TODO: open select for due type      \n      } else {\n        this.set_focus('input_poll_url');\n      }  \n    }\n  }\n\n  changed_due_type() {\n    if (this.stage < 5) {\n      if (this.formGroup.get('poll_due_type').value == 'custom') {\n        this.stage = 5;\n        this.open_due_custom();\n      } else {\n        this.stage = 6;\n        this.set_focus('input_option_name0');\n      }\n    }\n  }\n\n  changed_poll_due_custom() {\n    if (this.formGroup.get('poll_due_custom').valid) {\n      if (this.stage < 6) {\n        this.stage = 6;\n        this.set_focus('input_option_name0');\n      }  \n    }\n  }\n\n  blur_option_name(i: number) {\n    if (!this.formGroup.get('option_name'+i).valid) {\n      this.set_focus('input_option_name'+i);\n    }\n  }\n\n  option_name_onKeydown(ev: KeyboardEvent, i: number, show_details: boolean) {\n    if (is_forward_key(ev)) {\n      if (this.formGroup.get('option_name'+i).valid) {\n        if (show_details) {\n          this.option_stage = this.max(this.option_stage, 1);\n          this.expanded[i] = true;\n          this.set_focus('input_option_desc'+i);\n        } else if (i == this.n_options - 1) {\n          this.next_option(i);\n        }\n      } else {\n        this.set_focus('input_option_name'+i);\n      }  \n    }\n  }\n\n  blur_option_desc(i: number) {\n    if (!this.formGroup.get('option_desc'+i).valid) {\n      this.set_focus('input_option_desc'+i);\n    }\n  }\n\n  option_desc_onKeydown(ev: KeyboardEvent, i: number) {\n    if (is_forward_key(ev)) {\n      if (this.formGroup.get('option_desc'+i).valid) {\n        this.option_stage = Math.max(this.option_stage, 2);\n        this.set_focus('input_option_url'+i);\n      } else {\n        this.set_focus('input_option_desc'+i);\n      }  \n    }\n  }\n\n  blur_option_url(i: number) {\n    if (!this.formGroup.get('option_url'+i).valid) {\n      this.set_focus('input_option_url'+i);\n    }\n  }\n  \n  option_url_onKeydown(ev: KeyboardEvent, i: number) {\n    if (is_forward_key(ev)) {\n      if (this.formGroup.get('option_url'+i).valid) {\n        if (i == this.n_options - 1) {\n          this.next_option(i);\n        } else {\n          this.set_focus('input_option_name'+(i+1));\n        }\n      } else {\n        this.set_focus('input_option_url'+i);\n      }  \n    }\n  }\n\n  next_option(i: number) {\n    this.option_stage = this.max(this.option_stage, 3);\n    this.expanded[i] = false;\n    this.add_option({});\n    this.set_focus('input_option_name'+(i+1));\n  }\n\n  async del_poll_dialog() { \n    const confirm = await this.alertCtrl.create({ \n      message: this.translate.instant(\n        \"draftpoll.del-poll-confirm-question\"), \n      buttons: [\n        { \n          text: this.translate.instant('cancel'), \n          role: 'Cancel',\n          handler: () => { \n            console.log('Confirm Cancel.');  \n          } \n        },\n        { \n          text: this.translate.instant('OK'),\n          role: 'Ok', \n          handler: () => {\n            this.del_draft();\n          } \n        } \n      ] \n    }); \n    await confirm.present(); \n  } \n\n  async del_option_dialog(i: number) { \n    const confirm = await this.alertCtrl.create({ \n      message: this.translate.instant(\n        this.formGroup.get('poll_type').value == 'choice' \n          ? \"draftpoll.del-option-confirm-question\" \n          : \"draftpoll.del-target-confirm-question\", \n        { name: this.formGroup.get('option_name'+i).value }), \n      buttons: [\n        { \n          text: this.translate.instant('cancel'), \n          role: 'Cancel',\n          handler: () => { \n            console.log('Confirm Cancel.');  \n          } \n        },\n        { \n          text: this.translate.instant('OK'),\n          role: 'Ok', \n          handler: () => {\n            this.del_option(i);\n          } \n        } \n      ] \n    }); \n    await confirm.present(); \n  } \n\n  no_more() {\n    if ((this.formGroup.get('option_name'+(this.n_options-1)).value||'')=='') {\n      this.option_stage = 10;\n      this.del_option(this.n_options-1);\n    }\n  }\n\n  new_option() {\n    this.option_stage = 0;\n    this.add_option({});\n  }\n  \n  // kebap:\n\n  showkebap(event: Event) {\n    this.popover.create({\n        event, \n        component: DraftpollKebapPage, \n        translucent: true,\n        showBackdrop: false,\n        cssClass: 'kebap',\n        componentProps: {parent: this}\n      })\n      .then((popoverElement)=>{\n        popoverElement.present();\n      })\n  }\n\n  send4review() { \n    this.G.L.warn(\"DraftpollPage.send4review not yet implemented!\");\n  }\n\n  async import_csv_dialog() { \n    const confirm = await this.alertCtrl.create({ \n      header: this.translate.instant('draftpoll.import-options-header'), \n      message: this.translate.instant(\"draftpoll.import-options-msg\"), \n      buttons: [\n        { \n          text: this.translate.instant('cancel'), \n          role: 'Cancel',\n          handler: () => { \n            console.log('Confirm Cancel.');  \n          } \n        },\n        { \n          text: this.translate.instant('choose-file'),\n          role: 'Ok', \n          handler: () => {\n            // open the file chooser by simulating a click to the hidden form field:\n            document.getElementById(\"choosefile\").click();\n          } \n        } \n      ] \n    }); \n    await confirm.present(); \n  } \n\n  // ready button:\n\n  ready_button_clicked() {\n    this.formGroup.get('poll_due_custom').updateValueAndValidity();\n    if (this.formGroup.valid) {\n      if (!this.pid) {\n        this.pid = (this.pd.is_test == true ? 'TEST_' : '') + this.G.P.generate_pid();\n      }\n      this.router.navigate(['/previewpoll/'+this.pid]);\n    }\n  }\n\n  // OTHER METHODS:\n\n  private reset() {\n    this.formGroup = this.formBuilder.group({\n      poll_type: new UntypedFormControl('', Validators.required),\n      poll_language: new UntypedFormControl(''),\n      poll_title: new UntypedFormControl('', Validators.required),\n      poll_desc: new UntypedFormControl(''),\n      poll_url: new UntypedFormControl('', Validators.pattern(this.G.urlRegex)),\n      poll_due_type: new UntypedFormControl('', Validators.required),\n      poll_due_custom: new UntypedFormControl('', this.allowed_date.bind(this)),\n    });\n    this.G.P.update_ref_date();\n  }\n\n  private del_draft() {\n    // TODO!\n    if (this.pid) {\n      this.G.P.polls[this.pid].delete();\n    }\n    this.deleted = true;\n    this.router.navigate([\"/mypolls\"]);\n  }\n\n  import_csv(event: Event) {\n    const file = (event.target as HTMLInputElement).files[0];\n    const reader = new FileReader();\n    const page = this;\n    reader.onload = function (event) {\n      const content = event.target.result as string;\n      for (var row of content.split(\"\\n\")) {\n        // TODO: improve csv parser!\n        var cols = row.split(/\\s*\"\\s*,\\s*\"\\s*/);\n        if (cols.length>0) {\n          cols[0] = cols[0].slice(cols[0].indexOf('\"')+1);\n          cols[cols.length-1] = cols[cols.length-1].slice(0, cols[cols.length-1].indexOf('\"'));\n          cols = cols.map(c => c.trim());\n          if (cols[0] != \"\") {\n            page.no_more();\n            if (cols.length==1) { \n              page.add_option({ name:cols[0] });\n            } else if (cols.length==2) { \n              page.add_option({ name:cols[0], desc:cols[1] });\n              page.detailstoggle.checked = true;\n            } else { \n              page.add_option({ name:cols[0], desc:cols[1], url:cols[2]}); \n              page.detailstoggle.checked = true;\n            }\n            page.stage = 10;\n            page.option_stage = 10;\n          }\n        }\n      }\n    }\n    reader.readAsText(file);\n  }\n\n  restart_with_data(spec: string) {\n    this.G.L.info(\"DraftpollPage.restart_with_data\", spec);\n    this.router.navigate(['/draftpoll/use/'+encodeURIComponent(spec)]);\n  }\n\n  private add_option(od: option_data_t) {\n    let i = this.n_options;\n    this.pd.options.push(od);\n    this.add_option_inputs(i);\n    this.formGroup.get('option_name'+i).setValue(od.name); \n    this.formGroup.get('option_desc'+i).setValue(od.desc); \n    this.formGroup.get('option_url'+i).setValue(od.url); \n  }\n\n  private add_option_inputs(i:number) {\n    this.formGroup.addControl('option_name' + i, new UntypedFormControl(\"\", [Validators.required], [unique_name_validator$(this.existingOptionName$( 'option_name' + i))]));\n    this.formGroup.addControl('option_desc'+i, new UntypedFormControl(\"\"));\n    this.formGroup.addControl('option_url'+i, new UntypedFormControl(\"\", Validators.pattern(this.G.urlRegex)));\n    this.option_stage = 0;\n  }\n  \n  private del_option(i: number) {\n    // move metadata of options i+1,i+2,... back one slot to i,i+1,...:\n    for (let j=i+1; j<this.n_options; j++) {\n      this.formGroup.get('option_name'+(j-1)).setValue(this.formGroup.get('option_name'+j).value); \n      this.formGroup.get('option_desc'+(j-1)).setValue(this.formGroup.get('option_desc'+j).value); \n      this.formGroup.get('option_url'+(j-1)).setValue(this.formGroup.get('option_url'+j).value); \n      this.pd.options[j-1] = this.pd.options[j];\n    }\n    // remove last:\n    let j = this.n_options-1;\n    this.formGroup.removeControl('option_name'+j);\n    this.formGroup.removeControl('option_desc'+j);\n    this.formGroup.removeControl('option_url'+j);\n    this.pd.options.pop();\n  }\n\n  now() { return new Date(); }\n\n  private allowed_date(control: AbstractControl): ValidationErrors | null {\n    if (control && control.value) {\n      const value = new Date(control.value);\n      // check whether in past:\n      if (this.G.P.ref_date >= value)\n      {\n          return {past: true};\n      }\n      // check whether too far in future:\n      if (this.get_max_due() < value)\n      {\n          return {too_late: true};\n      }\n      return null;\n    }\n  }\n\n  get_max_due() {\n    const last = new Date(this.G.P.ref_date.valueOf());\n    last.setDate(last.getDate() + this.E.polls.max_duration_days);\n    return last;\n  }\n\n  // CONSTANTS:\n\n  validation_messages = {\n    'poll_type': [\n      { type: 'required', message: 'validation.poll-type-required' },\n    ],\n    'poll_language': [\n    ],\n    'poll_title': [\n      { type: 'required', message: 'validation.poll-title-required' },\n    ],\n    'poll_desc': [\n    ],\n    'poll_url': [\n      { type: 'pattern', message: 'validation.poll-url-valid' },\n    ],\n    'poll_due_type': [\n      { type: 'required', message: 'validation.poll-due-type-required' },\n    ],\n    'poll_due_custom': [\n      { message: 'validation.poll-due-future' },\n    ],\n    'option_name': [\n      { type: 'required', message: 'validation.option-name-required' },\n      { type: 'not_unique', message: 'validation.option-name-unique' },\n    ],\n    'option_desc': [\n    ],\n    'option_url': [\n      { type: 'pattern', message: 'validation.option-url-valid' },\n    ],\n  }\n\n  existingOptionName$(currentControlName: string): Observable<string[]> {\n    return this.formGroup.valueChanges.pipe(\n      startWith({}),\n      map(values => {\n        const optionNameKeys = Object.keys(values as Object).filter(k => { return k.includes('option_name') && k !== currentControlName })\n        const existingOptionNames: string[] = [];\n        optionNameKeys.forEach(key => existingOptionNames.push(values[key]));\n        return existingOptionNames;\n      })\n    )\n  }\n\n  \n}\n","import {\n  AbstractControl,\n  ValidationErrors,\n  AsyncValidatorFn,\n} from \"@angular/forms\";\nimport { Observable, of } from \"rxjs\";\nimport { map, take } from \"rxjs/operators\";\n\n/** The option-name has to be unique */\n\nexport function unique_name_validator$(\n  value$: Observable<string[]>\n): AsyncValidatorFn {\n  return (control: AbstractControl): Observable<ValidationErrors | null> => {\n    if (!control.valueChanges || control.pristine) {\n      return of(null);\n    }\n\n    return value$.pipe(\n      map((names) => {\n        return names.includes(control.value) ? { not_unique: true } : null;\n      }),\n      take(1)\n    );\n  };\n}\n"],"names":["Component","ViewChild","ViewChildren","ElementRef","ChangeDetectorRef","Validators","UntypedFormBuilder","UntypedFormControl","Router","ActivatedRoute","TranslateService","PopoverController","IonSelect","IonToggle","AlertController","LocalNotifications","DraftpollKebapPage","GlobalService","Poll","Option","SelectServerComponent","environment","unique_name_validator$","map","startWith","is_forward_key","ev","key","ctrlKey","shiftKey","metaKey","altKey","DraftpollPage","constructor","router","route","formBuilder","popover","alertCtrl","G","translate","ref","Math","max","type","message","L","entry","params","subscribe","pid","pd","JSON","parse","decodeURIComponent","n_options","options","length","ngOnInit","reset","ionViewWillEnter","D","page","ionViewDidEnter","ready","onDataReady","deleted","stage","info","db","language","S","due_custom","Date","P","polls","state","p","title","desc","url","due_type","db_from_pid","db_custom_server_url","db_custom_password","oid","o","Object","entries","push","name","option_stage","warn","expanded","Array","advanced_expanded","formGroup","setValue","poll_type","poll_language","poll_title","poll_desc","poll_url","poll_due_type","poll_due_custom","toISOString","show_details","i","od","add_option_inputs","get","add_option","detectChanges","ionSelects","select","value","type_select","open","MouseEvent","onSelectServerReady","select_server","selectServerFormGroup","ionViewWillLeave","is_test","generate_pid","set_due","oids","trace","generate_oid","ratings","setp","stringify","includes","remove_option","schedule","notifications","instant","body","id","then","res","catch","err","pids","exit","ionViewDidLeave","save_state","onDataChange","set_poll_type","c","valid","set_poll_language","set_poll_title","set_poll_desc","set_poll_url","set_poll_due_type","set_poll_due_custom","update_ref_date","set_option_name","set_option_desc","set_option_url","set_db","set_db_from_pid","set_db_custom_server_url","set_db_custom_password","set_focus","input_element_id","setTimeout","next_input_element","document","getElementById","setFocus","open_due_select","open_due_custom","changed_poll_type","blur_poll_title","poll_title_onKeydown","blur_poll_desc","poll_desc_onKeydown","blur_poll_url","poll_url_onKeydown","changed_due_type","changed_poll_due_custom","blur_option_name","option_name_onKeydown","next_option","blur_option_desc","option_desc_onKeydown","blur_option_url","option_url_onKeydown","del_poll_dialog","confirm","create","buttons","text","role","handler","console","log","del_draft","present","del_option_dialog","del_option","no_more","new_option","showkebap","event","component","translucent","showBackdrop","cssClass","componentProps","parent","popoverElement","send4review","import_csv_dialog","header","click","ready_button_clicked","updateValueAndValidity","navigate","group","required","pattern","urlRegex","allowed_date","bind","delete","import_csv","file","target","files","reader","FileReader","onload","content","result","row","split","cols","slice","indexOf","trim","detailstoggle","checked","readAsText","restart_with_data","spec","encodeURIComponent","addControl","existingOptionName$","j","removeControl","pop","now","control","ref_date","past","get_max_due","too_late","last","valueOf","setDate","getDate","E","max_duration_days","currentControlName","valueChanges","pipe","values","optionNameKeys","keys","filter","k","existingOptionNames","forEach","args","static","read","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}