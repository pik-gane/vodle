{"version":3,"file":"src_app_draftpoll_draftpoll_module_ts.js","mappings":"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","sources":["./src/app/draftpoll/draftpoll-routing.module.ts","./src/app/draftpoll/draftpoll.module.ts","./src/app/sharedcomponents/unique-form-validator.ts","./src/app/draftpoll/draftpoll.page.ts","./src/app/draftpoll/draftpoll.page.scss"],"sourcesContent":["/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { DraftpollPage } from './draftpoll.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: DraftpollPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class DraftpollPageRoutingModule {}\r\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\nimport { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { DraftpollPageRoutingModule } from './draftpoll-routing.module';\r\nimport { SharedcomponentsModule } from '../sharedcomponents/sharedcomponents.module';\r\n\r\nimport { DraftpollPage } from './draftpoll.page';\r\nexport { DraftpollPage } from './draftpoll.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    DraftpollPageRoutingModule,\r\n    SharedcomponentsModule,\r\n    TranslateModule.forChild(),\r\n    DraftpollPage\r\n  ],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class DraftpollPageModule {}\r\n","import {\r\n  AbstractControl,\r\n  ValidationErrors,\r\n  AsyncValidatorFn,\r\n} from \"@angular/forms\";\r\nimport { Observable, of } from \"rxjs\";\r\nimport { map, take } from \"rxjs/operators\";\r\n\r\n/** The option-name has to be unique */\r\n\r\nexport function unique_name_validator$(\r\n  value$: Observable<string[]>\r\n): AsyncValidatorFn {\r\n  return (control: AbstractControl): Observable<ValidationErrors | null> => {\r\n    if (!control.valueChanges || control.pristine) {\r\n      return of(null);\r\n    }\r\n\r\n    return value$.pipe(\r\n      map((names) => {\r\n        return names.includes(control.value) ? { not_unique: true } : null;\r\n      }),\r\n      take(1)\r\n    );\r\n  };\r\n}\r\n","/*\r\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\r\n\r\nThis file is part of vodle.\r\n\r\nvodle is free software: you can redistribute it and/or modify it under the \r\nterms of the GNU Affero General Public License as published by the Free \r\nSoftware Foundation, either version 3 of the License, or (at your option) \r\nany later version.\r\n\r\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \r\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \r\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \r\ndetails.\r\n\r\nYou should have received a copy of the GNU Affero General Public License \r\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \r\n*/\r\n\r\n/*\r\nTODO:\r\n- fix next field not showing in android app\r\n- fix wrong option_stage when returning, make \"skip\" button work properly\r\n- make tab key autofocus work properly\r\n*/\r\n\r\nimport { Component, OnInit, ViewChild, ViewChildren, ElementRef, QueryList, ChangeDetectorRef } from '@angular/core';\r\nimport { Validators, UntypedFormBuilder, UntypedFormGroup, UntypedFormControl, ValidationErrors, AbstractControl } from '@angular/forms';\r\nimport { Router, ActivatedRoute } from \"@angular/router\";\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\nimport { PopoverController, IonSelect, IonToggle, AlertController, IonInput, IonDatetime } from '@ionic/angular';\r\nimport { LocalNotifications } from '@capacitor/local-notifications';\r\n\r\nimport { DraftpollKebapPage } from '../draftpoll-kebap/draftpoll-kebap.module';  \r\n\r\nimport { GlobalService } from \"../global.service\";\r\nimport { Poll, Option } from \"../poll.service\";\r\nimport { SelectServerComponent } from '../sharedcomponents/select-server/select-server.component';\r\nimport { environment } from 'src/environments/environment';\r\n\r\nimport { unique_name_validator$ } from '../sharedcomponents/unique-form-validator';\r\nimport { Observable } from 'rxjs';\r\nimport { map, startWith } from 'rxjs/operators'\r\n\r\ntype option_data_t = { oid?, name?, desc?, url?, ratings? };\r\n\r\nfunction is_forward_key(ev: KeyboardEvent) {\r\n  return (ev.key == \"Tab\" || ev.key == \"Enter\") && !ev.ctrlKey && !ev.shiftKey && !ev.metaKey && !ev.altKey;\r\n}\r\n\r\n\r\nimport { SharedcomponentsModule } from '../sharedcomponents/sharedcomponents.module';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { CommonModule } from '@angular/common';\r\n@Component({\r\n  imports: [ CommonModule, IonicModule, TranslateModule, ReactiveFormsModule, SharedcomponentsModule ],\r\n  selector: 'app-draftpoll',\r\n  templateUrl: './draftpoll.page.html',\r\n  styleUrls: ['./draftpoll.page.scss'],\r\n})\r\nexport class DraftpollPage implements OnInit {\r\n\r\n  E = environment;\r\n  \r\n  // page template elements:\r\n  \r\n  @ViewChild(IonSelect, { static: false, read: ElementRef }) type_select_ref: ElementRef;\r\n  @ViewChild(IonSelect, { static: false }) type_select: IonSelect;\r\n  @ViewChild(IonSelect, { static: false }) due_select: IonSelect;\r\n  @ViewChild(SelectServerComponent, { static: false }) select_server: SelectServerComponent;\r\n  @ViewChild(IonToggle, { static: false }) detailstoggle: IonToggle;\r\n  @ViewChildren(IonSelect) ionSelects: QueryList<IonSelect>;\r\n\r\n  // form:\r\n\r\n  formGroup: UntypedFormGroup;\r\n  stage: number\r\n  option_stage: number;\r\n  expanded: Array<boolean>;\r\n  advanced_expanded: boolean;\r\n  deleted: boolean;\r\n\r\n  // draft poll data:\r\n\r\n  pd: { \r\n    pid?,\r\n    is_test?,\r\n    type?, language?, \r\n    title?, desc?, url?, \r\n    due_type?, due_custom?,\r\n    allow_ranked?,\r\n    allow_different?,\r\n    allow_weighted?,\r\n    db?, db_from_pid?, db_custom_server_url?, db_custom_password?,\r\n    options?: option_data_t[] \r\n  };\r\n  get n_options() { return (this.pd.options||[]).length; }\r\n\r\n  // objects:\r\n\r\n  pid: string;\r\n\r\n  // other:\r\n\r\n  max = Math.max; // function used frequently in template\r\n\r\n  // LIFECYCLE:\r\n\r\n  show_details = false;\r\n  ready = false;  \r\n\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    public formBuilder: UntypedFormBuilder, \r\n    private popover: PopoverController,\r\n    public alertCtrl: AlertController,\r\n    public G: GlobalService,\r\n    public translate: TranslateService,\r\n    private ref: ChangeDetectorRef\r\n  ) { \r\n    this.G.L.entry(\"DraftpollPage.constructor\");\r\n    this.route.params.subscribe( params => { \r\n      this.pid = params['pid'];\r\n      this.pd = JSON.parse(decodeURIComponent(params['pd']||\"{}\"));\r\n    } );\r\n  }\r\n  \r\n  ngOnInit() {\r\n    this.G.L.entry(\"DraftpollPage.ngOnInit\");\r\n    this.reset();\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.G.L.entry(\"DraftpollPage.ionViewWillEnter\");\r\n    this.G.D.page = this;\r\n    this.reset();\r\n  }\r\n\r\n  ionViewDidEnter() {\r\n    this.G.L.entry(\"DraftpollPage.ionViewDidEnter\");\r\n    if (this.G.D.ready && !this.ready) this.onDataReady();\r\n  }\r\n\r\n  onDataReady() {\r\n    this.G.L.entry(\"DraftpollPage.onDataReady\");\r\n    this.deleted = false;\r\n    if (!this.pid) {\r\n      this.stage = 0;\r\n      if (!this.pd) {\r\n        this.G.L.info(\"DraftpollPage editing new draft\");\r\n        this.pd = { db:'default', language:this.G.S.language, allow_ranked:false, allow_different:false};\r\n      } else {\r\n        this.G.L.info(\"DraftpollPage editing draft with data\", this.pd);\r\n        this.pd.due_custom = (this.pd.due_custom||'')!=''?(new Date(this.pd.due_custom)):null;\r\n        this.pd.db = this.pd.db||'default';\r\n        this.pd.language = this.pd.language||this.G.S.language;\r\n      }\r\n    } else if (this.pid in this.G.P.polls) {\r\n      if (this.G.P.polls[this.pid].state == 'draft') {\r\n        this.G.L.info(\"DraftpollPage editing existing draft\", this.pid);\r\n        // read data:\r\n        let p = this.G.P.polls[this.pid];\r\n        this.pd = { \r\n          pid:p.pid,\r\n          type:p.type, language:p.language,\r\n          title:p.title, desc:p.desc, url:p.url, \r\n          due_type:p.due_type, due_custom:p.due_custom,\r\n          allow_ranked:p.allow_ranked,\r\n          allow_different:p.allow_different,\r\n          allow_weighted:p.allow_weighted,\r\n          db:p.db, db_from_pid:p.db_from_pid, db_custom_server_url:p.db_custom_server_url, db_custom_password:p.db_custom_password,\r\n          options: [] \r\n        };\r\n        this.stage = !(!!p.due_custom)?6:p.due_type?6:p.url!=''?4:p.desc!=''?3:p.title!=''?4:p.type?1:0;\r\n        for (let [oid, o] of Object.entries(p.options)) {\r\n          this.pd.options.push({ oid:oid, name:o.name, desc:o.desc, url:o.url });\r\n          this.stage = 6;\r\n          this.option_stage = 10;\r\n        }\r\n      } else {\r\n        this.G.L.warn(\"DraftpollPage non-draft pid ignored, generating new draft\");\r\n      }\r\n    } else {\r\n      this.G.L.warn(\"DraftpollPage unknown pid ignored, generating new draft\");\r\n    }\r\n    this.expanded = Array<boolean>(this.n_options);\r\n    this.advanced_expanded = false;\r\n    // fill form:\r\n    if (this.pd) {\r\n      this.formGroup.setValue({ \r\n        poll_type: this.pd.type||'',\r\n        poll_language: (this.pd.language||'')!=''?this.pd.language:this.G.S.language,\r\n        poll_title: this.pd.title||'', \r\n        poll_desc: this.pd.desc||'',\r\n        poll_url: this.pd.url||'', \r\n        poll_due_type: this.pd.due_type||'', \r\n        poll_due_custom: (!this.pd.due_custom)?'':this.pd.due_custom.toISOString(),\r\n        poll_allow_ranked_delegation: this.pd.allow_ranked||false,\r\n        poll_allow_different_delegation: this.pd.allow_different||false,\r\n        poll_allow_weighted_delegation: this.pd.allow_weighted||false,\r\n      });\r\n      if (this.pd.language||this.pd.db_from_pid||this.pd.db_custom_server_url) {\r\n        this.advanced_expanded = true;\r\n      }\r\n      if (this.pd.desc||this.pd.url) {\r\n        this.show_details = true;\r\n      }\r\n      if (!this.pd.options) {\r\n        this.pd.options = [];\r\n      }\r\n      for (let [i, od] of this.pd.options.entries()) {\r\n        this.add_option_inputs(i);\r\n        this.formGroup.get('option_name'+i).setValue(od.name); \r\n        this.formGroup.get('option_desc'+i).setValue(od.desc); \r\n        this.formGroup.get('option_url'+i).setValue(od.url); \r\n        this.stage = 6;\r\n        this.option_stage = 10;\r\n        if (od.desc||od.url) {\r\n          this.show_details = true;\r\n        }\r\n      }\r\n    }\r\n    if (this.n_options==0) {\r\n      this.add_option({});\r\n      this.option_stage = 0;\r\n    }\r\n    // show the page:\r\n    this.ready = true;\r\n    // find select-server component and register us with it:\r\n    this.ref.detectChanges();\r\n    // make sure select-element values are translated properly:\r\n    this.ionSelects.map((select) => select.value = select.value);\r\n    // open the type selector?:\r\n    if (!this.formGroup.get('poll_type').value) {\r\n      this.type_select.open(new MouseEvent(\"click\"));\r\n    }\r\n  }\r\n\r\n  onSelectServerReady(select_server:SelectServerComponent) {\r\n    // called by SelectServerComponent is ready\r\n    this.select_server = select_server;\r\n    if (this.pd) {\r\n      this.select_server.selectServerFormGroup.setValue({\r\n        db: this.pd.db||'',\r\n        db_from_pid: this.pd.db_from_pid||'',\r\n        db_custom_server_url: this.pd.db_custom_server_url||'',\r\n        db_custom_password: this.pd.db_custom_password||'',\r\n        db_allow_ranked: this.pd.allow_ranked||false,\r\n        db_allow_different: this.pd.allow_different||false,\r\n        db_allow_weighted: this.pd.allow_weighted||false,\r\n      });\r\n    }\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.G.L.entry(\"DraftpollPage.ionViewWillLeave\");\r\n    // TODO: close/dismiss this.type_select, which is a popover\r\n    if ((this.pd.title||'')=='') {\r\n      this.G.L.info(\"DraftpollPage.ionViewWillLeave not saving empty title draft\");\r\n      // TODO: notify of deleted draft\r\n    } else if (!this.deleted) {\r\n      this.G.L.info(\"DraftpollPage.ionViewWillLeave saving draft\");\r\n      var p;\r\n      if (!this.pid) {\r\n        this.pid = (this.pd.is_test == true ? 'TEST_' : '') + this.G.P.generate_pid();\r\n      }\r\n      if (!(this.pid in this.G.P.polls)) {\r\n        // generate new poll object:\r\n        p = new Poll(this.G, this.pid);\r\n      } else {\r\n        p = this.G.P.polls[this.pid];\r\n      }\r\n      p.state = 'draft';\r\n      if (this.pd.is_test == true) {\r\n        p.is_test = true;\r\n      }\r\n      p.type = this.pd.type;\r\n      p.language = this.pd.language;\r\n      p.title = this.pd.title;\r\n      p.desc = this.pd.desc;\r\n      p.url = this.pd.url;\r\n      p.due_type = this.pd.due_type;\r\n      p.due_custom = this.pd.due_custom;\r\n      p.allow_ranked = this.pd.allow_ranked || false;\r\n      p.allow_different = this.pd.allow_different || false;\r\n      p.allow_weighted = this.pd.allow_weighted || false;\r\n      p.set_due();\r\n      p.db = this.pd.db;\r\n      p.db_from_pid = this.pd.db_from_pid;\r\n      p.db_custom_server_url = this.pd.db_custom_server_url;\r\n      p.db_custom_password = this.pd.db_custom_password;\r\n      let oids = [];\r\n      for (let od of this.pd.options) {\r\n        this.G.L.trace(\" storing option data\", od);\r\n        if ((od.name||'')!='') {\r\n          var o: Option;\r\n          if (!od.oid) {\r\n            od.oid = this.G.P.generate_oid(this.pid);\r\n            this.G.L.trace(\"  generated new oid\", od.oid);\r\n          }\r\n          if (!(od.oid in p.options)) {\r\n            // generate new options object:\r\n            this.G.L.trace(\"  creating new Option object\");\r\n            o = new Option(this.G, p, od.oid, od.name, od.desc, od.url);\r\n          } else {\r\n            o = p.options[od.oid];\r\n            this.G.L.trace(\"  reusing Option object\", o);\r\n            o.name = od.name;\r\n            o.desc = od.desc;\r\n            o.url = od.url;\r\n          }\r\n          oids.push(od.oid);\r\n          if (p.is_test && !!od.ratings) {\r\n            // mark poll as test poll and store ratings of simulated voters:\r\n            this.G.D.setp(this.pid, 'simulated_ratings.'+od.oid, JSON.stringify(od.ratings));\r\n          }\r\n        }\r\n      }\r\n      this.G.L.trace(\" oids now\", oids);\r\n      // remove deleted options from p:\r\n      for (let [oid, o] of Object.entries(p.options)) {\r\n        if (!oids.includes(oid)) {\r\n          this.G.L.trace(\" removing old option\", oid);\r\n          p.remove_option(oid);\r\n        }\r\n      }\r\n      // send local notification:\r\n      LocalNotifications.schedule({\r\n        notifications: [{\r\n          title: this.translate.instant(\"draftpoll.notification-saved-title\"),\r\n          body: p.title,\r\n          id: 1 // TODO: increment or leave out?\r\n        }]\r\n      })\r\n      .then(res => {\r\n        this.G.L.trace(\"DraftpollPage.ionViewWillLeave localNotifications.schedule succeeded:\", res);\r\n      }).catch(err => {\r\n        this.G.L.warn(\"DraftpollPage.ionViewWillLeave localNotifications.schedule failed:\", err);\r\n      });\r\n    }\r\n    console.log(\"DraftpollPage.ionViewWillLeave p object:\", p);\r\n    this.G.L.trace(\"DraftpollPage.ionViewWillLeave D.pids:\", [...this.G.D.pids]);\r\n    this.G.L.exit(\"DraftpollPage.ionViewWillLeave\");\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    this.G.L.entry(\"DraftpollPage.ionViewDidLeave\");\r\n    this.G.D.save_state();\r\n    this.ready = false; // so that when returning, onDataReady will again be triggered\r\n    this.G.L.exit(\"DraftpollPage.ionViewDidLeave\");\r\n  }\r\n\r\n  // OTHER HOOKS:\r\n\r\n  // for DataService:\r\n\r\n  onDataChange() {\r\n    // called whenever data stored in database has changed\r\n    this.G.L.entry(\"DraftpollPage.onDataChange\");\r\n    // TODO: what?\r\n  }\r\n\r\n  // for form actions:\r\n\r\n  set_poll_type() {\r\n    let c = this.formGroup.get('poll_type');\r\n    if (c.valid) this.pd.type = c.value;\r\n  }\r\n\r\n  set_poll_language() {\r\n    let c = this.formGroup.get('poll_language');\r\n    if (c.valid) this.pd.language = c.value;\r\n  }\r\n\r\n  set_poll_title() {\r\n    let c = this.formGroup.get('poll_title');\r\n    if (c.valid) this.pd.title = c.value;\r\n  }\r\n\r\n  set_poll_desc() {\r\n    let c = this.formGroup.get('poll_desc');\r\n    if (c.valid) this.pd.desc = c.value;\r\n  }\r\n\r\n  set_poll_url() {\r\n    let c = this.formGroup.get('poll_url');\r\n    if (c.valid) this.pd.url = c.value;\r\n  }\r\n\r\n  set_poll_due_type() {\r\n    let c = this.formGroup.get('poll_due_type');\r\n    if (c.valid) this.pd.due_type = c.value;\r\n  }\r\n\r\n  set_poll_due_custom() {\r\n    this.G.P.update_ref_date();\r\n    let c = this.formGroup.get('poll_due_custom');\r\n    if (c.valid) this.pd.due_custom = new Date(c.value);\r\n  }\r\n\r\n  set_poll_allow_ranked_delegation(){\r\n    this.G.L.trace(\"set_poll_allow_ranked_delegation\",this.pd.allow_ranked);\r\n    this.pd.allow_ranked = this.formGroup.get('poll_allow_ranked_delegation').value;\r\n    if (this.pd.allow_ranked) {\r\n      this.pd.allow_different = false;\r\n      this.pd.allow_weighted = false;\r\n      this.updateForm();\r\n    }\r\n    this.G.L.trace(\"set_poll_allow_ranked_delegation result\",this.pd.allow_ranked);\r\n  }\r\n\r\n  set_poll_allow_different_delegation(){\r\n    this.G.L.trace(\"set_poll_allow_different_delegation\",this.pd.allow_different);\r\n    this.pd.allow_different = this.formGroup.get('poll_allow_different_delegation').value;\r\n    if (this.pd.allow_different) {\r\n      this.pd.allow_ranked = false;\r\n      this.pd.allow_weighted = false;\r\n      this.updateForm();\r\n    }\r\n    this.G.L.trace(\"set_poll_allow_different_delegation result\",this.pd.allow_different);\r\n  }\r\n\r\n  set_poll_allow_weighted_delegation(){\r\n    this.G.L.trace(\"set_poll_allow_weighted_delegation\",this.pd.allow_different);\r\n    this.pd.allow_weighted = this.formGroup.get('poll_allow_weighted_delegation').value;\r\n    if (this.pd.allow_weighted) {\r\n      this.pd.allow_different = false;\r\n      this.pd.allow_ranked = false;\r\n      this.updateForm();\r\n    }\r\n    this.G.L.trace(\"set_poll_allow_different_delegation result\",this.pd.allow_different);\r\n  }\r\n\r\n  updateForm() {\r\n    this.formGroup.patchValue({\r\n      poll_allow_ranked_delegation: this.pd.allow_ranked,\r\n      poll_allow_different_delegation: this.pd.allow_different,\r\n      poll_allow_weighted_delegation: this.pd.allow_weighted\r\n    });\r\n  }\r\n\r\n  set_option_name(i: number) {\r\n    let c = this.formGroup.get('option_name'+i);\r\n    this.G.L.trace(\"set_option_name\",i,c.value);\r\n    if (c.valid) this.pd.options[i].name = c.value;\r\n    this.G.L.trace(\"set_option_name result\",this.pd.options,this.pd.options[i]);\r\n  }\r\n\r\n  set_option_desc(i: number) {\r\n    let c = this.formGroup.get('option_desc'+i);\r\n    if (c.valid) this.pd.options[i].desc = c.value;\r\n  }\r\n\r\n  set_option_url(i: number) {\r\n    let c = this.formGroup.get('option_url'+i);\r\n    if (c.valid) this.pd.options[i].url = c.value;\r\n  }\r\n\r\n  // selectServer component hooks:\r\n\r\n  set_db(value: string) {\r\n    this.pd.db = value;\r\n  }\r\n\r\n  set_db_from_pid(value: string) {\r\n    this.pd.db_from_pid = value;\r\n  }\r\n\r\n  set_db_custom_server_url(value: string) {\r\n    this.pd.db_custom_server_url = value;\r\n  }\r\n\r\n  set_db_custom_password(value: string) {\r\n    this.pd.db_custom_password = value;\r\n  }\r\n\r\n  // focus management:\r\n\r\n  set_focus(input_element_id: string) {\r\n    /** set the focus to a certain IonInput element after 100 ms */\r\n    setTimeout(() => {\r\n      const next_input_element = <IonInput><unknown>document.getElementById(input_element_id);\r\n      if (!!next_input_element) {\r\n        next_input_element.setFocus();\r\n      }\r\n    }, 100);  \r\n  }\r\n\r\n  open_due_select() {\r\n    // TODO: find a way to open it so that the title is still visible. \r\n    /**/\r\n    setTimeout(() => {\r\n      (<IonSelect><unknown>document.getElementById('due_select')).open(new MouseEvent(\"click\"));\r\n    }, 100);\r\n    /**/\r\n  }\r\n\r\n  open_due_custom() {\r\n    setTimeout(() => {\r\n// FIXME:      (<IonDatetime><unknown>document.getElementById('poll_due_custom')).open();\r\n    }, 100);\r\n  }\r\n\r\n  changed_poll_type() {\r\n    if (this.stage < 1) {\r\n      this.stage = Math.max(this.stage, 1);    \r\n      this.set_focus('input_poll_title');  \r\n    }\r\n  }\r\n\r\n  blur_poll_title() {\r\n    if (!this.formGroup.get('poll_title').valid) {\r\n      this.set_focus('input_poll_title');\r\n    }\r\n  }\r\n\r\n  poll_title_onKeydown(ev: KeyboardEvent) {\r\n    if (is_forward_key(ev)) {\r\n      if (this.formGroup.get('poll_title').valid) {\r\n        if (this.stage < 2) {\r\n          this.stage = this.show_details ? 2 : 4;\r\n        }\r\n        if (this.show_details) {\r\n          this.set_focus('input_poll_desc');\r\n        } else {\r\n          this.open_due_select();\r\n        }\r\n      } else {\r\n        this.set_focus('input_poll_title');\r\n      }  \r\n    }\r\n  }\r\n\r\n  blur_poll_desc() {\r\n  }\r\n\r\n  poll_desc_onKeydown(ev: KeyboardEvent) {\r\n    if (is_forward_key(ev)) {\r\n      if (this.stage < 3) {\r\n        this.stage = 3;\r\n        this.set_focus('input_poll_url');  \r\n      }  \r\n    }\r\n  }\r\n\r\n  blur_poll_url() {\r\n    if (!this.formGroup.get('poll_url').valid) {\r\n      this.set_focus('input_poll_url');\r\n    }\r\n  }\r\n\r\n  poll_url_onKeydown(ev: KeyboardEvent) {\r\n    if (is_forward_key(ev)) {\r\n      if (this.formGroup.get('poll_url').valid) {\r\n        if (this.stage < 4) {\r\n          this.stage = Math.max(this.stage, 4);\r\n        }\r\n        this.open_due_select(); // TODO: open select for due type      \r\n      } else {\r\n        this.set_focus('input_poll_url');\r\n      }  \r\n    }\r\n  }\r\n\r\n  changed_due_type() {\r\n    if (this.stage < 5) {\r\n      if (this.formGroup.get('poll_due_type').value == 'custom') {\r\n        this.stage = 5;\r\n        this.open_due_custom();\r\n      } else {\r\n        this.stage = 6;\r\n        this.set_focus('input_option_name0');\r\n      }\r\n    }\r\n  }\r\n\r\n  changed_poll_due_custom() {\r\n    if (this.formGroup.get('poll_due_custom').valid) {\r\n      if (this.stage < 6) {\r\n        this.stage = 6;\r\n        this.set_focus('input_option_name0');\r\n      }  \r\n    }\r\n  }\r\n\r\n  blur_option_name(i: number) {\r\n    if (!this.formGroup.get('option_name'+i).valid) {\r\n      this.set_focus('input_option_name'+i);\r\n    }\r\n  }\r\n\r\n  option_name_onKeydown(ev: KeyboardEvent, i: number, show_details: boolean) {\r\n    if (is_forward_key(ev)) {\r\n      if (this.formGroup.get('option_name'+i).valid) {\r\n        if (show_details) {\r\n          this.option_stage = this.max(this.option_stage, 1);\r\n          this.expanded[i] = true;\r\n          this.set_focus('input_option_desc'+i);\r\n        } else if (i == this.n_options - 1) {\r\n          this.next_option(i);\r\n        }\r\n      } else {\r\n        this.set_focus('input_option_name'+i);\r\n      }  \r\n    }\r\n  }\r\n\r\n  blur_option_desc(i: number) {\r\n    if (!this.formGroup.get('option_desc'+i).valid) {\r\n      this.set_focus('input_option_desc'+i);\r\n    }\r\n  }\r\n\r\n  option_desc_onKeydown(ev: KeyboardEvent, i: number) {\r\n    if (is_forward_key(ev)) {\r\n      if (this.formGroup.get('option_desc'+i).valid) {\r\n        this.option_stage = Math.max(this.option_stage, 2);\r\n        this.set_focus('input_option_url'+i);\r\n      } else {\r\n        this.set_focus('input_option_desc'+i);\r\n      }  \r\n    }\r\n  }\r\n\r\n  blur_option_url(i: number) {\r\n    if (!this.formGroup.get('option_url'+i).valid) {\r\n      this.set_focus('input_option_url'+i);\r\n    }\r\n  }\r\n  \r\n  option_url_onKeydown(ev: KeyboardEvent, i: number) {\r\n    if (is_forward_key(ev)) {\r\n      if (this.formGroup.get('option_url'+i).valid) {\r\n        if (i == this.n_options - 1) {\r\n          this.next_option(i);\r\n        } else {\r\n          this.set_focus('input_option_name'+(i+1));\r\n        }\r\n      } else {\r\n        this.set_focus('input_option_url'+i);\r\n      }  \r\n    }\r\n  }\r\n\r\n  next_option(i: number) {\r\n    this.option_stage = this.max(this.option_stage, 3);\r\n    this.expanded[i] = false;\r\n    this.add_option({});\r\n    this.set_focus('input_option_name'+(i+1));\r\n  }\r\n\r\n  async del_poll_dialog() { \r\n    const confirm = await this.alertCtrl.create({ \r\n      message: this.translate.instant(\r\n        \"draftpoll.del-poll-confirm-question\"), \r\n      buttons: [\r\n        { \r\n          text: this.translate.instant('cancel'), \r\n          role: 'Cancel',\r\n          handler: () => { \r\n            console.log('Confirm Cancel.');  \r\n          } \r\n        },\r\n        { \r\n          text: this.translate.instant('OK'),\r\n          role: 'Ok', \r\n          handler: () => {\r\n            this.del_draft();\r\n          } \r\n        } \r\n      ] \r\n    }); \r\n    await confirm.present(); \r\n  } \r\n\r\n  async del_option_dialog(i: number) { \r\n    const confirm = await this.alertCtrl.create({ \r\n      message: this.translate.instant(\r\n        this.formGroup.get('poll_type').value == 'choice' \r\n          ? \"draftpoll.del-option-confirm-question\" \r\n          : \"draftpoll.del-target-confirm-question\", \r\n        { name: this.formGroup.get('option_name'+i).value }), \r\n      buttons: [\r\n        { \r\n          text: this.translate.instant('cancel'), \r\n          role: 'Cancel',\r\n          handler: () => { \r\n            console.log('Confirm Cancel.');  \r\n          } \r\n        },\r\n        { \r\n          text: this.translate.instant('OK'),\r\n          role: 'Ok', \r\n          handler: () => {\r\n            this.del_option(i);\r\n          } \r\n        } \r\n      ] \r\n    }); \r\n    await confirm.present(); \r\n  } \r\n\r\n  no_more() {\r\n    if ((this.formGroup.get('option_name'+(this.n_options-1)).value||'')=='') {\r\n      this.option_stage = 10;\r\n      this.del_option(this.n_options-1);\r\n    }\r\n  }\r\n\r\n  new_option() {\r\n    this.option_stage = 0;\r\n    this.add_option({});\r\n  }\r\n  \r\n  // kebap:\r\n\r\n  showkebap(event: Event) {\r\n    this.popover.create({\r\n        event, \r\n        component: DraftpollKebapPage, \r\n        translucent: true,\r\n        showBackdrop: false,\r\n        cssClass: 'kebap',\r\n        componentProps: {parent: this}\r\n      })\r\n      .then((popoverElement)=>{\r\n        popoverElement.present();\r\n      })\r\n  }\r\n\r\n  send4review() { \r\n    this.G.L.warn(\"DraftpollPage.send4review not yet implemented!\");\r\n  }\r\n\r\n  async import_csv_dialog() { \r\n    const confirm = await this.alertCtrl.create({ \r\n      header: this.translate.instant('draftpoll.import-options-header'), \r\n      message: this.translate.instant(\"draftpoll.import-options-msg\"), \r\n      buttons: [\r\n        { \r\n          text: this.translate.instant('cancel'), \r\n          role: 'Cancel',\r\n          handler: () => { \r\n            console.log('Confirm Cancel.');  \r\n          } \r\n        },\r\n        { \r\n          text: this.translate.instant('choose-file'),\r\n          role: 'Ok', \r\n          handler: () => {\r\n            // open the file chooser by simulating a click to the hidden form field:\r\n            document.getElementById(\"choosefile\").click();\r\n          } \r\n        } \r\n      ] \r\n    }); \r\n    await confirm.present(); \r\n  } \r\n\r\n  // ready button:\r\n\r\n  ready_button_clicked() {\r\n    this.formGroup.get('poll_due_custom').updateValueAndValidity();\r\n    if (this.formGroup.valid) {\r\n      if (!this.pid) {\r\n        this.pid = (this.pd.is_test == true ? 'TEST_' : '') + this.G.P.generate_pid();\r\n      }\r\n      this.router.navigate(['/previewpoll/'+this.pid]);\r\n    }\r\n  }\r\n\r\n  // OTHER METHODS:\r\n\r\n  private reset() {\r\n    this.formGroup = this.formBuilder.group({\r\n      poll_type: new UntypedFormControl('', Validators.required),\r\n      poll_language: new UntypedFormControl(''),\r\n      poll_title: new UntypedFormControl('', Validators.required),\r\n      poll_desc: new UntypedFormControl(''),\r\n      poll_url: new UntypedFormControl('', Validators.pattern(this.G.urlRegex)),\r\n      poll_due_type: new UntypedFormControl('', Validators.required),\r\n      poll_due_custom: new UntypedFormControl('', this.allowed_date.bind(this)),\r\n      poll_allow_ranked_delegation: new UntypedFormControl(false),\r\n      poll_allow_different_delegation: new UntypedFormControl(false),\r\n      poll_allow_weighted_delegation: new UntypedFormControl(false),\r\n    });\r\n    this.G.P.update_ref_date();\r\n  }\r\n\r\n  private del_draft() {\r\n    // TODO!\r\n    if (this.pid) {\r\n      this.G.P.polls[this.pid].delete();\r\n    }\r\n    this.deleted = true;\r\n    this.router.navigate([\"/mypolls\"]);\r\n  }\r\n\r\n  import_csv(event: Event) {\r\n    const file = (event.target as HTMLInputElement).files[0];\r\n    const reader = new FileReader();\r\n    const page = this;\r\n    reader.onload = function (event) {\r\n      const content = event.target.result as string;\r\n      for (var row of content.split(\"\\n\")) {\r\n        // TODO: improve csv parser!\r\n        var cols = row.split(/\\s*\"\\s*,\\s*\"\\s*/);\r\n        if (cols.length>0) {\r\n          cols[0] = cols[0].slice(cols[0].indexOf('\"')+1);\r\n          cols[cols.length-1] = cols[cols.length-1].slice(0, cols[cols.length-1].indexOf('\"'));\r\n          cols = cols.map(c => c.trim());\r\n          if (cols[0] != \"\") {\r\n            page.no_more();\r\n            if (cols.length==1) { \r\n              page.add_option({ name:cols[0] });\r\n            } else if (cols.length==2) { \r\n              page.add_option({ name:cols[0], desc:cols[1] });\r\n              page.detailstoggle.checked = true;\r\n            } else { \r\n              page.add_option({ name:cols[0], desc:cols[1], url:cols[2]}); \r\n              page.detailstoggle.checked = true;\r\n            }\r\n            page.stage = 10;\r\n            page.option_stage = 10;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    reader.readAsText(file);\r\n  }\r\n\r\n  restart_with_data(spec: string) {\r\n    this.G.L.info(\"DraftpollPage.restart_with_data\", spec);\r\n    this.router.navigate(['/draftpoll/use/'+encodeURIComponent(spec)]);\r\n  }\r\n\r\n  private add_option(od: option_data_t) {\r\n    let i = this.n_options;\r\n    this.pd.options.push(od);\r\n    this.add_option_inputs(i);\r\n    this.formGroup.get('option_name'+i).setValue(od.name); \r\n    this.formGroup.get('option_desc'+i).setValue(od.desc); \r\n    this.formGroup.get('option_url'+i).setValue(od.url); \r\n  }\r\n\r\n  private add_option_inputs(i:number) {\r\n    this.formGroup.addControl('option_name' + i, new UntypedFormControl(\"\", [Validators.required], [unique_name_validator$(this.existingOptionName$( 'option_name' + i))]));\r\n    this.formGroup.addControl('option_desc'+i, new UntypedFormControl(\"\"));\r\n    this.formGroup.addControl('option_url'+i, new UntypedFormControl(\"\", Validators.pattern(this.G.urlRegex)));\r\n    this.option_stage = 0;\r\n  }\r\n  \r\n  private del_option(i: number) {\r\n    // move metadata of options i+1,i+2,... back one slot to i,i+1,...:\r\n    for (let j=i+1; j<this.n_options; j++) {\r\n      this.formGroup.get('option_name'+(j-1)).setValue(this.formGroup.get('option_name'+j).value); \r\n      this.formGroup.get('option_desc'+(j-1)).setValue(this.formGroup.get('option_desc'+j).value); \r\n      this.formGroup.get('option_url'+(j-1)).setValue(this.formGroup.get('option_url'+j).value); \r\n      this.pd.options[j-1] = this.pd.options[j];\r\n    }\r\n    // remove last:\r\n    let j = this.n_options-1;\r\n    this.formGroup.removeControl('option_name'+j);\r\n    this.formGroup.removeControl('option_desc'+j);\r\n    this.formGroup.removeControl('option_url'+j);\r\n    this.pd.options.pop();\r\n  }\r\n\r\n  now() { return new Date(); }\r\n\r\n  private allowed_date(control: AbstractControl): ValidationErrors | null {\r\n    if (control && control.value) {\r\n      const value = new Date(control.value);\r\n      // check whether in past:\r\n      if (this.G.P.ref_date >= value)\r\n      {\r\n          return {past: true};\r\n      }\r\n      // check whether too far in future:\r\n      if (this.get_max_due() < value)\r\n      {\r\n          return {too_late: true};\r\n      }\r\n      return null;\r\n    }\r\n  }\r\n\r\n  get_max_due() {\r\n    const last = new Date(this.G.P.ref_date.valueOf());\r\n    last.setDate(last.getDate() + this.E.polls.max_duration_days);\r\n    return last;\r\n  }\r\n\r\n  // CONSTANTS:\r\n\r\n  validation_messages = {\r\n    'poll_type': [\r\n      { type: 'required', message: 'validation.poll-type-required' },\r\n    ],\r\n    'poll_language': [\r\n    ],\r\n    'poll_title': [\r\n      { type: 'required', message: 'validation.poll-title-required' },\r\n    ],\r\n    'poll_desc': [\r\n    ],\r\n    'poll_url': [\r\n      { type: 'pattern', message: 'validation.poll-url-valid' },\r\n    ],\r\n    'poll_due_type': [\r\n      { type: 'required', message: 'validation.poll-due-type-required' },\r\n    ],\r\n    'poll_due_custom': [\r\n      { message: 'validation.poll-due-future' },\r\n    ],\r\n    'option_name': [\r\n      { type: 'required', message: 'validation.option-name-required' },\r\n      { type: 'not_unique', message: 'validation.option-name-unique' },\r\n    ],\r\n    'option_desc': [\r\n    ],\r\n    'option_url': [\r\n      { type: 'pattern', message: 'validation.option-url-valid' },\r\n    ],\r\n  }\r\n\r\n  existingOptionName$(currentControlName: string): Observable<string[]> {\r\n    return this.formGroup.valueChanges.pipe(\r\n      startWith({}),\r\n      map(values => {\r\n        const optionNameKeys = Object.keys(values as Object).filter(k => { return k.includes('option_name') && k !== currentControlName })\r\n        const existingOptionNames: string[] = [];\r\n        optionNameKeys.forEach(key => existingOptionNames.push(values[key]));\r\n        return existingOptionNames;\r\n      })\r\n    )\r\n  }\r\n\r\n  \r\n}\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `@charset \"UTF-8\";\n/*\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\n\nThis file is part of vodle.\n\nvodle is free software: you can redistribute it and/or modify it under the \nterms of the GNU Affero General Public License as published by the Free \nSoftware Foundation, either version 3 of the License, or (at your option) \nany later version.\n\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \ndetails.\n\nYou should have received a copy of the GNU Affero General Public License \nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \n*/`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/draftpoll/draftpoll.page.scss\"],\"names\":[],\"mappings\":\"AAAA,gBAAgB;AAAhB;;;;;;;;;;;;;;;;;CAAA\",\"sourcesContent\":[\"/*\\r\\n(C) Copyright 2015–2022 Potsdam Institute for Climate Impact Research (PIK), authors, and contributors, see AUTHORS file.\\r\\n\\r\\nThis file is part of vodle.\\r\\n\\r\\nvodle is free software: you can redistribute it and/or modify it under the \\r\\nterms of the GNU Affero General Public License as published by the Free \\r\\nSoftware Foundation, either version 3 of the License, or (at your option) \\r\\nany later version.\\r\\n\\r\\nvodle is distributed in the hope that it will be useful, but WITHOUT ANY \\r\\nWARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR \\r\\nA PARTICULAR PURPOSE. See the GNU Affero General Public License for more \\r\\ndetails.\\r\\n\\r\\nYou should have received a copy of the GNU Affero General Public License \\r\\nalong with vodle. If not, see <https://www.gnu.org/licenses/>. \\r\\n*/\\r\\n\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["NgModule","RouterModule","DraftpollPage","routes","path","component","DraftpollPageRoutingModule","__decorate","imports","forChild","exports","CUSTOM_ELEMENTS_SCHEMA","CommonModule","FormsModule","ReactiveFormsModule","TranslateModule","IonicModule","SharedcomponentsModule","DraftpollPageModule","schemas","of","map","take","unique_name_validator$","value$","control","valueChanges","pristine","pipe","names","includes","value","not_unique","Component","ViewChild","ViewChildren","ElementRef","ChangeDetectorRef","Validators","UntypedFormBuilder","UntypedFormControl","Router","ActivatedRoute","TranslateService","PopoverController","IonSelect","IonToggle","AlertController","LocalNotifications","DraftpollKebapPage","GlobalService","Poll","Option","SelectServerComponent","environment","startWith","is_forward_key","ev","key","ctrlKey","shiftKey","metaKey","altKey","n_options","pd","options","length","constructor","router","route","formBuilder","popover","alertCtrl","G","translate","ref","E","max","Math","show_details","ready","validation_messages","type","message","L","entry","params","subscribe","pid","JSON","parse","decodeURIComponent","ngOnInit","reset","ionViewWillEnter","D","page","ionViewDidEnter","onDataReady","deleted","stage","info","db","language","S","allow_ranked","allow_different","due_custom","Date","P","polls","state","p","title","desc","url","due_type","allow_weighted","db_from_pid","db_custom_server_url","db_custom_password","oid","o","Object","entries","push","name","option_stage","warn","expanded","Array","advanced_expanded","formGroup","setValue","poll_type","poll_language","poll_title","poll_desc","poll_url","poll_due_type","poll_due_custom","toISOString","poll_allow_ranked_delegation","poll_allow_different_delegation","poll_allow_weighted_delegation","i","od","add_option_inputs","get","add_option","detectChanges","ionSelects","select","type_select","open","MouseEvent","onSelectServerReady","select_server","selectServerFormGroup","db_allow_ranked","db_allow_different","db_allow_weighted","ionViewWillLeave","is_test","generate_pid","set_due","oids","trace","generate_oid","ratings","setp","stringify","remove_option","schedule","notifications","instant","body","id","then","res","catch","err","console","log","pids","exit","ionViewDidLeave","save_state","onDataChange","set_poll_type","c","valid","set_poll_language","set_poll_title","set_poll_desc","set_poll_url","set_poll_due_type","set_poll_due_custom","update_ref_date","set_poll_allow_ranked_delegation","updateForm","set_poll_allow_different_delegation","set_poll_allow_weighted_delegation","patchValue","set_option_name","set_option_desc","set_option_url","set_db","set_db_from_pid","set_db_custom_server_url","set_db_custom_password","set_focus","input_element_id","setTimeout","next_input_element","document","getElementById","setFocus","open_due_select","open_due_custom","changed_poll_type","blur_poll_title","poll_title_onKeydown","blur_poll_desc","poll_desc_onKeydown","blur_poll_url","poll_url_onKeydown","changed_due_type","changed_poll_due_custom","blur_option_name","option_name_onKeydown","next_option","blur_option_desc","option_desc_onKeydown","blur_option_url","option_url_onKeydown","del_poll_dialog","_this","_asyncToGenerator","confirm","create","buttons","text","role","handler","del_draft","present","del_option_dialog","_this2","del_option","no_more","new_option","showkebap","event","translucent","showBackdrop","cssClass","componentProps","parent","popoverElement","send4review","import_csv_dialog","_this3","header","click","ready_button_clicked","updateValueAndValidity","navigate","group","required","pattern","urlRegex","allowed_date","bind","delete","import_csv","file","target","files","reader","FileReader","onload","content","result","row","split","cols","slice","indexOf","trim","detailstoggle","checked","readAsText","restart_with_data","spec","encodeURIComponent","addControl","existingOptionName$","j","removeControl","pop","now","ref_date","past","get_max_due","too_late","last","valueOf","setDate","getDate","max_duration_days","currentControlName","values","optionNameKeys","keys","filter","k","existingOptionNames","forEach","args","static","read","selector","template","__NG_CLI_RESOURCE__0"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}