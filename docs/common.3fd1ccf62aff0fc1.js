"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[8592],{2122:(M,E,s)=>{s.r(E),s.d(E,{AddoptionDialogPage:()=>L,AddoptionDialogPageModule:()=>H});var _=s(4666),f=s(2508),t=s(8139),a=s(2004),m=s(1302),o=s(5568),i=s(2738),n=s(4139),c=s(2340),u=s(3634),e=s(2135),l=s(2518);const x=["focus_element"],g=function(w){return{language:w}};function D(w,T){if(1&w&&(e.TgZ(0,"small"),e._UZ(1,"p",5),e.ALo(2,"translate"),e.qZA()),2&w){const v=e.oxw(2);e.xp6(1),e.Q6J("innerHtml",e.xi3(2,1,"addoption.different-language",e.VKq(4,g,v.G.S.language_names[v.p.language])),e.oJD)}}function b(w,T){if(1&w&&(e._UZ(0,"div",21),e.ALo(1,"translate")),2&w){const v=e.oxw().$implicit;e.Q6J("innerHtml",e.lcZ(1,1,v.message),e.oJD)}}function h(w,T){if(1&w&&(e.ynx(0),e.YNc(1,b,2,3,"div",20),e.BQk()),2&w){const v=T.$implicit,A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",A.formGroup.get("option_name").hasError(v.type)&&(A.formGroup.get("option_name").dirty||A.formGroup.get("option_name").touched))}}function p(w,T){if(1&w&&(e._UZ(0,"div",21),e.ALo(1,"translate")),2&w){const v=e.oxw().$implicit;e.Q6J("innerHtml",e.lcZ(1,1,v.message),e.oJD)}}function r(w,T){if(1&w&&(e.ynx(0),e.YNc(1,p,2,3,"div",20),e.BQk()),2&w){const v=T.$implicit,A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",A.formGroup.get("option_desc").hasError(v.type)&&(A.formGroup.get("option_desc").dirty||A.formGroup.get("option_desc").touched))}}function d(w,T){if(1&w){const v=e.EpF();e.TgZ(0,"ion-button",22),e.NdJ("click",function(){e.CHM(v);const Z=e.oxw(2);return e.KtG(Z.G.open_url_in_new_tab(Z.formGroup.get("option_url").value))}),e._UZ(1,"span",5),e.ALo(2,"translate"),e._uU(3,"\xa0 "),e._UZ(4,"ion-icon",23),e.qZA()}2&w&&(e.xp6(1),e.Q6J("innerHtml",e.lcZ(2,1,"test"),e.oJD))}function y(w,T){if(1&w&&(e._UZ(0,"div",21),e.ALo(1,"translate")),2&w){const v=e.oxw().$implicit;e.Q6J("innerHtml",e.lcZ(1,1,v.message),e.oJD)}}function C(w,T){if(1&w&&(e.ynx(0),e.YNc(1,y,2,3,"div",20),e.BQk()),2&w){const v=T.$implicit,A=e.oxw(2);e.xp6(1),e.Q6J("ngIf",A.formGroup.get("option_url").hasError(v.type)&&(A.formGroup.get("option_url").dirty||A.formGroup.get("option_url").touched))}}function S(w,T){1&w&&(e._UZ(0,"div",21),e.ALo(1,"translate")),2&w&&e.Q6J("innerHtml",e.lcZ(1,1,"poll.add-option-expired"),e.oJD)}const P=function(w){return{name:w}},J=function(){return[null,""]};function I(w,T){if(1&w){const v=e.EpF();e.TgZ(0,"ion-content")(1,"form",1)(2,"ion-list",2)(3,"ion-item",3)(4,"ion-col",4),e._UZ(5,"h1",5),e.ALo(6,"translate"),e._UZ(7,"p",5),e.ALo(8,"translate"),e.YNc(9,D,3,6,"small",0),e.qZA()(),e.TgZ(10,"ion-item")(11,"ion-label",6),e._UZ(12,"span",5),e.ALo(13,"translate"),e.qZA(),e._UZ(14,"ion-input",7,8),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"div",9),e.YNc(18,h,2,1,"ng-container",10),e.qZA(),e.TgZ(19,"ion-item")(20,"ion-label",6),e._UZ(21,"span",5),e.ALo(22,"translate"),e.qZA(),e._UZ(23,"ion-textarea",11),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"div",9),e.YNc(26,r,2,1,"ng-container",10),e.qZA(),e.TgZ(27,"ion-item")(28,"ion-label",6),e._UZ(29,"span",5),e.ALo(30,"translate"),e.qZA(),e._UZ(31,"ion-input",12),e.ALo(32,"translate"),e.YNc(33,d,5,3,"ion-button",13),e.qZA(),e.TgZ(34,"div",9),e.YNc(35,C,2,1,"ng-container",10),e.qZA(),e.TgZ(36,"ion-item",14)(37,"ion-buttons",15)(38,"ion-button",16),e.NdJ("click",function(){e.CHM(v);const Z=e.oxw();return e.KtG(Z.ClosePopover())}),e._UZ(39,"ion-icon",17),e._uU(40,"\xa0 "),e._UZ(41,"span",5),e.ALo(42,"translate"),e.qZA(),e._uU(43,"\xa0\xa0 "),e.TgZ(44,"ion-button",18),e.NdJ("click",function(){e.CHM(v);const Z=e.oxw();return e.KtG(Z.OK_button_clicked())}),e._UZ(45,"ion-icon",19),e._uU(46,"\xa0 "),e._UZ(47,"span",5),e.ALo(48,"translate"),e.qZA()()(),e.TgZ(49,"div",9),e.ynx(50),e.YNc(51,S,2,3,"div",20),e.BQk(),e.qZA(),e.TgZ(52,"ion-item",3),e._UZ(53,"small",5),e.ALo(54,"translate"),e.qZA()()()()}if(2&w){const v=e.oxw();e.xp6(1),e.Q6J("formGroup",v.formGroup),e.xp6(4),e.Q6J("innerHtml",e.lcZ(6,25,"addoption.header"),e.oJD),e.xp6(2),e.Q6J("innerHtml",e.lcZ(8,27,"addoption.intro"),e.oJD),e.xp6(2),e.Q6J("ngIf",!!v.p.language&&v.p.language!=v.G.S.language),e.xp6(3),e.Q6J("innerHtml",e.lcZ(13,29,"winner"==v.p.type?"draftpoll.option-name-label":"draftpoll.target-name-label"),e.oJD),e.xp6(2),e.Q6J("disabled",!v.p.can_add_option())("placeholder",e.lcZ(16,31,"winner"==v.p.type?"draftpoll.option-name-placeholder":"draftpoll.target-name-placeholder"))("maxlength",v.E.max_len.name),e.xp6(4),e.Q6J("ngForOf",v.validation_messages.option_name),e.xp6(3),e.Q6J("innerHtml",e.lcZ(22,33,"draftpoll.option-desc-label"),e.oJD),e.xp6(2),e.Q6J("disabled",!v.p.can_add_option())("maxlength",v.E.max_len.desc)("placeholder",e.xi3(24,35,"draftpoll.option-desc-placeholder",e.VKq(49,P,v.formGroup.get("option_name").value))),e.xp6(3),e.Q6J("ngForOf",v.validation_messages.option_desc),e.xp6(3),e.Q6J("innerHtml",e.lcZ(30,38,"draftpoll.option-url-label"),e.oJD),e.xp6(2),e.Q6J("disabled",!v.p.can_add_option())("placeholder",e.xi3(32,40,"draftpoll.option-url-placeholder",e.VKq(51,P,v.formGroup.get("option_name").value)))("maxlength",v.E.max_len.url),e.xp6(2),e.Q6J("ngIf",v.formGroup.get("option_url").valid&&!e.DdM(53,J).includes(v.formGroup.get("option_url").value)),e.xp6(2),e.Q6J("ngForOf",v.validation_messages.option_url),e.xp6(6),e.Q6J("innerHtml",e.lcZ(42,43,"cancel"),e.oJD),e.xp6(3),e.Q6J("disabled",v.isAddButtonDisabled()),e.xp6(3),e.Q6J("innerHtml",e.lcZ(48,45,"add"),e.oJD),e.xp6(4),e.Q6J("ngIf",!v.p.can_add_option()),e.xp6(2),e.Q6J("innerHtml",e.lcZ(54,47,"addoption.info"),e.oJD)}}let L=(()=>{class w{constructor(v,A,Z,O,U){this.formBuilder=v,this.popover=A,this.G=Z,this.translate=O,this.ref=U,this.E=c.N,this.ready=!1,this.validation_messages={option_name:[{type:"required",message:"validation.option-name-required"},{type:"not_unique",message:"validation.option-name-unique"}],option_desc:[],option_url:[{type:"pattern",message:"validation.option-url-valid"}]}}ngOnInit(){}ionViewWillEnter(){this.p=this.parent.p,this.formGroup=this.formBuilder.group({}),this.formGroup.addControl("option_name",new f.p4("",[f.kI.required],[(0,i.E)((0,n.of)(this.p.oids.map(v=>this.p.options[v].name)))])),this.formGroup.addControl("option_desc",new f.p4("")),this.formGroup.addControl("option_url",new f.p4("",f.kI.pattern(this.G.urlRegex))),this.ready=!0}ionViewDidEnter(){setTimeout(()=>this.focus_element.setFocus(),100)}isAddButtonDisabled(){return!this.formGroup.valid||!this.p.can_add_option()}OK_button_clicked(){if(!this.isAddButtonDisabled()){const v=this.formGroup.get("option_name").value,A=this.formGroup.get("option_desc").value,Z=this.formGroup.get("option_url").value,O=new u.Wx(this.G,this.p,null,v,A,Z);o.s.schedule({notifications:[{title:this.translate.instant("addoption.notification-added-title"),body:v,id:0}]}).then(U=>{}).catch(U=>{}),"agreed"==this.parent.delegation_status&&this.G.Del.update_my_delegation(this.p.pid,O.oid,!0),this.p.set_my_own_rating(O.oid,this.G.S.default_wap),this.parent.oidsorted.push(O.oid),this.parent.sortingcounter++,this.ref.detectChanges(),setTimeout(()=>{this.p.tally_all(),this.popover.dismiss()},200)}}ClosePopover(){this.popover.dismiss()}}return w.\u0275fac=function(v){return new(v||w)(e.Y36(f.QS),e.Y36(a.Dh),e.Y36(l.U),e.Y36(t.sK),e.Y36(e.sBO))},w.\u0275cmp=e.Xpm({type:w,selectors:[["app-addoption-dialog"]],viewQuery:function(v,A){if(1&v&&e.Gf(x,5),2&v){let Z;e.iGM(Z=e.CRH())&&(A.focus_element=Z.first)}},inputs:{parent:"parent"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"formGroup"],["lines","full"],["lines","none"],[1,"ion-no-padding","ion-no-margin"],[3,"innerHtml"],["position","floating","color","primary"],["formControlName","option_name","autofocus","true","type","text","required","",2,"font-weight","bold","font-style","italic",3,"disabled","placeholder","maxlength"],["focus_element",""],[1,"validation-errors"],[4,"ngFor","ngForOf"],["formControlName","option_desc","rows","1","auto-grow","","type","text",2,"font-style","italic",3,"disabled","maxlength","placeholder"],["formControlName","option_url","type","text","inputmode","url",2,"font-size","smaller",3,"disabled","placeholder","maxlength"],["fill","clear","slot","end","class","skip-button","tabindex","-1",3,"click",4,"ngIf"],["lines","none",1,"ion-text-right"],["slot","end"],["shape","round",3,"click"],["name","arrow-back-outline"],["color","primary","shape","round","fill","solid",3,"disabled","click"],["name","checkmark"],["class","error-message",3,"innerHtml",4,"ngIf"],[1,"error-message",3,"innerHtml"],["fill","clear","slot","end","tabindex","-1",1,"skip-button",3,"click"],["name","open-outline"]],template:function(v,A){1&v&&e.YNc(0,I,55,54,"ion-content",0),2&v&&e.Q6J("ngIf",A.ready)},dependencies:[_.sg,_.O5,f._Y,f.JJ,f.JL,f.Q7,f.nD,a.YG,a.Sm,a.wI,a.W2,a.gu,a.pK,a.Ie,a.Q$,a.q_,a.g2,a.j9,f.sg,f.u,t.X$],styles:['@charset "UTF-8";']}),w})();const k=[{path:"",component:L}];let B=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[m.Bz.forChild(k),m.Bz]}),w})(),H=(()=>{class w{}return w.\u0275fac=function(v){return new(v||w)},w.\u0275mod=e.oAB({type:w}),w.\u0275inj=e.cJS({imports:[_.ez,f.u5,a.Pc,f.UX,B,t.aw.forChild()]}),w})()},3357:(M,E,s)=>{s.r(E),s.d(E,{DraftpollKebapPage:()=>n,DraftpollKebapPageModule:()=>e});var _=s(4666),f=s(2508),t=s(8139),a=s(2004),m=s(1302),o=s(2135);function i(l,x){if(1&l&&o._UZ(0,"ion-select-option",10),2&l){const g=x.$implicit,D=o.oxw();o.Q6J("value",g)("innerHtml",D.JSON.parse(g).title,o.oJD)}}let n=(()=>{class l{constructor(g,D){this.popover=g,this.ref=D,this.JSON=JSON,this.examples=[]}ngOnInit(){}ionViewWillEnter(){}ClosePopover(){this.popover.dismiss()}send4review(){this.parent.send4review(),this.popover.dismiss()}import(){this.parent.import_csv_dialog(),this.popover.dismiss()}use_example_clicked(g){this.parent.G.D.get_example_docs().then(D=>{this.examples=[];for(let b of D.rows){let h=b.doc;h._id.includes("\xa7\xa7")||this.examples.push(JSON.stringify(h))}this.ref.detectChanges(),this.select_example.open(g)}).catch(D=>{this.parent.G.L.error("DraftpollPage.use_example_clicked failed",D)})}use_example(){var g=this.select_example.value;"-"!=(g||"-")&&(this.parent.restart_with_data(g),this.popover.dismiss())}}return l.\u0275fac=function(g){return new(g||l)(o.Y36(a.Dh),o.Y36(o.sBO))},l.\u0275cmp=o.Xpm({type:l,selectors:[["app-draftpoll-kebap"]],viewQuery:function(g,D){if(1&g&&o.Gf(a.t9,5),2&g){let b;o.iGM(b=o.CRH())&&(D.select_example=b.first)}},inputs:{parent:"parent"},decls:27,vars:19,consts:[[3,"click"],["fill","clear","color","dark"],["name","share-social"],[3,"innerHtml"],["name","folder-open-outline"],["name","cloud-download-outline"],["interface","popover","display","none",2,"font-size","smaller",3,"cancelText","okText","ionChange"],["ionSelects","","select_example",""],["value","-",3,"innerHtml"],[3,"value","innerHtml",4,"ngFor","ngForOf"],[3,"value","innerHtml"]],template:function(g,D){1&g&&(o.TgZ(0,"ion-content")(1,"ion-item",0),o.NdJ("click",function(){return D.send4review()}),o.TgZ(2,"ion-button",1),o._UZ(3,"ion-icon",2),o._uU(4,"\xa0\xa0"),o._UZ(5,"span",3),o.ALo(6,"translate"),o.qZA()(),o.TgZ(7,"ion-item",0),o.NdJ("click",function(){return D.import()}),o.TgZ(8,"ion-button",1),o._UZ(9,"ion-icon",4),o._uU(10,"\xa0\xa0"),o._UZ(11,"span",3),o.ALo(12,"translate"),o.qZA()(),o.TgZ(13,"ion-item",0),o.NdJ("click",function(h){return D.use_example_clicked(h)}),o.TgZ(14,"ion-button",1),o._UZ(15,"ion-icon",5),o._uU(16,"\xa0\xa0 "),o._UZ(17,"span",3),o.ALo(18,"translate"),o.qZA(),o.TgZ(19,"ion-select",6,7),o.NdJ("ionChange",function(){return D.use_example()}),o.ALo(22,"translate"),o.ALo(23,"translate"),o._UZ(24,"ion-select-option",8),o.ALo(25,"translate"),o.YNc(26,i,1,2,"ion-select-option",9),o.qZA()()()),2&g&&(o.xp6(5),o.Q6J("innerHtml",o.lcZ(6,7,"draftpoll.send-for-review"),o.oJD),o.xp6(6),o.Q6J("innerHtml",o.lcZ(12,9,"draftpoll.import-options-from-file"),o.oJD),o.xp6(6),o.Q6J("innerHtml",o.lcZ(18,11,"draftpoll.use-example-from-db"),o.oJD),o.xp6(2),o.Q6J("cancelText",o.lcZ(22,13,"cancel"))("okText",o.lcZ(23,15,"OK")),o.xp6(5),o.Q6J("innerHtml",o.lcZ(25,17,"draftpoll.use-example-from-db-none"),o.oJD),o.xp6(2),o.Q6J("ngForOf",D.examples))},dependencies:[_.sg,a.YG,a.W2,a.gu,a.Ie,a.t9,a.n0,a.QI,t.X$],styles:['@charset "UTF-8";']}),l})();const c=[{path:"",component:n}];let u=(()=>{class l{}return l.\u0275fac=function(g){return new(g||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[m.Bz.forChild(c),m.Bz]}),l})(),e=(()=>{class l{}return l.\u0275fac=function(g){return new(g||l)},l.\u0275mod=o.oAB({type:l}),l.\u0275inj=o.cJS({imports:[_.ez,f.u5,a.Pc,u,t.aw.forChild()]}),l})()},2767:(M,E,s)=>{s.d(E,{K:()=>h});var _=s(2508),f=s(2340),t=s(2135),a=s(2518),m=s(4666),o=s(2004),i=s(8139);function n(p,r){1&p&&(t._UZ(0,"ion-select-option",8),t.ALo(1,"translate")),2&p&&t.Q6J("innerHtml",t.lcZ(1,1,"select-server.same-as-personal"),t.oJD)}function c(p,r){if(1&p&&t._UZ(0,"ion-select-option",12),2&p){const d=t.oxw().$implicit,y=t.oxw(2);t.Q6J("value",d)("innerHtml",y.G.P.polls[d].title,t.oJD)}}function u(p,r){if(1&p&&(t.ynx(0),t.YNc(1,c,1,2,"ion-select-option",11),t.BQk()),2&p){const d=r.$implicit,y=t.oxw(2);t.xp6(1),t.Q6J("ngIf",d!=y.page_object.p.pid)}}function e(p,r){if(1&p){const d=t.EpF();t.ynx(0),t.TgZ(1,"ion-item"),t._UZ(2,"ion-label",1),t.ALo(3,"translate"),t.TgZ(4,"ion-select",9),t.NdJ("ionChange",function(){t.CHM(d);const C=t.oxw();return t.KtG(C.set_db_from_pid())}),t.ALo(5,"translate"),t.ALo(6,"translate"),t.YNc(7,u,2,1,"ng-container",10),t.qZA()(),t.BQk()}if(2&p){const d=t.oxw();t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,4,"settings"==d.page?"select-server.which-poll":"select-server.which-other-poll"),t.oJD),t.xp6(2),t.Q6J("cancelText",t.lcZ(5,6,"cancel"))("okText",t.lcZ(6,8,"OK")),t.xp6(3),t.Q6J("ngForOf",d.Object.keys(d.G.P.polls))}}function l(p,r){if(1&p&&(t._UZ(0,"div",20),t.ALo(1,"translate")),2&p){const d=t.oxw().$implicit;t.Q6J("innerHtml",t.lcZ(1,1,d.message),t.oJD)}}function x(p,r){if(1&p&&(t.ynx(0),t.YNc(1,l,2,3,"div",19),t.BQk()),2&p){const d=r.$implicit,y=t.oxw(2);t.xp6(1),t.Q6J("ngIf",y.selectServerFormGroup.get("db_custom_server_url").hasError(d.type)&&(y.selectServerFormGroup.get("db_custom_server_url").dirty||y.selectServerFormGroup.get("db_custom_server_url").touched))}}function g(p,r){if(1&p&&(t._UZ(0,"div",20),t.ALo(1,"translate")),2&p){const d=t.oxw().$implicit;t.Q6J("innerHtml",t.lcZ(1,1,d.message),t.oJD)}}function D(p,r){if(1&p&&(t.ynx(0),t.YNc(1,g,2,3,"div",19),t.BQk()),2&p){const d=r.$implicit,y=t.oxw(2);t.xp6(1),t.Q6J("ngIf",y.selectServerFormGroup.get("db_custom_password").hasError(d.type)&&(y.selectServerFormGroup.get("db_custom_password").dirty||y.selectServerFormGroup.get("db_custom_password").touched))}}function b(p,r){if(1&p){const d=t.EpF();t.ynx(0),t.TgZ(1,"ion-item"),t._UZ(2,"small",13),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"ion-item"),t._UZ(5,"ion-label",1),t.ALo(6,"translate"),t.TgZ(7,"ion-input",14),t.NdJ("ionChange",function(){t.CHM(d);const C=t.oxw();return t.KtG(C.set_db_custom_server_url())}),t.qZA()(),t.TgZ(8,"div",15),t.YNc(9,x,2,1,"ng-container",10),t.qZA(),t.TgZ(10,"ion-item"),t._UZ(11,"ion-label",1),t.ALo(12,"translate"),t.TgZ(13,"ion-input",16),t.NdJ("keydown.enter",function(){t.CHM(d);const C=t.oxw();return C.showing_db_custom_password=!C.selectServerFormGroup.get("db_custom_password").valid&&C.showing_db_custom_password,t.KtG(C.blur())})("keydown.tab",function(){t.CHM(d);const C=t.oxw();return C.showing_db_custom_password=!C.selectServerFormGroup.get("db_custom_password").valid&&C.showing_db_custom_password,t.KtG(C.blur())})("ionChange",function(){t.CHM(d);const C=t.oxw();return t.KtG(C.set_db_custom_password())}),t.qZA(),t.TgZ(14,"ion-button",17),t.NdJ("click",function(){t.CHM(d);const C=t.oxw();return t.KtG(C.showing_db_custom_password=!C.showing_db_custom_password)}),t._UZ(15,"ion-icon",18),t._uU(16,"\xa0"),t._UZ(17,"span",13),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",15),t.YNc(20,D,2,1,"ng-container",10),t.qZA(),t.BQk()}if(2&p){const d=t.oxw();t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,10,"select-server.please-enter-couchdb"),t.oJD),t.xp6(3),t.Q6J("innerHtml",t.lcZ(6,12,"db-server-url"),t.oJD),t.xp6(2),t.Q6J("maxlength",d.E.max_len.url),t.xp6(2),t.Q6J("ngForOf",d.validation_messages.db_custom_server_url),t.xp6(2),t.Q6J("innerHtml",t.lcZ(12,14,"db-pw"),t.oJD),t.xp6(2),t.Q6J("type",d.showing_db_custom_password?"text":"password")("maxlength",d.E.max_len.name),t.xp6(2),t.Q6J("name",d.showing_db_custom_password?"eye-off-outline":"eye-outline"),t.xp6(2),t.Q6J("innerHtml",t.lcZ(18,16,d.showing_db_custom_password?"hide":"show"),t.oJD),t.xp6(3),t.Q6J("ngForOf",d.validation_messages.db_custom_password)}}let h=(()=>{class p{constructor(d,y){this.formBuilder=d,this.G=y,this.E=f.N,this.Object=Object,this.validation_messages={db_custom_server_url:[{type:"required",message:"validation.db-server-url-required"},{type:"pattern",message:"validation.db-server-url-pattern"}],db_custom_password:[{type:"required",message:"validation.db-pw-required"}]}}ngOnInit(){this.G.L.entry("SelectServerComponent.ngOnInit"),this.selectServerFormGroup=this.formBuilder.group({db:new _.p4("settings"==this.page?"central":"default",_.kI.required),db_from_pid:new _.p4("TODO",_.kI.required),db_custom_server_url:new _.p4("",_.kI.pattern(this.G.urlRegex)),db_custom_password:new _.p4("",_.kI.required)}),this.showing_db_custom_password=!1,this.page_object&&this.page_object.onSelectServerReady(this)}blur(){}set_db(){let d=this.selectServerFormGroup.get("db");d.valid&&""!=d.value&&d.value&&this.page_object.set_db(d.value)}set_db_from_pid(){let d=this.selectServerFormGroup.get("db_from_pid");d.valid&&this.page_object.set_db_from_pid(d.value)}set_db_custom_server_url(){let d=this.selectServerFormGroup.get("db_custom_server_url");d.valid&&this.page_object.set_db_custom_server_url(d.value)}set_db_custom_password(){let d=this.selectServerFormGroup.get("db_custom_password");d.valid&&this.page_object.set_db_custom_password(d.value)}}return p.\u0275fac=function(d){return new(d||p)(t.Y36(_.QS),t.Y36(a.U))},p.\u0275cmp=t.Xpm({type:p,selectors:[["app-select-server"]],inputs:{page:"page",page_object:"page_object"},decls:16,vars:24,consts:[[3,"formGroup"],["position","floating","color","primary",3,"innerHtml"],["formControlName","db",3,"cancelText","okText","ionChange"],["value","default",3,"innerHtml",4,"ngIf"],["value","central",3,"innerHtml"],["value","poll",3,"innerHtml"],["value","other",3,"innerHtml"],[4,"ngIf"],["value","default",3,"innerHtml"],["formControlName","db_from_pid",2,"font-size","smaller",3,"cancelText","okText","ionChange"],[4,"ngFor","ngForOf"],[3,"value","innerHtml",4,"ngIf"],[3,"value","innerHtml"],[3,"innerHtml"],["type","text","formControlName","db_custom_server_url","required","","debounce","100",2,"font-size","smaller",3,"maxlength","ionChange"],[1,"validation-errors"],["formControlName","db_custom_password","required","","clearOnEdit","false","clearInput","true","debounce","100",2,"font-size","smaller",3,"type","maxlength","keydown.enter","keydown.tab","ionChange"],["slot","end","fill","clear","color","primary",2,"padding-top","10px",3,"click"],["tabindex","-1",3,"name"],["class","error-message",3,"innerHtml",4,"ngIf"],[1,"error-message",3,"innerHtml"]],template:function(d,y){1&d&&(t.TgZ(0,"form",0)(1,"ion-item"),t._UZ(2,"ion-label",1),t.ALo(3,"translate"),t.TgZ(4,"ion-select",2),t.NdJ("ionChange",function(){return y.set_db()}),t.ALo(5,"translate"),t.ALo(6,"translate"),t.YNc(7,n,2,3,"ion-select-option",3),t._UZ(8,"ion-select-option",4),t.ALo(9,"translate"),t._UZ(10,"ion-select-option",5),t.ALo(11,"translate"),t._UZ(12,"ion-select-option",6),t.ALo(13,"translate"),t.qZA()(),t.YNc(14,e,8,10,"ng-container",7),t.YNc(15,b,21,18,"ng-container",7),t.qZA()),2&d&&(t.Q6J("formGroup",y.selectServerFormGroup),t.xp6(2),t.Q6J("innerHtml",t.lcZ(3,12,"settings"==y.page?"settings.db-label":"draftpoll.db-label"),t.oJD),t.xp6(2),t.Akn("settings"!=y.page?"font-size: smaller;":""),t.Q6J("cancelText",t.lcZ(5,14,"cancel"))("okText",t.lcZ(6,16,"OK")),t.xp6(3),t.Q6J("ngIf","settings"!=y.page),t.xp6(1),t.Q6J("innerHtml",t.lcZ(9,18,"select-server.central"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(11,20,"settings"==y.page?"select-server.same-as-some-poll":"select-server.same-as-other-poll"),t.oJD),t.xp6(2),t.Q6J("innerHtml",t.lcZ(13,22,"select-server.other"),t.oJD),t.xp6(2),t.Q6J("ngIf","poll"==y.selectServerFormGroup.get("db").value),t.xp6(1),t.Q6J("ngIf","other"==y.selectServerFormGroup.get("db").value))},dependencies:[m.sg,m.O5,o.YG,o.gu,o.pK,o.Ie,o.Q$,o.t9,o.n0,o.QI,o.j9,_._Y,_.JJ,_.JL,_.Q7,_.nD,_.sg,_.u,i.X$],styles:['@charset "UTF-8";']}),p})()},4496:(M,E,s)=>{s.d(E,{m:()=>o});var _=s(4666),f=s(2004),t=s(2508),a=s(8139),m=s(2135);let o=(()=>{class i{}return i.\u0275fac=function(c){return new(c||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({imports:[_.ez,f.Pc,t.u5,t.UX,a.aw.forChild()]}),i})()},2738:(M,E,s)=>{s.d(E,{E:()=>a});var _=s(4139),f=s(6942),t=s(3910);function a(m){return o=>!o.valueChanges||o.pristine?(0,_.of)(null):m.pipe((0,f.U)(i=>i.includes(o.value)?{not_unique:!0}:null),(0,t.q)(1))}},2943:(M,E,s)=>{s.d(E,{c:()=>a});var _=s(1559),f=s(2815),t=s(9286);const a=(m,o)=>{let i,n;const c=(l,x,g)=>{if(typeof document>"u")return;const D=document.elementFromPoint(l,x);D&&o(D)?D!==i&&(e(),u(D,g)):e()},u=(l,x)=>{i=l,n||(n=i);const g=i;(0,_.c)(()=>g.classList.add("ion-activated")),x()},e=(l=!1)=>{if(!i)return;const x=i;(0,_.c)(()=>x.classList.remove("ion-activated")),l&&n!==i&&i.click(),i=void 0};return(0,t.createGesture)({el:m,gestureName:"buttonActiveDrag",threshold:0,onStart:l=>c(l.currentX,l.currentY,f.a),onMove:l=>c(l.currentX,l.currentY,f.b),onEnd:()=>{e(!0),(0,f.h)(),n=void 0}})}},1463:(M,E,s)=>{s.d(E,{g:()=>_});const _=(o,i,n,c,u)=>t(o[1],i[1],n[1],c[1],u).map(e=>f(o[0],i[0],n[0],c[0],e)),f=(o,i,n,c,u)=>u*(3*i*Math.pow(u-1,2)+u*(-3*n*u+3*n+c*u))-o*Math.pow(u-1,3),t=(o,i,n,c,u)=>m((c-=u)-3*(n-=u)+3*(i-=u)-(o-=u),3*n-6*i+3*o,3*i-3*o,o).filter(l=>l>=0&&l<=1),m=(o,i,n,c)=>{if(0===o)return((o,i,n)=>{const c=i*i-4*o*n;return c<0?[]:[(-i+Math.sqrt(c))/(2*o),(-i-Math.sqrt(c))/(2*o)]})(i,n,c);const u=(3*(n/=o)-(i/=o)*i)/3,e=(2*i*i*i-9*i*n+27*(c/=o))/27;if(0===u)return[Math.pow(-e,1/3)];if(0===e)return[Math.sqrt(-u),-Math.sqrt(-u)];const l=Math.pow(e/2,2)+Math.pow(u/3,3);if(0===l)return[Math.pow(e/2,.5)-i/3];if(l>0)return[Math.pow(-e/2+Math.sqrt(l),1/3)-Math.pow(e/2+Math.sqrt(l),1/3)-i/3];const x=Math.sqrt(Math.pow(-u/3,3)),g=Math.acos(-e/(2*Math.sqrt(Math.pow(-u/3,3)))),D=2*Math.pow(x,1/3);return[D*Math.cos(g/3)-i/3,D*Math.cos((g+2*Math.PI)/3)-i/3,D*Math.cos((g+4*Math.PI)/3)-i/3]}},7481:(M,E,s)=>{s.d(E,{i:()=>_});const _=f=>f&&""!==f.dir?"rtl"===f.dir.toLowerCase():"rtl"===document?.dir.toLowerCase()},5777:(M,E,s)=>{s.r(E),s.d(E,{startFocusVisible:()=>a});const _="ion-focused",t=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],a=m=>{let o=[],i=!0;const n=m?m.shadowRoot:document,c=m||document.body,u=b=>{o.forEach(h=>h.classList.remove(_)),b.forEach(h=>h.classList.add(_)),o=b},e=()=>{i=!1,u([])},l=b=>{i=t.includes(b.key),i||u([])},x=b=>{if(i&&void 0!==b.composedPath){const h=b.composedPath().filter(p=>!!p.classList&&p.classList.contains("ion-focusable"));u(h)}},g=()=>{n.activeElement===c&&u([])};return n.addEventListener("keydown",l),n.addEventListener("focusin",x),n.addEventListener("focusout",g),n.addEventListener("touchstart",e),n.addEventListener("mousedown",e),{destroy:()=>{n.removeEventListener("keydown",l),n.removeEventListener("focusin",x),n.removeEventListener("focusout",g),n.removeEventListener("touchstart",e),n.removeEventListener("mousedown",e)},setFocus:u}}},5921:(M,E,s)=>{s.d(E,{C:()=>m,a:()=>t,d:()=>a});var _=s(1670),f=s(9259);const t=function(){var o=(0,_.Z)(function*(i,n,c,u,e,l){var x;if(i)return i.attachViewToDom(n,c,e,u);if(!(l||"string"==typeof c||c instanceof HTMLElement))throw new Error("framework delegate is missing");const g="string"==typeof c?null===(x=n.ownerDocument)||void 0===x?void 0:x.createElement(c):c;return u&&u.forEach(D=>g.classList.add(D)),e&&Object.assign(g,e),n.appendChild(g),yield new Promise(D=>(0,f.c)(g,D)),g});return function(n,c,u,e,l,x){return o.apply(this,arguments)}}(),a=(o,i)=>{if(i){if(o)return o.removeViewFromDom(i.parentElement,i);i.remove()}return Promise.resolve()},m=()=>{let o,i;return{attachViewToDom:function(){var u=(0,_.Z)(function*(e,l,x={},g=[]){var D,b;if(o=e,l){const p="string"==typeof l?null===(D=o.ownerDocument)||void 0===D?void 0:D.createElement(l):l;g.forEach(r=>p.classList.add(r)),Object.assign(p,x),o.appendChild(p),yield new Promise(r=>(0,f.c)(p,r))}else if(o.children.length>0&&!o.children[0].classList.contains("ion-delegate-host")){const r=null===(b=o.ownerDocument)||void 0===b?void 0:b.createElement("div");r.classList.add("ion-delegate-host"),g.forEach(d=>r.classList.add(d)),r.append(...o.children),o.appendChild(r)}const h=document.querySelector("ion-app")||document.body;return i=document.createComment("ionic teleport"),o.parentNode.insertBefore(i,o),h.appendChild(o),o});return function(l,x){return u.apply(this,arguments)}}(),removeViewFromDom:()=>(o&&i&&(i.parentNode.insertBefore(o,i),i.remove()),Promise.resolve())}}},2815:(M,E,s)=>{s.d(E,{a:()=>a,b:()=>m,c:()=>t,d:()=>i,h:()=>o});const _={getEngine(){var n;const c=window;return c.TapticEngine||(null===(n=c.Capacitor)||void 0===n?void 0:n.isPluginAvailable("Haptics"))&&c.Capacitor.Plugins.Haptics},available(){var n;const c=window;return!!this.getEngine()&&("web"!==(null===(n=c.Capacitor)||void 0===n?void 0:n.getPlatform())||typeof navigator<"u"&&void 0!==navigator.vibrate)},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(n){const c=this.getEngine();if(!c)return;const u=this.isCapacitor()?n.style.toUpperCase():n.style;c.impact({style:u})},notification(n){const c=this.getEngine();if(!c)return;const u=this.isCapacitor()?n.style.toUpperCase():n.style;c.notification({style:u})},selection(){this.impact({style:"light"})},selectionStart(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionStart():n.gestureSelectionStart())},selectionChanged(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionChanged():n.gestureSelectionChanged())},selectionEnd(){const n=this.getEngine();!n||(this.isCapacitor()?n.selectionEnd():n.gestureSelectionEnd())}},f=()=>_.available(),t=()=>{f()&&_.selection()},a=()=>{f()&&_.selectionStart()},m=()=>{f()&&_.selectionChanged()},o=()=>{f()&&_.selectionEnd()},i=n=>{f()&&_.impact(n)}},3081:(M,E,s)=>{s.d(E,{I:()=>m,a:()=>u,b:()=>o,c:()=>x,d:()=>D,f:()=>e,g:()=>c,i:()=>n,p:()=>g,r:()=>b,s:()=>l});var _=s(1670),f=s(9259),t=s(9273);const m="ion-content",o=".ion-content-scroll-host",i=`${m}, ${o}`,n=h=>"ION-CONTENT"===h.tagName,c=function(){var h=(0,_.Z)(function*(p){return n(p)?(yield new Promise(r=>(0,f.c)(p,r)),p.getScrollElement()):p});return function(r){return h.apply(this,arguments)}}(),u=h=>h.querySelector(o)||h.querySelector(i),e=h=>h.closest(i),l=(h,p)=>n(h)?h.scrollToTop(p):Promise.resolve(h.scrollTo({top:0,left:0,behavior:p>0?"smooth":"auto"})),x=(h,p,r,d)=>n(h)?h.scrollByPoint(p,r,d):Promise.resolve(h.scrollBy({top:r,left:p,behavior:d>0?"smooth":"auto"})),g=h=>(0,t.a)(h,m),D=h=>{if(n(h)){const r=h.scrollY;return h.scrollY=!1,r}return h.style.setProperty("overflow","hidden"),!0},b=(h,p)=>{n(h)?h.scrollY=p:h.style.removeProperty("overflow")}},8953:(M,E,s)=>{s.d(E,{a:()=>_,b:()=>l,c:()=>i,d:()=>x,e:()=>C,f:()=>o,g:()=>g,h:()=>t,i:()=>f,j:()=>r,k:()=>d,l:()=>n,m:()=>u,n:()=>D,o:()=>c,p:()=>m,q:()=>a,r:()=>p,s:()=>y,t:()=>e,u:()=>b,v:()=>h});const _="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Back</title><path stroke-linecap='square' stroke-miterlimit='10' stroke-width='48' d='M244 400L100 256l144-144M120 256h292' class='ionicon-fill-none'/></svg>",f="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Arrow Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 268l144 144 144-144M256 392V100' class='ionicon-fill-none'/></svg>",t="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Back</title><path d='M368 64L144 256l224 192V64z'/></svg>",a="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Down</title><path d='M64 144l192 224 192-224H64z'/></svg>",m="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Caret Up</title><path d='M448 368L256 144 64 368h384z'/></svg>",o="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Checkmark</title><path stroke-linecap='round' stroke-linejoin='round' d='M416 128L192 384l-96-96' class='ionicon-fill-none ionicon-stroke-width'/></svg>",i="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Back</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M328 112L184 256l144 144' class='ionicon-fill-none'/></svg>",n="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Down</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M112 184l144 144 144-144' class='ionicon-fill-none'/></svg>",c="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",u="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Chevron Forward</title><path stroke-linecap='round' stroke-linejoin='round' stroke-width='48' d='M184 112l144 144-144 144' class='ionicon-fill-none'/></svg>",e="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z'/></svg>",l="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close Circle</title><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48zm75.31 260.69a16 16 0 11-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 01-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0122.62-22.62L256 233.37l52.69-52.68a16 16 0 0122.62 22.62L278.63 256z'/></svg>",x="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Close</title><path d='M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z'/></svg>",g="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipse</title><circle cx='256' cy='256' r='192' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>",D="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Ellipsis Horizontal</title><circle cx='256' cy='256' r='48'/><circle cx='416' cy='256' r='48'/><circle cx='96' cy='256' r='48'/></svg>",b="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path stroke-linecap='round' stroke-miterlimit='10' d='M80 160h352M80 256h352M80 352h352' class='ionicon-fill-none ionicon-stroke-width'/></svg>",h="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Menu</title><path d='M64 384h384v-42.67H64zm0-106.67h384v-42.66H64zM64 128v42.67h384V128z'/></svg>",p="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Remove</title><path stroke-linecap='round' stroke-linejoin='round' d='M400 256H112' class='ionicon-fill-none ionicon-stroke-width'/></svg>",r="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Three</title><path stroke-linecap='round' stroke-linejoin='round' d='M96 256h320M96 176h320M96 336h320' class='ionicon-fill-none ionicon-stroke-width'/></svg>",d="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Reorder Two</title><path stroke-linecap='square' stroke-linejoin='round' stroke-width='44' d='M118 304h276M118 208h276' class='ionicon-fill-none'/></svg>",y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M338.29 338.29L448 448' class='ionicon-fill-none ionicon-stroke-width'/></svg>",C="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><title>Search</title><path d='M464 428L339.92 303.9a160.48 160.48 0 0030.72-94.58C370.64 120.37 298.27 48 209.32 48S48 120.37 48 209.32s72.37 161.32 161.32 161.32a160.48 160.48 0 0094.58-30.72L428 464zM209.32 319.69a110.38 110.38 0 11110.37-110.37 110.5 110.5 0 01-110.37 110.37z'/></svg>"},1652:(M,E,s)=>{s.d(E,{s:()=>_});const _=n=>{try{if(n instanceof class i{constructor(c){this.value=c}})return n.value;if(!a()||"string"!=typeof n||""===n)return n;const c=document.createDocumentFragment(),u=document.createElement("div");c.appendChild(u),u.innerHTML=n,o.forEach(g=>{const D=c.querySelectorAll(g);for(let b=D.length-1;b>=0;b--){const h=D[b];h.parentNode?h.parentNode.removeChild(h):c.removeChild(h);const p=t(h);for(let r=0;r<p.length;r++)f(p[r])}});const e=t(c);for(let g=0;g<e.length;g++)f(e[g]);const l=document.createElement("div");l.appendChild(c);const x=l.querySelector("div");return null!==x?x.innerHTML:l.innerHTML}catch(c){return console.error(c),""}},f=n=>{if(n.nodeType&&1!==n.nodeType)return;for(let u=n.attributes.length-1;u>=0;u--){const e=n.attributes.item(u),l=e.name;if(!m.includes(l.toLowerCase())){n.removeAttribute(l);continue}const x=e.value;null!=x&&x.toLowerCase().includes("javascript:")&&n.removeAttribute(l)}const c=t(n);for(let u=0;u<c.length;u++)f(c[u])},t=n=>null!=n.children?n.children:n.childNodes,a=()=>{var n;const u=null===(n=window?.Ionic)||void 0===n?void 0:n.config;return!u||(u.get?u.get("sanitizerEnabled",!0):!0===u.sanitizerEnabled||void 0===u.sanitizerEnabled)},m=["class","id","href","src","name","slot"],o=["script","style","iframe","meta","link","object","embed"]},6524:(M,E,s)=>{s.r(E),s.d(E,{KEYBOARD_DID_CLOSE:()=>f,KEYBOARD_DID_OPEN:()=>_,copyVisualViewport:()=>p,keyboardDidClose:()=>g,keyboardDidOpen:()=>l,keyboardDidResize:()=>x,resetKeyboardAssist:()=>i,setKeyboardClose:()=>e,setKeyboardOpen:()=>u,startKeyboardAssist:()=>n,trackViewportChanges:()=>h});const _="ionKeyboardDidShow",f="ionKeyboardDidHide";let a={},m={},o=!1;const i=()=>{a={},m={},o=!1},n=r=>{c(r),r.visualViewport&&(m=p(r.visualViewport),r.visualViewport.onresize=()=>{h(r),l()||x(r)?u(r):g(r)&&e(r)})},c=r=>{r.addEventListener("keyboardDidShow",d=>u(r,d)),r.addEventListener("keyboardDidHide",()=>e(r))},u=(r,d)=>{D(r,d),o=!0},e=r=>{b(r),o=!1},l=()=>!o&&a.width===m.width&&(a.height-m.height)*m.scale>150,x=r=>o&&!g(r),g=r=>o&&m.height===r.innerHeight,D=(r,d)=>{const C=new CustomEvent(_,{detail:{keyboardHeight:d?d.keyboardHeight:r.innerHeight-m.height}});r.dispatchEvent(C)},b=r=>{const d=new CustomEvent(f);r.dispatchEvent(d)},h=r=>{a=Object.assign({},m),m=p(r.visualViewport)},p=r=>({width:Math.round(r.width),height:Math.round(r.height),offsetTop:r.offsetTop,offsetLeft:r.offsetLeft,pageTop:r.pageTop,pageLeft:r.pageLeft,scale:r.scale})},3963:(M,E,s)=>{s.d(E,{c:()=>f});var _=s(2286);const f=t=>{let a,m,o;const i=()=>{a=()=>{o=!0,t&&t(!0)},m=()=>{o=!1,t&&t(!1)},null==_.w||_.w.addEventListener("keyboardWillShow",a),null==_.w||_.w.addEventListener("keyboardWillHide",m)};return i(),{init:i,destroy:()=>{null==_.w||_.w.removeEventListener("keyboardWillShow",a),null==_.w||_.w.removeEventListener("keyboardWillHide",m),a=m=void 0},isKeyboardVisible:()=>o}}},3844:(M,E,s)=>{s.d(E,{S:()=>f});const f={bubbles:{dur:1e3,circles:9,fn:(t,a,m)=>{const o=t*a/m-t+"ms",i=2*Math.PI*a/m;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(t,a,m)=>{const o=a/m,i=t*o-t+"ms",n=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(n)+"px",left:9*Math.cos(n)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(t,a)=>({r:6,style:{left:9-9*a+"px","animation-delay":-110*a+"ms"}})},lines:{dur:1e3,lines:8,fn:(t,a,m)=>({y1:14,y2:26,style:{transform:`rotate(${360/m*a+(a<m/2?180:-180)}deg)`,"animation-delay":t*a/m-t+"ms"}})},"lines-small":{dur:1e3,lines:8,fn:(t,a,m)=>({y1:12,y2:20,style:{transform:`rotate(${360/m*a+(a<m/2?180:-180)}deg)`,"animation-delay":t*a/m-t+"ms"}})},"lines-sharp":{dur:1e3,lines:12,fn:(t,a,m)=>({y1:17,y2:29,style:{transform:`rotate(${30*a+(a<6?180:-180)}deg)`,"animation-delay":t*a/m-t+"ms"}})},"lines-sharp-small":{dur:1e3,lines:12,fn:(t,a,m)=>({y1:12,y2:20,style:{transform:`rotate(${30*a+(a<6?180:-180)}deg)`,"animation-delay":t*a/m-t+"ms"}})}}},4293:(M,E,s)=>{s.r(E),s.d(E,{createSwipeBackGesture:()=>m});var _=s(9259),f=s(7481),t=s(9286);s(6379);const m=(o,i,n,c,u)=>{const e=o.ownerDocument.defaultView,l=(0,f.i)(o),g=r=>l?-r.deltaX:r.deltaX;return(0,t.createGesture)({el:o,gestureName:"goback-swipe",gesturePriority:40,threshold:10,canStart:r=>(r=>{const{startX:y}=r;return l?y>=e.innerWidth-50:y<=50})(r)&&i(),onStart:n,onMove:r=>{const y=g(r)/e.innerWidth;c(y)},onEnd:r=>{const d=g(r),y=e.innerWidth,C=d/y,S=(r=>l?-r.velocityX:r.velocityX)(r),J=S>=0&&(S>.2||d>y/2),L=(J?1-C:C)*y;let k=0;if(L>5){const B=L/Math.abs(S);k=Math.min(B,540)}u(J,C<=0?.01:(0,_.l)(0,C,.9999),k)}})}}}]);
//# sourceMappingURL=common.3fd1ccf62aff0fc1.js.map